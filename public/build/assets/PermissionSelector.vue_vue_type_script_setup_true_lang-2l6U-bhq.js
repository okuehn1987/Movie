import{d as V,as as g,at as j,G as _,o as n,B as m,e as u,b as c,p,F as b,C as h,q as v,c as w,v as i,t as y}from"./app-C48xMY2B.js";const B={class:"d-flex align-center"},O={class:"w-50"},S={class:"w-50"},C=V({__name:"PermissionSelector",props:g({permissions:{},label:{},errors:{},objKey:{}},{modelValue:{required:!0},modelModifiers:{}}),emits:["update:modelValue"],setup(d){const f=d,a=j(d,"modelValue"),r=_({get:()=>Object.entries(a.value).filter(([l,t])=>f.permissions.find(e=>e.name==l)&&t).map(([l])=>l),set:l=>{const t=l.reduce((e,o)=>(e[o]=a.value[o]||"read",e),{});a.value={...Object.fromEntries(Object.keys(a.value).map(e=>[e,null])),...t}}});return(l,t)=>(n(),m(b,null,[u(p,{cols:"12"},{default:c(()=>[u(v,{multiple:"",chips:"",label:l.label,modelValue:r.value,"onUpdate:modelValue":t[0]||(t[0]=e=>r.value=e),items:l.permissions.filter(e=>e.name in a.value).map(e=>({title:e.label,value:e.name}))},null,8,["label","modelValue","items"])]),_:1}),(n(!0),m(b,null,h(r.value,e=>(n(),w(p,{cols:"12",md:"6",key:e},{default:c(()=>{var o;return[i("div",B,[i("span",O,y((o=l.permissions.find(s=>s.name==e))==null?void 0:o.label),1),i("span",S,[u(v,{class:"ms-4",label:"Stufe",items:[{title:"Lesen",value:"read"},{title:"Schreiben",value:"write"}],modelValue:a.value[e],"onUpdate:modelValue":s=>a.value[e]=s,"error-messages":Object.entries(l.errors).filter(([s])=>s.includes(e)&&s.includes(l.objKey)).map(([,s])=>s)},null,8,["modelValue","onUpdate:modelValue","error-messages"])])])]}),_:2},1024))),128))],64))}});export{C as _};
