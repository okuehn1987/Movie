import{d as q,r,k as R,b as f,g as t,a as D,f as g,e as l,a6 as w,h as i,D as d,a0 as x,V as B,y as F,i as h,L as A,M as m,P as k,m as y,p as b,t as v,q as L,S as T,F as H,B as N}from"./app-BM1qJB1f.js";const P=q({__name:"HomeOfficeDayRequests",props:{homeOfficeDayRequests:{}},setup(O){const p=O,o=r(p.homeOfficeDayRequests.find(s=>s.id==Number(route().params.openHomeOfficeDay))??null),n=r(!!o.value),M=r(!1),u=r(1);function C(s,e){var c;const a=(c=p.homeOfficeDayRequests)==null?void 0:c.find(S=>S.id===e.item.id);a&&(o.value=a,n.value=!0)}function V(s){o.value&&N.patch(route("homeOfficeDay.updateStatus",{homeOfficeDayGenerator:o.value.id}),{accepted:s},{onSuccess:()=>{n.value=!1,M.value=!0}})}return(s,e)=>(f(),R(H,null,[t(x,{hover:"","items-per-page":"5",page:u.value,"onUpdate:page":e[1]||(e[1]=a=>u.value=a),"no-data-text":"keine AbwesenheitsantrÃ¤ge vorhanden.","onClick:row":C,items:s.homeOfficeDayRequests.map(a=>({id:a.id,user:a.user.first_name+" "+a.user.last_name,start:i(d).fromSQL(a.start).toFormat("dd.MM.yyyy"),end:i(d).fromSQL(a.end).toFormat("dd.MM.yyyy")})),headers:[{title:"Mitarbeiter",key:"user"},{title:"Von",key:"start"},{title:"Bis",key:"end"}]},{bottom:l(()=>[s.homeOfficeDayRequests.length>5?(f(),D(w,{key:0,modelValue:u.value,"onUpdate:modelValue":e[0]||(e[0]=a=>u.value=a),length:Math.ceil(s.homeOfficeDayRequests.length/5)},null,8,["modelValue","length"])):g("",!0)]),_:1},8,["page","items"]),o.value?(f(),D(T,{key:0,modelValue:n.value,"onUpdate:modelValue":e[5]||(e[5]=a=>n.value=a),"max-width":"1000"},{default:l(()=>[t(B,{title:"Homeoffice von "+o.value.user.first_name+" "+o.value.user.last_name},{append:l(()=>[t(y,{icon:"",variant:"text",onClick:e[2]||(e[2]=a=>n.value=!1)},{default:l(()=>[t(L,null,{default:l(()=>[...e[6]||(e[6]=[v("mdi-close",-1)])]),_:1})]),_:1})]),default:l(()=>[t(F),t(h,null,{default:l(()=>[t(A,null,{default:l(()=>[t(m,{cols:"12",md:"6"},{default:l(()=>[t(k,{label:"Von:","model-value":i(d).fromSQL(o.value.start).toFormat("dd.MM.yyyy"),readonly:""},null,8,["model-value"])]),_:1}),t(m,{cols:"12",md:"6"},{default:l(()=>[t(k,{label:"Bis:","model-value":i(d).fromSQL(o.value.end).toFormat("dd.MM.yyyy"),readonly:""},null,8,["model-value"])]),_:1})]),_:1})]),_:1}),t(m,{cols:"12",class:"d-flex justify-end ga-3"},{default:l(()=>[t(y,{color:"error",onClick:e[3]||(e[3]=b(a=>V(!1),["stop"]))},{default:l(()=>[...e[7]||(e[7]=[v("Ablehnen",-1)])]),_:1}),t(y,{color:"success",onClick:e[4]||(e[4]=b(a=>V(!0),["stop"]))},{default:l(()=>[...e[8]||(e[8]=[v("Akzeptieren",-1)])]),_:1})]),_:1})]),_:1},8,["title"])]),_:1},8,["modelValue"])):g("",!0)],64))}});export{P as _};
