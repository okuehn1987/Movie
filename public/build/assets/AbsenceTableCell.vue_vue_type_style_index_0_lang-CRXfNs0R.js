import{d as y,I as u,D as i,o as b,E as m,t as p,B as f,J as h}from"./app-BqEzPdNY.js";const k=["role","title"],_=y({__name:"AbsenceTableCell",props:{user:{},date:{},absences:{},absenceTypes:{},holidays:{}},setup(c){const a=c,n=u(()=>a.absences.find(e=>i.fromSQL(e.start)<=a.date&&a.date<=i.fromSQL(e.end)));function r(e,l){var s;return e.user_working_weeks.find(o=>{var t;return o[(t=l.setLocale("en-US").weekdayLong)==null?void 0:t.toLowerCase()]})&&!((s=a.holidays)!=null&&s[a.date.toFormat("yyyy-MM-dd")])}return(e,l)=>{var s,o;return b(),m("td",{style:f({backgroundColor:r(e.user,e.date)?"":"lightgray"}),class:h({"editable-cell":e.can("absence","create",a.user)}),role:e.can("absence","create",a.user)?"button":"cell",title:(s=a.holidays)==null?void 0:s[a.date.toFormat("yyyy-MM-dd")]},p(n.value&&r(e.user,e.date)?((o=e.absenceTypes.find(t=>{var d;return t.id===((d=n.value)==null?void 0:d.absence_type_id)}))==null?void 0:o.abbreviation)??"‚ùå":""),15,k)}}});export{_};
