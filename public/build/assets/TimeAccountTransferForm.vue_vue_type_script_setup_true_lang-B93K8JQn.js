import{d as V,C as _,o as g,c as v,a as s,u as o,v as b,b as a,f as u,T,e as i,l as m,g as f,h as C,k as S,m as A,p as n,q as c,s as p,V as k}from"./app-B-fuPrPk.js";const w=V({__name:"TimeAccountTransferForm",props:{time_accounts:{}},setup(x){const t=_({from_id:null,to_id:null,amount:0,description:""});return(d,l)=>(g(),v(b,{onAfterLeave:l[4]||(l[4]=r=>o(t).reset()),"max-width":"1000"},{activator:s(({props:r})=>[a(i,T(r,{color:"secondary",class:"me-2"}),{default:s(()=>[a(u,{icon:"mdi-transfer"})]),_:2},1040)]),default:s(({isActive:r})=>[a(k,{title:"Stundentransaktion durchführen"},{append:s(()=>[a(i,{icon:"",variant:"text",onClick:m(e=>r.value=!1,["stop"])},{default:s(()=>[a(u,null,{default:s(()=>l[5]||(l[5]=[f("mdi-close")])),_:1})]),_:2},1032,["onClick"])]),default:s(()=>[a(C,null,{default:s(()=>[a(S,{onSubmit:m(e=>{o(t).post(d.route("timeAccountTransaction.store"),{onSuccess:()=>{r.value=!1,o(t).reset()}})},["prevent"])},{default:s(()=>[a(A,null,{default:s(()=>[a(n,{cols:"12",md:"4"},{default:s(()=>[a(c,{"data-testid":"timeAccountTransactionStartAccount",items:d.time_accounts.filter(e=>e.id!=o(t).to_id&&e.deleted_at===null).map(e=>({title:e.name,value:e.id})),label:"Von",modelValue:o(t).from_id,"onUpdate:modelValue":l[0]||(l[0]=e=>o(t).from_id=e),"error-messages":o(t).errors.from_id},null,8,["items","modelValue","error-messages"])]),_:1}),a(n,{cols:"12",md:"4"},{default:s(()=>[a(c,{"data-testid":"timeAccountTransactionDestinationAccount",items:d.time_accounts.filter(e=>e.id!=o(t).from_id&&e.deleted_at===null).map(e=>({title:e.name,value:e.id})),label:"Nach",modelValue:o(t).to_id,"onUpdate:modelValue":l[1]||(l[1]=e=>o(t).to_id=e),"error-messages":o(t).errors.to_id},null,8,["items","modelValue","error-messages"])]),_:1}),a(n,{cols:"12",md:"4"},{default:s(()=>[a(p,{label:"Stunden",modelValue:o(t).amount,"onUpdate:modelValue":l[2]||(l[2]=e=>o(t).amount=e),"error-messages":o(t).errors.amount},null,8,["modelValue","error-messages"])]),_:1}),a(n,{cols:"12"},{default:s(()=>[a(p,{label:"Beschreibung",hint:"Die Beschreibung ist für die Darstellung der Historie",modelValue:o(t).description,"onUpdate:modelValue":l[3]||(l[3]=e=>o(t).description=e),"error-messages":o(t).errors.description},null,8,["modelValue","error-messages"])]),_:1}),a(n,{cols:"12",class:"text-end"},{default:s(()=>[a(i,{type:"submit",color:"primary",loading:o(t).processing},{default:s(()=>l[6]||(l[6]=[f(" Speichern ")])),_:1},8,["loading"])]),_:1})]),_:1})]),_:2},1032,["onSubmit"])]),_:2},1024)]),_:2},1024)]),_:1}))}});export{w as _};
