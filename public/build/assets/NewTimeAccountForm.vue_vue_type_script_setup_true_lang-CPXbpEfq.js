import{d as _,C as g,o as V,c as f,b as s,u as e,v as b,e as a,g as y,U as w,f as c,i as k,l as T,m as v,p as S,q as n,K as u,s as C,h as A,V as N}from"./app-C70O6Deq.js";import{e as x,d as U,r as F}from"./utils-ChetLCJ0.js";const B=_({__name:"NewTimeAccountForm",props:{user:{},time_account_settings:{}},setup(p){var d;const m=p,t=g({balance_limit:m.user.currentWorkingHours.weekly_working_hours*2,balance:0,time_account_setting_id:((d=m.time_account_settings.filter(o=>o.type!=null)[0])==null?void 0:d.id)??null,name:""});return(o,r)=>(V(),f(b,{onAfterLeave:r[4]||(r[4]=i=>e(t).reset()),"max-width":"1000"},{activator:s(({props:i})=>[a(c,w(i,{color:"primary"}),{default:s(()=>[a(y,{icon:"mdi-plus"})]),_:2},1040)]),default:s(({isActive:i})=>[a(N,{title:"Neues Arbeitszeitkonto erstellen"},{default:s(()=>[a(k,null,{default:s(()=>[a(T,{onSubmit:v(l=>{e(t).post(o.route("user.timeAccount.store",{user:o.user.id}),{onSuccess:()=>{i.value=!1,e(t).reset()}})},["prevent"])},{default:s(()=>[a(S,null,{default:s(()=>[a(n,{cols:"12",md:"6"},{default:s(()=>[a(u,{label:"Name",modelValue:e(t).name,"onUpdate:modelValue":r[0]||(r[0]=l=>e(t).name=l),"error-messages":e(t).errors.name},null,8,["modelValue","error-messages"])]),_:1}),a(n,{cols:"12",md:"6"},{default:s(()=>[a(C,{items:o.time_account_settings.filter(l=>l.type!=null).map(l=>({title:`${e(x)(l.type)} (${e(U)(l.truncation_cycle_length_in_months)})`,value:l.id})),label:"Typ",modelValue:e(t).time_account_setting_id,"onUpdate:modelValue":r[1]||(r[1]=l=>e(t).time_account_setting_id=l),"error-messages":e(t).errors.time_account_setting_id},null,8,["items","modelValue","error-messages"])]),_:1}),a(n,{cols:"12",md:"6"},{default:s(()=>[a(u,{label:"Limit in Stunden",hint:"entspricht "+e(F)(e(t).balance_limit/o.user.currentWorkingHours.weekly_working_hours,2)+"x wÃ¶chentliche Arbeitszeit",modelValue:e(t).balance_limit,"onUpdate:modelValue":r[2]||(r[2]=l=>e(t).balance_limit=l),"error-messages":e(t).errors.balance_limit},null,8,["hint","modelValue","error-messages"])]),_:1}),a(n,{cols:"12",md:"6"},{default:s(()=>[a(u,{label:"Startbetrag in Stunden",modelValue:e(t).balance,"onUpdate:modelValue":r[3]||(r[3]=l=>e(t).balance=l),"error-messages":e(t).errors.balance},null,8,["modelValue","error-messages"])]),_:1}),a(n,{cols:"12",class:"text-end"},{default:s(()=>[a(c,{type:"submit",color:"primary",loading:e(t).processing},{default:s(()=>r[5]||(r[5]=[A(" Speichern ")])),_:1},8,["loading"])]),_:1})]),_:1})]),_:2},1032,["onSubmit"])]),_:2},1024)]),_:2},1024)]),_:1}))}});export{B as _};
