import{d as b,a as c,o as g,b as t,f as e,V as S,g as v,j as D,k as m,u as l,L as _,M as i,n as x,N as p,q as d,s as f,v as V,x as A,i as C}from"./app-CbHgsF73.js";const k=b({__name:"TimeAccountTransactionForm",props:{item:{}},setup(T){const o=useForm({from_id:null,to_id:null,amount:0,description:"",addOrSub:"ADD"});return(s,n)=>(g(),c(C,{onAfterLeave:n[3]||(n[3]=r=>l(o).reset()),"max-width":"1000"},{activator:t(({props:r})=>[e(d,A(r,{color:"primary",icon:"",variant:"text"}),{default:t(()=>[e(V,{icon:"mdi-plus-minus"})]),_:1},16)]),default:t(({isActive:r})=>[e(S,{title:`Stunden für Konto ${s.item.name} bearbeiten`},{append:t(()=>[e(d,{icon:"",variant:"text",onClick:m(a=>r.value=!1,["stop"])},{default:t(()=>[e(V,null,{default:t(()=>[...n[4]||(n[4]=[f("mdi-close",-1)])]),_:1})]),_:1},8,["onClick"])]),default:t(()=>[e(v,null,{default:t(()=>[e(D,{onSubmit:m(a=>{l(o).transform(u=>({...u,amount:u.amount,from_id:u.addOrSub=="ADD"?null:s.item.id,to_id:u.addOrSub=="ADD"?s.item.id:null})).post(s.route("timeAccountTransaction.store"),{onSuccess:()=>{r.value=!1,l(o).reset()}})},["prevent"])},{default:t(()=>[e(_,null,{default:t(()=>[e(i,{cols:"12",md:"6"},{default:t(()=>[e(x,{items:[{title:"Stunden hinzufügen",value:"ADD"},{title:"Stunden abziehen",value:"SUB"}],label:"Vorgang",modelValue:l(o).addOrSub,"onUpdate:modelValue":n[0]||(n[0]=a=>l(o).addOrSub=a)},null,8,["modelValue"])]),_:1}),e(i,{cols:"12",md:"6"},{default:t(()=>[e(p,{type:"number",label:"Stunden",modelValue:l(o).amount,"onUpdate:modelValue":n[1]||(n[1]=a=>l(o).amount=a),"error-messages":l(o).errors.amount},null,8,["modelValue","error-messages"])]),_:1}),e(i,{cols:"12"},{default:t(()=>[e(p,{label:"Beschreibung",hint:"Die Beschreibung ist für die Darstellung der Historie",modelValue:l(o).description,"onUpdate:modelValue":n[2]||(n[2]=a=>l(o).description=a),"error-messages":l(o).errors.description},null,8,["modelValue","error-messages"])]),_:1}),e(i,{cols:"12",class:"text-end"},{default:t(()=>[e(d,{type:"submit",color:"primary",loading:l(o).processing},{default:t(()=>[...n[5]||(n[5]=[f(" Speichern ",-1)])]),_:1},8,["loading"])]),_:1})]),_:1})]),_:1},8,["onSubmit"])]),_:2},1024)]),_:2},1032,["title"])]),_:1}))}});export{k as _};
