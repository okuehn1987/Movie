import{_ as k}from"./ConfirmDelete.vue_vue_type_script_setup_true_lang-CSCUJ-J_.js";import{A as N}from"./AdminLayout-DRddqnCp.js";import{f as b}from"./utils-C_FhXjZ7.js";import{_ as S}from"./TicketOverview.vue_vue_type_script_setup_true_lang-BL3CEPuK.js";import{_ as h}from"./CreateEditCustomerOperatingSite.vue_vue_type_script_setup_true_lang-B7vJVEa_.js";import{_ as y}from"./CustomerContactDialog.vue_vue_type_script_setup_true_lang-B2ZBTjsJ.js";import{_ as V}from"./CustomerForm.vue_vue_type_script_setup_true_lang-CpZDLb-I.js";import{_ as C}from"./CustomerNotes.vue_vue_type_script_setup_true_lang-DmjnAzQP.js";import{d as $,r as w,a as n,o as i,b as t,f as s,E as O,G as d,s as o,H as B,I as c,V as g,_ as v,i as _,e as m,l as E,p as u,h as p,t as f}from"./app-BDc-_Frv.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./TicketTable.vue_vue_type_script_setup_true_lang-CxZPuZKG.js";import"./TicketCreateDialog.vue_vue_type_script_setup_true_lang-DuQYjEsZ.js";import"./types-BVvW7sCV.js";import"./TicketShowDialog.vue_vue_type_script_setup_true_lang-C5mmyKcD.js";import"./RecordCreateDialog.vue_vue_type_script_setup_true_lang-DPgJRWes.js";import"./TicketFinishDialog.vue_vue_type_script_setup_true_lang-DhvaUiWd.js";import"./TicketArchiveTable.vue_vue_type_script_setup_true_lang-BQcnQfw1.js";import"./TicketArchiveFilter.vue_vue_type_script_setup_true_lang-CbA5wWLk.js";import"./CreateEditCustomerNoteFolder.vue_vue_type_script_setup_true_lang-CCbaKNfp.js";import"./CreateEditCustomerNoteEntry.vue_vue_type_script_setup_true_lang-Bdbfk2pD.js";const K=["href"],A=["href"],D=["href"],ae=$({__name:"CustomerShow",props:{customer:{},operatingSites:{},customerNoteFolders:{},customerNoteEntries:{},users:{},ticketableOperatingSites:{},tickets:{},archiveTickets:{},ticketTab:{},tab:{}},setup(T){const l=w(T.tab);return(e,r)=>(i(),n(N,{title:"Kunde: "+e.customer.name,backurl:e.route("customer.index")},{default:t(()=>[s(O,{modelValue:l.value,"onUpdate:modelValue":r[0]||(r[0]=a=>l.value=a)},{default:t(()=>[s(d,{value:"customerData"},{default:t(()=>[...r[1]||(r[1]=[o("Stammdaten",-1)])]),_:1}),s(d,{value:"customerNotes"},{default:t(()=>[...r[2]||(r[2]=[o("Unterlagen",-1)])]),_:1}),s(d,{value:"tickets"},{default:t(()=>[...r[3]||(r[3]=[o("Tickets",-1)])]),_:1})]),_:1},8,["modelValue"]),s(B,{"model-value":l.value},{default:t(()=>[s(c,{value:"customerData"},{default:t(()=>[s(V,{customer:e.customer},null,8,["customer"]),s(g,{title:"Standort",class:"mt-4"},{default:t(()=>[s(v,{"fixed-header":"",headers:[{title:"Name",key:"name",sortable:!1},{title:"Adresse",key:"address",sortable:!1},{title:"",key:"actions",align:"end"}],items:e.operatingSites.map(a=>({...a,address:_(b)(a.current_address)}))},{"header.actions":t(()=>[e.can("customerOperatingSite","create")?(i(),n(h,{key:0,customer:e.customer},null,8,["customer"])):m("",!0)]),"item.actions":t(({item:a})=>[s(E,{color:"primary",variant:"text",target:"_blank",href:`https://www.google.com/maps/place/${_(b)(a.current_address)}/`},{default:t(()=>[s(u,null,{default:t(()=>[...r[4]||(r[4]=[o("mdi-map-marker-multiple",-1)])]),_:1})]),_:1},8,["href"]),e.can("customerOperatingSite","update")?(i(),n(h,{key:0,customer:e.customer,item:a},null,8,["customer","item"])):m("",!0),e.can("customerOperatingSite","delete")?(i(),n(k,{key:1,title:"Kundenstandort löschen",content:"Bist du dir sicher, dass du den Standort "+a.name+" löschen möchtest?",route:e.route("customerOperatingSite.destroy",{customerOperatingSite:a.id})},null,8,["content","route"])):m("",!0)]),_:1},8,["items"])]),_:1}),s(g,{title:"Kontakte",class:"mt-4"},{default:t(()=>[s(v,{"fixed-header":"",headers:[{title:"Name",key:"name",sortable:!1},{title:"Tätigkeit",key:"occupation",sortable:!1},{title:"Telefonnummer",key:"phone_number",sortable:!1},{title:"Telefonnummer",key:"mobile_number",sortable:!1},{title:"Email",key:"email",sortable:!1},{title:"",key:"actions",align:"end"}],items:e.customer.contacts},{"header.actions":t(()=>[e.can("customerContact","create")?(i(),n(y,{key:0,customer:e.customer},null,8,["customer"])):m("",!0)]),"item.phone_number":t(({item:a})=>[p("a",{class:"text-decoration-none text-black py-1",href:`tel:${a.phone_number}`},[s(u,{variant:"text"},{default:t(()=>[...r[5]||(r[5]=[o("mdi-phone",-1)])]),_:1}),o(" "+f(a.phone_number),1)],8,K)]),"item.mobile_number":t(({item:a})=>[p("a",{class:"text-decoration-none text-black py-1",href:`tel:${a.mobile_number}`},[s(u,{variant:"text"},{default:t(()=>[...r[6]||(r[6]=[o("mdi-phone",-1)])]),_:1}),o(" "+f(a.mobile_number),1)],8,A)]),"item.email":t(({item:a})=>[p("a",{class:"text-decoration-none text-black py-1",href:`mailto:${a.email}`},[s(u,{variant:"text"},{default:t(()=>[...r[7]||(r[7]=[o("mdi-email",-1)])]),_:1}),o(" "+f(a.email),1)],8,D)]),"item.actions":t(({item:a})=>[e.can("customerContact","update")?(i(),n(y,{key:0,customer:e.customer,contact:a},null,8,["customer","contact"])):m("",!0),e.can("customerContact","delete")?(i(),n(k,{key:1,title:"Kundenkontakt löschen",content:"Bist du dir sicher, dass du den Kontakt "+a.name+" löschen möchtest?",route:e.route("customerContact.destroy",{customerContact:a.id})},null,8,["content","route"])):m("",!0)]),_:1},8,["items"])]),_:1})]),_:1}),s(c,{value:"customerNotes"},{default:t(()=>[s(C,{customerNoteEntries:e.customerNoteEntries,customer:e.customer,customerNoteFolders:e.customerNoteFolders},null,8,["customerNoteEntries","customer","customerNoteFolders"])]),_:1}),s(c,{value:"tickets"},{default:t(()=>[s(S,{tickets:e.tickets,archiveTickets:e.archiveTickets,customers:[e.customer],users:e.users,operatingSites:e.ticketableOperatingSites,tab:e.ticketTab},null,8,["tickets","archiveTickets","customers","users","operatingSites","tab"])]),_:1})]),_:1},8,["model-value"])]),_:1},8,["title","backurl"]))}});export{ae as default};
