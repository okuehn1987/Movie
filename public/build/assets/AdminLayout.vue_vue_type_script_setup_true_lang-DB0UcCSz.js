import{d as y,o as n,v as b,c as i,w as o,b as t,ad as C,f as k,R as D,e as g,F as h,x as M,a0 as A,ae as z,j as p,u,a1 as s,l as V,af as L,g as v,t as f,C as w,L as c,Q as S,N as I,ag as P,r as T,ah as E,E as F,s as $,U as O,ai as U,aj as N,ak as j,G as _,al as G,a3 as Q,i as B,am as R,Z}from"./app-tWClGIV1.js";const q=y({__name:"AppbarActions",setup(m){function l(a){c.post(route("notification.update",{notification:a.id}),{},{onSuccess:()=>{if(a.type=="App\\Notifications\\PatchNotification")return c.get(route("dashboard",{openPatch:a.data.patch_id}));if(a.type=="App\\Notifications\\AbsenceNotification")return c.get(route("dashboard",{openAbsence:a.data.absence_id}))}})}return(a,e)=>(n(),b(h,null,[a.$page.props.auth.user.unread_notifications.length>0?(n(),i(z,{key:0},{activator:o(({props:r})=>[t(g,D({color:"primary"},r,{stacked:""}),{default:o(()=>[a.$page.props.auth.user.unread_notifications.length>0?(n(),i(C,{key:0,content:a.$page.props.auth.user.unread_notifications.length,color:"error"},{default:o(()=>[t(k,{icon:"mdi-bell"})]),_:2},1032,["content"])):(n(),i(k,{key:1,icon:"mdi-bell"}))]),_:2},1040)]),default:o(()=>[t(A,null,{default:o(()=>[(n(!0),b(h,null,M(a.$page.props.auth.user.unread_notifications,r=>(n(),i(s,{onClick:V(d=>l(r),["stop"]),key:r.id},{default:o(()=>[t(L,null,{default:o(()=>[v(f(r.data.title),1)]),_:2},1024)]),_:2},1032,["onClick"]))),128))]),_:1})]),_:1})):p("",!0),t(u(w),{href:a.route("profile.edit")},{default:o(()=>[t(g,{stacked:"",color:"black","prepend-icon":"mdi-account",title:"Profil"})]),_:1},8,["href"]),t(u(w),{method:"post",href:a.route("logout"),as:"button"},{default:o(()=>[t(g,{stacked:"",color:"black","prepend-icon":"mdi-logout",title:"Abmelden"})]),_:1},8,["href"])],64))}}),H=y({__name:"DrawerMenu",setup(m){const l=S(),a=I(()=>l.props.auth.user);return(e,r)=>(n(),i(A,{nav:"",selected:"","onUpdate:selected":r[0]||(r[0]=([d])=>u(c).get(d))},{default:o(()=>[a.value?(n(),b(h,{key:0},[a.value.role==="super-admin"?(n(),i(s,{key:0,active:e.route().current("organization.index"),value:e.route("organization.index"),"prepend-icon":"mdi-security",title:"Organisationen"},null,8,["active","value"])):p("",!0),t(s,{active:e.route().current("dashboard"),value:e.route("dashboard"),"prepend-icon":"mdi-view-dashboard",title:"Dashboard"},null,8,["active","value"]),t(s,{active:e.route().current("group.index"),value:e.route("group.index"),"prepend-icon":"mdi-dots-circle",title:"Abteilungen"},null,8,["active","value"]),e.$page.props.auth.user.user_administration?(n(),i(s,{key:1,active:e.route().current("user.index"),value:e.route("user.index"),"prepend-icon":"mdi-account-group",title:"Mitarbeitende"},null,8,["active","value"])):p("",!0),t(s,{active:e.route().current("users.workLogs"),value:e.route("users.workLogs"),"prepend-icon":"mdi-clock-outline",title:"Arbeitszeiten"},null,8,["active","value"]),t(s,{active:e.route().current("absence.index"),value:e.route("absence.index"),"prepend-icon":"mdi-timer-cancel-outline",title:"Abwesenheiten"},null,8,["active","value"]),t(s,{active:e.route().current("operatingSite.index"),value:e.route("operatingSite.index"),"prepend-icon":"mdi-map-marker",title:"BetriebsstÃ¤tten"},null,8,["active","value"]),t(s,{active:e.route().current("timeAccount.index"),value:e.route("timeAccount.index"),"prepend-icon":"mdi-timer",title:"Arbeitszeitkonten"},null,8,["active","value"]),t(s,{active:e.route().current("organization.show"),value:e.route("organization.show",{organization:e.$page.props.organization.id}),"prepend-icon":"mdi-domain",title:"Organisation"},null,8,["active","value"])],64)):p("",!0)]),_:1}))}}),J=(m,l)=>{const a=m.__vccOpts||m;for(const[e,r]of l)a[e]=r;return a},K=J(H,[["__scopeId","data-v-f5ea6449"]]),W={class:"text-center font-weight-medium"},Y=y({__name:"AdminLayout",props:{title:{},backurl:{}},setup(m){const l=P().smAndDown,a=T(!0);return E(()=>a.value=!l.value),(e,r)=>(n(),i(F,null,{default:o(()=>[t(u(Z),{title:e.title},null,8,["title"]),t(U,{color:"background",style:{border:"none"},modelValue:a.value,"onUpdate:modelValue":r[1]||(r[1]=d=>a.value=d),image:"/img/loggedin-background.png",permanent:!u(l)},{default:o(()=>[t(A,null,{default:o(()=>[t(s,{onClick:r[0]||(r[0]=d=>u(c).get("/")),class:"d-flex flex-row"},{default:o(()=>[$("h1",W,[t(k,{icon:"mdi-timer-lock"}),r[4]||(r[4]=$("span",{class:"ms-3"},"ShiftButler",-1))])]),_:1})]),_:1}),t(O),t(K)]),_:1},8,["modelValue","permanent"]),t(G,{elevation:"0",color:"background"},{default:o(()=>[e.backurl?(n(),i(N,{key:0,variant:"text",icon:"mdi-arrow-left",onClick:r[2]||(r[2]=V(d=>u(c).get(e.backurl),["stop"]))})):u(l)?(n(),i(N,{key:1,variant:"text",onClick:r[3]||(r[3]=V(d=>a.value=!a.value,["stop"]))})):p("",!0),t(j,null,{default:o(()=>[v(f(e.title),1)]),_:1}),_(e.$slots,"appbarActions"),t(q)]),_:3}),t(R,null,{default:o(()=>[t(Q,{class:"pt-0",fluid:""},{default:o(()=>[e.$page.props.flash.error?(n(),i(B,{type:"error",closable:"",class:"mb-6",key:Math.random()},{default:o(()=>[v(f(e.$page.props.flash.error),1)]),_:1})):p("",!0),e.$page.props.flash.success?(n(),i(B,{type:"success",closable:"",class:"mb-6",key:Math.random()},{default:o(()=>[v(f(e.$page.props.flash.success),1)]),_:1})):p("",!0),_(e.$slots,"default")]),_:3})]),_:3})]),_:3}))}});export{Y as _};
