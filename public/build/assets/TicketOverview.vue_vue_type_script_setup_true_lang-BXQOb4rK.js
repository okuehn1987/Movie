import{_ as d}from"./TicketTable.vue_vue_type_script_setup_true_lang-DQa58bfM.js";import{_ as c}from"./TicketArchiveTable.vue_vue_type_script_setup_true_lang-CI6mJSZZ.js";import{d as k,w as v,r as T,j as h,o as b,f as t,b as i,G as n,s as l,an as m,t as p,E as S,I as o,H as V,F as w}from"./app--YfpcduQ.js";const E=k({__name:"TicketOverview",props:{tickets:{},archiveTickets:{},customers:{},users:{},operatingSites:{},tab:{}},setup(g){const f=g;v(()=>f.tab,()=>{u.value=f.tab});const u=T(f.tab);return(e,a)=>(b(),h(w,null,[t(S,{modelValue:u.value,"onUpdate:modelValue":a[0]||(a[0]=s=>u.value=s)},{default:i(()=>[t(n,{value:"newTickets"},{default:i(()=>[a[2]||(a[2]=l(" Offene Aufträge ",-1)),t(m,{class:"ms-2"},{default:i(()=>[l(p(e.tickets.filter(s=>s.finished_at===null&&s.assignees.filter(r=>r.pivot.status=="accepted").length==0).length),1)]),_:1})]),_:1}),t(n,{value:"workingTickets"},{default:i(()=>[a[3]||(a[3]=l(" Aufträge in Bearbeitung ",-1)),t(m,{class:"ms-2"},{default:i(()=>[l(p(e.tickets.filter(s=>s.finished_at===null&&s.assignees.filter(r=>r.pivot.status=="accepted").length>0).length),1)]),_:1})]),_:1}),t(n,{value:"finishedTickets"},{default:i(()=>[a[4]||(a[4]=l(" Abgeschlossene Aufträge ",-1)),t(m,{class:"ms-2"},{default:i(()=>[l(p(e.tickets.filter(s=>s.finished_at!==null).length),1)]),_:1})]),_:1}),t(n,{value:"archive"},{default:i(()=>[...a[5]||(a[5]=[l("Archiv",-1)])]),_:1})]),_:1},8,["modelValue"]),t(V,{modelValue:u.value,"onUpdate:modelValue":a[1]||(a[1]=s=>u.value=s)},{default:i(()=>[t(o,{value:"newTickets"},{default:i(()=>[t(d,{tickets:e.tickets.filter(s=>s.finished_at===null&&s.assignees.filter(r=>r.pivot.status=="accepted").length==0),customers:e.customers,users:e.users,operatingSites:e.operatingSites,tab:"newTickets"},null,8,["tickets","customers","users","operatingSites"])]),_:1}),t(o,{value:"workingTickets"},{default:i(()=>[t(d,{tickets:e.tickets.filter(s=>s.finished_at===null&&s.assignees.filter(r=>r.pivot.status=="accepted").length>0),customers:e.customers,users:e.users,operatingSites:e.operatingSites,tab:"workingTickets"},null,8,["tickets","customers","users","operatingSites"])]),_:1}),t(o,{value:"finishedTickets"},{default:i(()=>[t(d,{tickets:e.tickets.filter(s=>s.finished_at!==null),customers:e.customers,users:e.users,operatingSites:e.operatingSites,tab:"finishedTickets"},null,8,["tickets","customers","users","operatingSites"])]),_:1}),t(o,{value:"archive"},{default:i(()=>[t(c,{archiveTickets:e.archiveTickets,customers:e.customers,users:e.users,operatingSites:e.operatingSites},null,8,["archiveTickets","customers","users","operatingSites"])]),_:1})]),_:1},8,["modelValue"])],64))}});export{E as _};
