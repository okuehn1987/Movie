import{d as p,T as g,o as V,c as b,w as s,u as e,q as f,b as a,f as w,R as y,e as c,h as k,k as T,l as S,m as v,n as r,B as u,p as A,g as C,V as N}from"./app-Q52Yrqcx.js";import{b as x,g as B,r as F}from"./utils-UNZYiVJ7.js";const h=p({__name:"NewTimeAccountForm",props:{user:{},time_account_settings:{}},setup(_){var d;const m=_,t=g({balance_limit:m.user.currentWorkingHours.weekly_working_hours*2,balance:0,time_account_setting_id:((d=m.time_account_settings[0])==null?void 0:d.id)??null,name:""});return(n,l)=>(V(),b(f,{onAfterLeave:l[4]||(l[4]=i=>e(t).reset()),"max-width":"1000"},{activator:s(({props:i})=>[a(c,y(i,{color:"primary"}),{default:s(()=>[a(w,{icon:"mdi-plus"})]),_:2},1040)]),default:s(({isActive:i})=>[a(N,{title:"Neues Arbeitszeitkonto erstellen"},{default:s(()=>[a(k,null,{default:s(()=>[a(T,{onSubmit:S(o=>{e(t).post(n.route("user.timeAccount.store",{user:n.user.id}),{onSuccess:()=>{i.value=!1,e(t).reset()}})},["prevent"])},{default:s(()=>[a(v,null,{default:s(()=>[a(r,{cols:"12",md:"6"},{default:s(()=>[a(u,{label:"Name",modelValue:e(t).name,"onUpdate:modelValue":l[0]||(l[0]=o=>e(t).name=o),"error-messages":e(t).errors.name},null,8,["modelValue","error-messages"])]),_:1}),a(r,{cols:"12",md:"6"},{default:s(()=>[a(A,{items:n.time_account_settings.map(o=>({title:`${e(x)(o.type)} (${e(B)(o.truncation_cycle_length_in_months)})`,value:o.id})),label:"Typ",modelValue:e(t).time_account_setting_id,"onUpdate:modelValue":l[1]||(l[1]=o=>e(t).time_account_setting_id=o),"error-messages":e(t).errors.time_account_setting_id},null,8,["items","modelValue","error-messages"])]),_:1}),a(r,{cols:"12",md:"6"},{default:s(()=>[a(u,{label:"Limit in Stunden",hint:"entspricht "+e(F)(e(t).balance_limit/n.user.currentWorkingHours.weekly_working_hours,2)+"x wÃ¶chentliche Arbeitszeit",modelValue:e(t).balance_limit,"onUpdate:modelValue":l[2]||(l[2]=o=>e(t).balance_limit=o),"error-messages":e(t).errors.balance_limit},null,8,["hint","modelValue","error-messages"])]),_:1}),a(r,{cols:"12",md:"6"},{default:s(()=>[a(u,{label:"Startbetrag in Stunden",modelValue:e(t).balance,"onUpdate:modelValue":l[3]||(l[3]=o=>e(t).balance=o),"error-messages":e(t).errors.balance},null,8,["modelValue","error-messages"])]),_:1}),a(r,{cols:"12",class:"text-end"},{default:s(()=>[a(c,{type:"submit",color:"primary",loading:e(t).processing},{default:s(()=>l[5]||(l[5]=[C(" Speichern ")])),_:1},8,["loading"])]),_:1})]),_:1})]),_:2},1032,["onSubmit"])]),_:2},1024)]),_:2},1024)]),_:1}))}});export{h as _};
