import{d as F,a as p,o as m,b as t,f as e,h as f,K as y,L as o,i as g,a9 as _,j as T,F as x,z as B,aa as z,g as s,D as V,aB as A,U as C,l as k,e as L,J as U,m as w,M as D,O as S,s as H,V as h}from"./app-CXxjfpm2.js";const I=F({__name:"OperatingTimeIndex",props:{operatingSite:{}},setup(v){const b=v,d=[{key:"monday",value:"Montag"},{key:"tuesday",value:"Dienstag"},{key:"wednesday",value:"Mittwoch"},{key:"thursday",value:"Donnerstag"},{key:"friday",value:"Freitag"},{key:"saturday",value:"Samstag"},{key:"sunday",value:"Sonntag"}],r=useForm({start:"",end:"",type:"monday"});function c(){r.post(route("operatingSite.operatingTime.store",{operatingSite:b.operatingSite.id}),{onSuccess:()=>r.reset()})}return(i,l)=>(m(),p(h,null,{default:t(()=>[e(f,null,{default:t(()=>[e(y,null,{default:t(()=>[e(o,{cols:"12"},{default:t(()=>[...l[3]||(l[3]=[g("h3",null,"Aktuelle Arbeitszeiten",-1)])]),_:1}),e(_,{"item-props":"",hover:""},{default:t(()=>[(m(!0),T(x,null,B(i.operatingSite.operating_times.toSorted((a,u)=>d.findIndex(n=>a.type===n.key)-d.findIndex(n=>u.type===n.key)),a=>{var u;return m(),p(z,{key:a.id,title:(u=d.find(n=>n.key===a.type))==null?void 0:u.value,subtitle:s(V).fromSQL(a.start).toFormat("HH:mm")+" Uhr - "+s(V).fromSQL(a.end).toFormat("HH:mm")+" Uhr"},A({_:2},[i.can("operatingTime","delete")?{name:"append",fn:t(()=>[e(s(C),{method:"delete",href:i.route("operatingTime.destroy",{operatingTime:a.id})},{default:t(()=>[e(k,{color:"error",class:"ms-2 mt-1",size:"small",variant:"text",icon:"mdi-delete"})]),_:1},8,["href"])]),key:"0"}:void 0]),1032,["title","subtitle"])}),128))]),_:1})]),_:1})]),_:1}),e(f,null,{default:t(()=>[i.can("operatingTime","create")?(m(),p(U,{key:0,onSubmit:w(c,["prevent"])},{default:t(()=>[e(y,null,{default:t(()=>[e(o,{cols:"12"},{default:t(()=>[...l[4]||(l[4]=[g("h3",null,"Arbeitszeiten hinzufügen",-1)])]),_:1}),e(o,{cols:"12",md:"4"},{default:t(()=>[e(D,{modelValue:s(r).type,"onUpdate:modelValue":l[0]||(l[0]=a=>s(r).type=a),label:"Wochentag",items:d,"item-title":"value","item-value":"key"},null,8,["modelValue"])]),_:1}),e(o,{cols:"12",md:"4"},{default:t(()=>[e(S,{type:"time",modelValue:s(r).start,"onUpdate:modelValue":l[1]||(l[1]=a=>s(r).start=a),"error-messages":s(r).errors.start,label:"Beginn des Arbeitstages"},null,8,["modelValue","error-messages"])]),_:1}),e(o,{cols:"12",md:"4"},{default:t(()=>[e(S,{type:"time",modelValue:s(r).end,"onUpdate:modelValue":l[2]||(l[2]=a=>s(r).end=a),"error-messages":s(r).errors.end,label:"Ende des Arbeitstages"},null,8,["modelValue","error-messages"])]),_:1}),e(o,{cols:"12",class:"text-end"},{default:t(()=>[e(k,{type:"submit",loading:s(r).processing,color:"primary"},{default:t(()=>[...l[5]||(l[5]=[H("Hinzufügen",-1)])]),_:1},8,["loading"])]),_:1})]),_:1})]),_:1})):L("",!0)]),_:1})]),_:1}))}});export{I as _};
