import{d as _,as as f,r as w,a as b,b as i,z as k,h as m,e as c,j as e,g as v,k as x,A as D,F,W as V,v as h,aD as B}from"./app-1qFcXoGo.js";const C=["colspan"],j={style:{width:"30%","padding-left":"64px"}},S={style:{width:"30%","text-align":"center"}},T={style:{width:"30%","text-align":"center"}},N=_({__name:"PaymentTable",props:{stats:{}},setup(y){const g=y,{stats:r}=f(g),o=new Date().getFullYear().toString(),u=new Date().getMonth()+1;o in r.value||(r.value[o]={[u]:{year:o,month:u,chat_cost:0,chats:0}});const p=w([o]);return(G,a)=>(i(),b(k,{expanded:p.value,"onUpdate:expanded":a[0]||(a[0]=s=>p.value=s),"fixed-header":"","no-data-text":"Keine Daten vorhanden",headers:[{title:"Zeitraum",key:"year",width:"30%"},{title:"Gesamte Chatkosten",key:"chat_cost",width:"30%",align:"center"},{title:"Geführte Chats",key:"chats",width:"30%",align:"center"},{title:"",key:"data-table-expand",width:"10%",sortable:!1,align:"end"}],items:Object.entries(m(r)).map(([s,d])=>{const t=Object.values(d);return{year:s,chat_cost:t.reduce((n,l)=>n+l.chat_cost,0).toFixed(2)+"€",chats:t.reduce((n,l)=>n+l.chats,0),monthsData:t}}),"item-value":"year"},{"header.data-table-expand":c(()=>[...a[1]||(a[1]=[])]),"expanded-row":c(({columns:s,item:d})=>[e("tr",null,[e("td",{colspan:s.length,class:"pa-0"},[v(V,{density:"comfortable",class:"w-100"},{default:c(()=>[e("tbody",null,[(i(!0),x(F,null,D(d.monthsData.toSorted((t,n)=>t.month-n.month),t=>(i(),x("tr",{key:t.month,class:"bg-grey-lighten-4"},[e("td",j,h(m(B).months()[t.month-1]),1),e("td",S,h(t.chat_cost.toFixed(2))+"€",1),e("td",T,h(t.chats),1),a[2]||(a[2]=e("td",{style:{width:"10%"}},null,-1))]))),128))])]),_:2},1024)],8,C)])]),_:1},8,["expanded","items"]))}});export{N as _};
