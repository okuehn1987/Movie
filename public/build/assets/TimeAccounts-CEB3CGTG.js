import{_ as g}from"./AdminLayout.vue_vue_type_script_setup_true_lang-BOg6X6SU.js";import{f as l,h,e as k}from"./utils-C__uNsXn.js";import{_ as b}from"./UserShowNavBar.vue_vue_type_script_setup_true_lang-SARmF5vx.js";import{_ as A}from"./TimeAccountTransferForm.vue_vue_type_script_setup_true_lang-fOx579eH.js";import{_ as T}from"./NewTimeAccountForm.vue_vue_type_script_setup_true_lang-DJZXFDrd.js";import{_ as v}from"./TimeAccountTransactionForm.vue_vue_type_script_setup_true_lang-BqwEI14N.js";import{_ as V}from"./TimeAccountSettingsForm.vue_vue_type_script_setup_true_lang-dPW477be.js";import{_ as $}from"./TimeAccountDeleteForm.vue_vue_type_script_setup_true_lang-DmYBiuOy.js";import{d as B,c as N,o as a,b as i,e as n,g as r,f as s,h as C,A as _,am as d,l as u,t as c,z as o,x as D}from"./app-s6gBDFVV.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";const I={class:"d-flex justify-end"},w={key:3,style:{width:"48px"}},z={key:1},O=B({__name:"TimeAccounts",props:{user:{},time_accounts:{},time_account_settings:{},defaultTimeAccountId:{}},setup(p){const f=p,m=N(()=>f.time_accounts.filter(e=>e.deleted_at==null));function y(e){return e.balance>0?"positive":e.balance<0?"negative":"balanced"}return(e,j)=>(a(),i(g,{title:e.user.first_name+" "+e.user.last_name},{default:n(()=>[r(b,{user:e.user,tab:"timeAccounts"},null,8,["user"]),r(D,{items:m.value.map(t=>({...t,type:o(h)(t.time_account_setting.type),truncation_cycle_length_in_months:o(k)(t.time_account_setting.truncation_cycle_length_in_months)})),headers:[{title:"Name",key:"name"},{title:"Ãœberstunden",key:"balance"},{title:"Limit",key:"balance_limit"},{title:"Typ",key:"type"},{title:"Berechnungszeitraum",key:"truncation_cycle_length_in_months"},{title:"",key:"actions",align:"end"}]},{"header.actions":n(()=>[e.can("timeAccountTransaction","create")?(a(),i(A,{key:0,time_accounts:e.time_accounts},null,8,["time_accounts"])):s("",!0),e.can("timeAccount","create")?(a(),i(T,{key:1,user:e.user,time_account_settings:e.time_account_settings},null,8,["user","time_account_settings"])):s("",!0)]),"item.actions":n(({item:t})=>[C("div",I,[e.can("timeAccountTransaction","create")?(a(),i(v,{key:0,item:t},null,8,["item"])):s("",!0),e.can("timeAccount","update")?(a(),i(V,{key:1,item:t,time_account_settings:e.time_account_settings,user:e.user},null,8,["item","time_account_settings","user"])):s("",!0),t.id!==e.defaultTimeAccountId&&e.can("timeAccount","delete")?(a(),i($,{key:2,item:t},null,8,["item"])):m.value.length>1&&e.can("timeAccount","delete")?(a(),_("div",w)):s("",!0)])]),"item.balance":n(({item:t})=>[r(d,{color:{positive:"success",negative:"error",balanced:"black"}[y(t)]},{default:n(()=>[u(c(o(l)(t.balance)),1)]),_:2},1032,["color"])]),"item.balance_limit":n(({item:t})=>[u(c(o(l)(t.balance_limit)),1)]),"item.type":n(({item:t})=>[t.id==e.defaultTimeAccountId?(a(),i(d,{key:0,color:"purple-darken-1"},{default:n(()=>[u(c(t.type),1)]),_:2},1024)):(a(),_("span",z,c(t.type),1))]),_:1},8,["items"])]),_:1},8,["title"]))}});export{O as default};
