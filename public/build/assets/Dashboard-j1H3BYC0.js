import{_ as p}from"./AdminLayout.vue_vue_type_script_setup_true_lang-rBKYqrIH.js";import{f}from"./utils-C6hGDhZV.js";import{d as g,r as k,o as i,b as d,e as t,g as e,M as o,L as u,n as _,j as y,z as l,G as V,V as b,T as v,D as m,U as H,f as h}from"./app-DN4nCXpW.js";import{_ as w}from"./Absences.vue_vue_type_script_setup_true_lang-DBtbP79i.js";import{_ as c}from"./WorkingHours.vue_vue_type_script_setup_true_lang-BWkbjSTW.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";const L=g({__name:"Dashboard",props:{user:{},supervisor:{},overtime:{},workingHours:{},currentAbsences:{},lastWeekEntries:{}},setup(C){const n=k(1);return(a,s)=>(i(),d(p,{title:"Dashboard von "+a.$page.props.auth.user.first_name+" "+a.$page.props.auth.user.last_name},{default:t(()=>[e(u,null,{default:t(()=>[e(o,{cols:"12",lg:"6"},{default:t(()=>[e(u,null,{default:t(()=>[e(o,{cols:"12"},{default:t(()=>[e(c,{user:a.user,overtime:a.overtime,workingHours:a.workingHours},null,8,["user","overtime","workingHours"])]),_:1}),e(o,{cols:"12"},{default:t(()=>[e(_,{title:"Zeiten der Aktuellen Woche"},{append:t(()=>[e(y,{icon:"mdi-eye",variant:"text",title:"Alle Zeiten anzeigen","data-testid":"workingHours",onClick:s[0]||(s[0]=r=>l(V).get(a.route("user.workLog.index",{user:a.$page.props.auth.user.id})))})]),default:t(()=>[e(b,null,{default:t(()=>[e(v,{page:n.value,"onUpdate:page":s[2]||(s[2]=r=>n.value=r),"items-per-page":"5",items:a.lastWeekEntries.map(r=>({...r,start:l(m).fromSQL(r.start).toFormat("dd.MM.yyyy HH:mm"),end:r.end?l(m).fromSQL(r.end).toFormat("dd.MM.yyyy HH:mm"):"Jetzt",duration:l(f)(r.duration,"minutes")})),headers:[{title:"Start",key:"start",sortable:!1},{title:"Ende",key:"end",sortable:!1},{title:"Dauer",key:"duration",sortable:!1}]},{bottom:t(()=>[a.lastWeekEntries.length>5?(i(),d(H,{key:0,modelValue:n.value,"onUpdate:modelValue":s[1]||(s[1]=r=>n.value=r),length:Math.ceil(a.lastWeekEntries.length/5)},null,8,["modelValue","length"])):h("",!0)]),_:1},8,["page","items"])]),_:1})]),_:1})]),_:1})]),_:1})]),_:1}),e(o,{cols:"12",lg:"6"},{default:t(()=>[e(u,null,{default:t(()=>[e(o,{cols:"12"},{default:t(()=>[e(w,{absences:a.currentAbsences},null,8,["absences"])]),_:1})]),_:1})]),_:1})]),_:1})]),_:1},8,["title"]))}});export{L as default};
