import{d as g,r as S,w as v,a as d,b as u,S as y,e as r,g as a,V as C,i as k,L as w,M as F,P as B,h as s,m as n,t as p,p as c,q as U,K,R as f}from"./app-BvjDqmIE.js";const T=g({__name:"CreateEditCustomerNoteFolder",props:{customer:{},editNoteFolder:{},createSubFolder:{},hasFolders:{type:Boolean}},setup(N){const V=N,i=S(!1),t=useForm({name:null});return v(i,e=>{if(!e)t.reset();else{const o=V.editNoteFolder;o?t.name=o.name??"":t.reset()}}),(e,o)=>(u(),d(y,{"max-width":"1000",modelValue:i.value,"onUpdate:modelValue":o[1]||(o[1]=l=>i.value=l)},{activator:r(({props:l})=>[e.editNoteFolder?(u(),d(n,f({key:0},l,{color:"primary",variant:"text",title:"Kategorie bearbeiten",icon:"mdi-pencil"}),null,16)):e.createSubFolder?(u(),d(n,f({key:1},l,{color:"primary",variant:"text",icon:"mdi-plus",title:"Neuen Unterordner anlegen"}),null,16)):(u(),d(n,f({key:2},l,{class:{"w-100":e.hasFolders},color:"primary",variant:"flat",title:"Neuen Ordner anlegen"}),{default:r(()=>[...o[2]||(o[2]=[p(" Ordner anlegen ",-1)])]),_:1},16,["class"]))]),default:r(({isActive:l})=>[a(K,{onSubmit:c(m=>{e.editNoteFolder?s(t).patch(e.route("customerNoteFolder.update",{customerNoteFolder:e.editNoteFolder.id}),{onSuccess:()=>{l.value=!1}}):e.createSubFolder?s(t).post(e.route("customer.customerNoteFolder.store",{customer:e.customer.id,customerNoteFolder:e.createSubFolder.id}),{onSuccess:()=>{s(t).reset(),l.value=!1}}):s(t).post(e.route("customer.customerNoteFolder.store",{customer:e.customer.id}),{onSuccess:()=>{s(t).reset(),l.value=!1}})},["prevent"])},{default:r(()=>{var m;return[a(C,{title:e.editNoteFolder?'Kategorie "'+((m=e.editNoteFolder)==null?void 0:m.name)+'" bearbeiten':e.createSubFolder?"Unterordner anlegen":"Ordner anlegen"},{append:r(()=>[a(n,{icon:"",variant:"text",onClick:c(()=>{l.value=!1},["stop"])},{default:r(()=>[a(U,null,{default:r(()=>[...o[3]||(o[3]=[p("mdi-close",-1)])]),_:1})]),_:1},8,["onClick"])]),default:r(()=>[a(k,null,{default:r(()=>[a(w,null,{default:r(()=>[a(F,{cols:"12"},{default:r(()=>[a(B,{label:"Bezeichnung",modelValue:s(t).name,"onUpdate:modelValue":o[0]||(o[0]=b=>s(t).name=b),"error-messages":s(t).errors.name},null,8,["modelValue","error-messages"])]),_:1}),a(F,{cols:"12",class:"text-end"},{default:r(()=>[a(n,{color:"primary",variant:"flat",type:"submit"},{default:r(()=>[...o[4]||(o[4]=[p("Speichern",-1)])]),_:1})]),_:1})]),_:1})]),_:1})]),_:2},1032,["title"])]}),_:2},1032,["onSubmit"])]),_:1},8,["modelValue"]))}});export{T as _};
