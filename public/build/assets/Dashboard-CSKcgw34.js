import{_ as f}from"./AdminLayout.vue_vue_type_script_setup_true_lang-D5uCmsnA.js";import{f as p}from"./utils-CjLNheiK.js";import{d as g,r as k,a as i,o as d,b as t,f as e,M as u,N as o,V as y,g as _,U as V,u as n,D as m,e as b,W as v,j as c,y as H}from"./app-BxPCh3-u.js";import{_ as w}from"./Absences.vue_vue_type_script_setup_true_lang-EsrAKtav.js";import{_ as C}from"./WorkingHours.vue_vue_type_script_setup_true_lang-C_0_3QHF.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";const B=g({__name:"Dashboard",props:{user:{},supervisor:{},overtime:{},workingHours:{},currentAbsences:{},lastWeekEntries:{}},setup(D){const l=k(1);return(r,s)=>(d(),i(f,{title:"Dashboard"},{default:t(()=>[e(u,null,{default:t(()=>[e(o,{cols:"12",lg:"6"},{default:t(()=>[e(u,null,{default:t(()=>[e(o,{cols:"12"},{default:t(()=>[e(C,{user:r.user,overtime:r.overtime,workingHours:r.workingHours},null,8,["user","overtime","workingHours"])]),_:1}),e(o,{cols:"12"},{default:t(()=>[e(y,{title:"Zeiten der Aktuellen Woche"},{append:t(()=>[e(c,{icon:"mdi-eye",variant:"text",title:"Alle Zeiten anzeigen","data-testid":"workingHours",onClick:s[0]||(s[0]=a=>n(H).get(r.route("user.workLog.index",{user:r.$page.props.auth.user.id})))})]),default:t(()=>[e(_,null,{default:t(()=>[e(V,{page:l.value,"onUpdate:page":s[2]||(s[2]=a=>l.value=a),"items-per-page":"5",items:r.lastWeekEntries.map(a=>({...a,start:n(m).fromSQL(a.start).toFormat("dd.MM.yyyy HH:mm"),end:a.end?n(m).fromSQL(a.end).toFormat("dd.MM.yyyy HH:mm"):"Jetzt",duration:n(p)(a.duration,"minutes")})),headers:[{title:"Start",key:"start",sortable:!1},{title:"Ende",key:"end",sortable:!1},{title:"Dauer",key:"duration",sortable:!1}]},{bottom:t(()=>[r.lastWeekEntries.length>5?(d(),i(v,{key:0,modelValue:l.value,"onUpdate:modelValue":s[1]||(s[1]=a=>l.value=a),length:Math.ceil(r.lastWeekEntries.length/5)},null,8,["modelValue","length"])):b("",!0)]),_:1},8,["page","items"])]),_:1})]),_:1})]),_:1})]),_:1})]),_:1}),e(o,{cols:"12",lg:"6"},{default:t(()=>[e(u,null,{default:t(()=>[e(o,{cols:"12"},{default:t(()=>[e(w,{absences:r.currentAbsences},null,8,["absences"])]),_:1})]),_:1})]),_:1})]),_:1})]),_:1}))}});export{B as default};
