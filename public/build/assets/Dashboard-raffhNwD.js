import{_ as g}from"./AdminLayout.vue_vue_type_script_setup_true_lang-cAHDDMQj.js";import{f as k}from"./utils-yNagpk-D.js";import{d as V,r as _,o as i,b as d,e as t,g as e,M as o,L as u,n as m,j as b,z as n,G as y,V as v,T as C,D as f,U as H,f as w,W as D,l as p,X as T}from"./app-B9laJSZm.js";import{_ as $}from"./Absences.vue_vue_type_script_setup_true_lang-f4GtO_Uz.js";import{_ as M}from"./WorkingHours.vue_vue_type_script_setup_true_lang-CaMJI0he.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";const N=V({__name:"Dashboard",props:{user:{},supervisor:{},overtime:{},workingHours:{},currentAbsences:{},lastWeekEntries:{}},setup(W){const l=_(1);return(a,r)=>(i(),d(g,{title:"Dashboard von "+a.$page.props.auth.user.first_name+" "+a.$page.props.auth.user.last_name},{default:t(()=>[e(u,null,{default:t(()=>[e(o,{cols:"12",lg:"6"},{default:t(()=>[e(u,null,{default:t(()=>[e(o,{cols:"12"},{default:t(()=>[e(M,{user:a.user,overtime:a.overtime,workingHours:a.workingHours},null,8,["user","overtime","workingHours"])]),_:1}),e(o,{cols:"12"},{default:t(()=>[e(m,{title:"Zeiten der Aktuellen Woche"},{append:t(()=>[e(b,{icon:"mdi-eye",variant:"text",title:"Alle Zeiten anzeigen","data-testid":"workingHours",onClick:r[0]||(r[0]=s=>n(y).get(a.route("user.workLog.index",{user:a.$page.props.auth.user.id})))})]),default:t(()=>[e(v,null,{default:t(()=>[e(C,{page:l.value,"onUpdate:page":r[2]||(r[2]=s=>l.value=s),"items-per-page":"5",items:a.lastWeekEntries.map(s=>({...s,start:n(f).fromSQL(s.start).toFormat("dd.MM.yyyy HH:mm"),end:s.end?n(f).fromSQL(s.end).toFormat("dd.MM.yyyy HH:mm"):"Jetzt",duration:n(k)(s.duration,"minutes")})),headers:[{title:"Start",key:"start",sortable:!1},{title:"Ende",key:"end",sortable:!1},{title:"Dauer",key:"duration",sortable:!1}]},{bottom:t(()=>[a.lastWeekEntries.length>5?(i(),d(H,{key:0,modelValue:l.value,"onUpdate:modelValue":r[1]||(r[1]=s=>l.value=s),length:Math.ceil(a.lastWeekEntries.length/5)},null,8,["modelValue","length"])):w("",!0)]),_:1},8,["page","items"])]),_:1})]),_:1})]),_:1})]),_:1})]),_:1}),e(o,{cols:"12",lg:"6"},{default:t(()=>[e(u,null,{default:t(()=>[e(o,{cols:"12"},{default:t(()=>[e($,{absences:a.currentAbsences},null,8,["absences"])]),_:1}),e(o,{cols:"12"},{default:t(()=>[e(m,null,{default:t(()=>[e(D,null,{default:t(()=>r[3]||(r[3]=[p("Informationen")])),_:1}),e(T,null,{default:t(()=>r[4]||(r[4]=[p("TODO: to be implemented")])),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1},8,["title"]))}});export{N as default};
