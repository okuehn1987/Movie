import{d as T,c as U,a as c,o as m,b as e,f as s,V as y,g as w,K as N,L as n,O as f,i as l,h as _,j as $,e as B,Q as j,s as d,t as D,l as i,m as V,A as E,p as F,P as M,J as P}from"./app-BiMmeGQz.js";const I={class:"d-flex justify-space-between"},J={key:1},Q=T({__name:"CustomerForm",props:{customer:{}},emits:["close"],setup(K,{emit:S}){var g,v,k,C;const u=K,b=U(()=>u.customer?"edit":"create"),L=S,r=useForm({name:((g=u.customer)==null?void 0:g.name)??"",email:((v=u.customer)==null?void 0:v.email)??"",phone:((k=u.customer)==null?void 0:k.phone)??"",reference_number:((C=u.customer)==null?void 0:C.reference_number)??""});return(a,o)=>(m(),c(P,{onSubmit:o[5]||(o[5]=V(t=>{var p;return(p=u.customer)!=null&&p.id?l(r).patch(a.route("customer.update",{customer:u.customer.id})):l(r).post(a.route("customer.store"))},["prevent"]))},{default:e(()=>[s(y,{title:b.value=="create"?"Neuen Kunden anlegen":""},{append:e(()=>[b.value=="create"?(m(),c(i,{key:0,icon:"",variant:"text",onClick:o[0]||(o[0]=t=>L("close"))},{default:e(()=>[s(F,null,{default:e(()=>[...o[6]||(o[6]=[d("mdi-close",-1)])]),_:1})]),_:1})):B("",!0)]),default:e(()=>[s(w,null,{default:e(()=>[s(N,null,{default:e(()=>[s(n,{cols:"12",md:"6"},{default:e(()=>[s(f,{label:"Name",modelValue:l(r).name,"onUpdate:modelValue":o[1]||(o[1]=t=>l(r).name=t),"error-messages":l(r).errors.name,disabled:!a.can("customer","update")},null,8,["modelValue","error-messages","disabled"])]),_:1}),s(n,{cols:"12",md:"6"},{default:e(()=>[s(f,{label:"E-Mail (optional)",modelValue:l(r).email,"onUpdate:modelValue":o[2]||(o[2]=t=>l(r).email=t),"error-messages":l(r).errors.email,disabled:!a.can("customer","update")},null,8,["modelValue","error-messages","disabled"])]),_:1}),s(n,{cols:"12",md:"6"},{default:e(()=>[s(f,{label:"Telefonnummer (optional)",modelValue:l(r).phone,"onUpdate:modelValue":o[3]||(o[3]=t=>l(r).phone=t),"error-messages":l(r).errors.phone,disabled:!a.can("customer","update")},null,8,["modelValue","error-messages","disabled"])]),_:1}),s(n,{cols:"12",md:"6"},{default:e(()=>[s(f,{label:"Kundennummer (optional)",modelValue:l(r).reference_number,"onUpdate:modelValue":o[4]||(o[4]=t=>l(r).reference_number=t),"error-messages":l(r).errors.reference_number,disabled:!a.can("customer","update")},null,8,["modelValue","error-messages","disabled"])]),_:1}),s(n,{cols:"12"},{default:e(()=>[_("div",I,[a.customer&&a.can("customer","delete")?(m(),c(j,{key:0,"max-width":"1000"},{activator:e(({props:t})=>[s(i,M(t,{color:"error"}),{default:e(()=>[...o[7]||(o[7]=[d("Löschen",-1)])]),_:1},16)]),default:e(({isActive:t})=>[s(y,{title:"Kunde Löschen"},{append:e(()=>[s(i,{icon:"",variant:"text",onClick:V(p=>t.value=!1,["stop"])},{default:e(()=>[s(F,null,{default:e(()=>[...o[8]||(o[8]=[d("mdi-close",-1)])]),_:1})]),_:1},8,["onClick"])]),default:e(()=>[s(w,null,{default:e(()=>[s(N,null,{default:e(()=>[s(n,{cols:"12"},{default:e(()=>[d(' Sind Sie sich sicher, dass der Kunde "'+D(a.customer.name)+'" gelöscht werden soll? ',1)]),_:1}),s(n,{cols:"12",class:"text-end"},{default:e(()=>[s(i,{onClick:V(p=>l(E).delete(a.route("customer.destroy",{customer:a.customer.id}),{onSuccess:()=>t.value=!1}),["stop"]),color:"error"},{default:e(()=>[...o[9]||(o[9]=[d(" Löschen ",-1)])]),_:1},8,["onClick"])]),_:2},1024)]),_:2},1024)]),_:2},1024)]),_:2},1024)]),_:1})):(m(),$("div",J)),a.can("customer","update")?(m(),c(i,{key:2,color:"primary",type:"submit"},{default:e(()=>[...o[10]||(o[10]=[d("speichern",-1)])]),_:1})):B("",!0)])]),_:1})]),_:1})]),_:1})]),_:1},8,["title"])]),_:1}))}});export{Q as _};
