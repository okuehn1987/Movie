import{d as F,B as k,C,a as n,o as s,b as e,f as o,V as R,x as U,h as $,J as q,K as A,j as y,L as d,O as f,s as i,F as O,e as _,l as m,m as V,p as N,R as S,A as h}from"./app-DiViWrGp.js";const z=F({__name:"ShowHomeOfficeModal",props:k({users:{},selectedHomeOffice:{}},{selectedUser:{required:!0},selectedUserModifiers:{},modelValue:{type:Boolean,required:!0},modelModifiers:{}}),emits:k(["homeOfficeReload"],["update:selectedUser","update:modelValue"]),setup(c,{emit:D}){const v=D,u=c,H=C(c,"selectedUser"),r=C(c,"modelValue");function b(){h.get(route("dispute.index",{openHomeOffice:u.selectedHomeOffice.home_office_day_generator_id}))}function w(){const l={onSuccess:()=>{r.value=!1,v("homeOfficeReload")}};h.delete(route("homeOfficeDay.destroyDispute",{homeOfficeDay:u.selectedHomeOffice.id}),l)}const B=useForm({});function M(){u.selectedHomeOffice&&B.delete(route("homeOfficeDay.destroy",{homeOfficeDay:u.selectedHomeOffice.id}),{onSuccess:()=>{r.value=!1,v("homeOfficeReload")}})}return(l,t)=>(s(),n(S,{"max-width":"1000",modelValue:r.value,"onUpdate:modelValue":t[1]||(t[1]=p=>r.value=p)},{default:e(({isActive:p})=>{var g;return[o(R,{title:"Abwesenheit"+(H.value!=l.$page.props.auth.user.id?" von "+((g=l.users.map(a=>({...a,name:a.first_name+" "+a.last_name})).find(a=>a.id===H.value))==null?void 0:g.name):"")},{append:e(()=>[o(m,{icon:"",variant:"text",onClick:a=>p.value=!1},{default:e(()=>[o(N,null,{default:e(()=>[...t[2]||(t[2]=[i("mdi-close",-1)])]),_:1})]),_:1},8,["onClick"])]),default:e(()=>[o(U),o($,null,{default:e(()=>[o(q,{readonly:""},{default:e(()=>[o(A,null,{default:e(()=>[o(d,{cols:"12"},{default:e(()=>[o(f,null,{default:e(()=>[...t[3]||(t[3]=[i("Homeoffice",-1)])]),_:1})]),_:1}),l.selectedHomeOffice.home_office_day_generator.created_as_request?(s(),y(O,{key:0},[o(d,{cols:"12",md:"6"},{default:e(()=>[o(f,{type:"date",label:"Von","model-value":l.selectedHomeOffice.home_office_day_generator.start},null,8,["model-value"])]),_:1}),o(d,{cols:"12",md:"6"},{default:e(()=>[o(f,{type:"date",label:"Bis","model-value":l.selectedHomeOffice.home_office_day_generator.end},null,8,["model-value"])]),_:1})],64)):(s(),y(O,{key:1},[o(d,{cols:"12",md:"6"},{default:e(()=>[o(f,{type:"date",label:"Von","model-value":l.selectedHomeOffice.date},null,8,["model-value"])]),_:1}),o(d,{cols:"12",md:"6"},{default:e(()=>[o(f,{type:"date",label:"Bis","model-value":l.selectedHomeOffice.date},null,8,["model-value"])]),_:1})],64)),o(d,{cols:"12",class:"text-end"},{default:e(()=>[l.selectedHomeOffice.status=="created"?(s(),y(O,{key:0},[l.can("user","viewDisputes")&&l.$page.props.auth.user.id!=l.selectedHomeOffice.user_id?(s(),n(m,{key:0,onClick:V(b,["stop"]),type:"button",color:"primary"},{default:e(()=>[...t[4]||(t[4]=[i(" Antrag öffnen ",-1)])]),_:1})):l.$page.props.auth.user.id==l.selectedHomeOffice.user_id?(s(),n(m,{key:1,onClick:V(w,["stop"]),type:"button",color:"primary"},{default:e(()=>[...t[5]||(t[5]=[i(" Antrag zurückziehen ",-1)])]),_:1})):_("",!0)],64)):l.selectedHomeOffice.status!=="declined"?(s(),n(m,{key:1,onClick:t[0]||(t[0]=V(a=>M(),["stop"])),color:"error"},{default:e(()=>[...t[6]||(t[6]=[i("Löschung beantragen",-1)])]),_:1})):_("",!0)]),_:1})]),_:1})]),_:1})]),_:1})]),_:2},1032,["title"])]}),_:1},8,["modelValue"]))}});export{z as _};
