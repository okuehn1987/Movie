import{d,T as c,w as _,o as p,c as g,b as n,u as t,s as V,e as a,g as f,W as b,f as m,i as y,l as w,m as S,n as T,p as r,I as u,q as v,h as C,V as k}from"./app-Dl5H85QD.js";import{d as A,e as $,r as h}from"./utils-CMhyecrx.js";const U=d({__name:"TimeAccountSettingsForm",props:{user:{},item:{},time_account_settings:{}},setup(F){const e=c({name:"",time_account_setting_id:null,balance_limit:0});return _(()=>e.balance_limit,()=>{e.balance_limit=+e.balance_limit.toString().replace(/[^\d,.]/g,"").replace(/,/,".")}),(o,i)=>(p(),g(V,{onAfterLeave:i[4]||(i[4]=s=>t(e).reset()),"max-width":"1000"},{activator:n(({props:s})=>[a(m,b(s,{onClick:i[0]||(i[0]=()=>{t(e).name=o.item.name,t(e).balance_limit=o.item.balance_limit,t(e).time_account_setting_id=o.item.time_account_setting_id}),color:"primary",icon:"",variant:"text"}),{default:n(()=>[a(f,{icon:"mdi-cog"})]),_:2},1040)]),default:n(({isActive:s})=>[a(k,{title:`Einstellungen für Konto ${o.item.name} bearbeiten`},{default:n(()=>[a(y,null,{default:n(()=>[a(w,{onSubmit:S(l=>{t(e).patch(o.route("timeAccount.update",{timeAccount:o.item.id}),{onSuccess:()=>{s.value=!1,t(e).reset()}})},["prevent"])},{default:n(()=>[a(T,null,{default:n(()=>[a(r,{cols:"12",md:"6"},{default:n(()=>[a(u,{modelValue:t(e).name,"onUpdate:modelValue":i[1]||(i[1]=l=>t(e).name=l),label:"Name","error-messages":t(e).errors.name},null,8,["modelValue","error-messages"])]),_:1}),a(r,{cols:"12",md:"6"},{default:n(()=>[a(v,{label:"Typ",items:o.time_account_settings.map(l=>({title:`${t(A)(l.type)} (${t($)(l.truncation_cycle_length_in_months)})`,value:l.id})),modelValue:t(e).time_account_setting_id,"onUpdate:modelValue":i[2]||(i[2]=l=>t(e).time_account_setting_id=l),"error-messages":t(e).errors.time_account_setting_id},null,8,["items","modelValue","error-messages"])]),_:1}),a(r,{cols:"12",md:"6"},{default:n(()=>[a(u,{modelValue:t(e).balance_limit,"onUpdate:modelValue":i[3]||(i[3]=l=>t(e).balance_limit=l),label:"Limit in Stunden",hint:"entspricht "+t(h)(t(e).balance_limit/o.user.currentWorkingHours.weekly_working_hours,2)+"x wöchentliche Arbeitszeit","error-messages":t(e).errors.balance_limit},null,8,["modelValue","hint","error-messages"])]),_:1}),a(r,{cols:"12",class:"text-end"},{default:n(()=>[a(m,{type:"submit",color:"primary",loading:t(e).processing},{default:n(()=>i[5]||(i[5]=[C(" Speichern ")])),_:1},8,["loading"])]),_:1})]),_:1})]),_:2},1032,["onSubmit"])]),_:2},1024)]),_:2},1032,["title"])]),_:1}))}});export{U as _};
