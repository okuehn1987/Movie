import{d as k,c as S,r as F,a as d,f as _,b as p,e,g as a,V as w,y as A,i as N,K as B,p as D,L as M,M as g,P as T,h as l,N as U,m,t as v,q as b,R as y,S as G}from"./app-Uyw72iHo.js";const $=k({__name:"GroupDialogForm",props:{group:{},users:{}},setup(x){var V,c;const u=x,f=S(()=>u.group?"edit":"create"),n=F(!1),o=useForm({name:((V=u.group)==null?void 0:V.name)??"",users:((c=u.group)==null?void 0:c.users.map(i=>i.id))??[]});function C(){u.group?o.patch(route("group.update",{group:u.group.id}),{onSuccess:()=>{n.value=!1}}):o.post(route("group.store"),{onSuccess:()=>{o.reset(),n.value=!1}})}return(i,s)=>i.can("group","create")?(p(),d(G,{key:0,modelValue:n.value,"onUpdate:modelValue":s[3]||(s[3]=t=>n.value=t),"max-width":"1000"},{activator:e(({props:t})=>[f.value=="create"?(p(),d(m,y({key:0},t,{color:"primary"}),{default:e(()=>[a(b,{icon:"mdi-plus"})]),_:1},16)):(p(),d(m,y({key:1},t,{color:"primary",variant:"text",icon:"mdi-eye"}),null,16))]),default:e(({isActive:t})=>[a(w,{title:"Abteilung"+(f.value=="create"?"erstellen":"bearbeiten")},{append:e(()=>[a(m,{icon:"",variant:"text",onClick:r=>{t.value=!1,l(o).reset()}},{default:e(()=>[a(b,null,{default:e(()=>[...s[4]||(s[4]=[v("mdi-close",-1)])]),_:1})]),_:1},8,["onClick"])]),default:e(()=>[a(A),a(N,null,{default:e(()=>[a(B,{onSubmit:s[2]||(s[2]=D(r=>C(),["prevent"]))},{default:e(()=>[a(M,null,{default:e(()=>[a(g,{cols:"12",sm:"6"},{default:e(()=>[a(T,{modelValue:l(o).name,"onUpdate:modelValue":s[0]||(s[0]=r=>l(o).name=r),"error-messages":l(o).errors.name,label:"Abteilungsname"},null,8,["modelValue","error-messages"])]),_:1}),a(g,{cols:"12",sm:"6"},{default:e(()=>[a(U,{"data-testid":"employeeGroupAssignment",modelValue:l(o).users,"onUpdate:modelValue":s[1]||(s[1]=r=>l(o).users=r),"error-messages":l(o).errors.users,items:i.users.map(r=>({value:r.id,title:r.name})),label:"Wähle Mitarbeiter aus, die zur Abteilung gehören (optional)",multiple:"",chips:""},null,8,["modelValue","error-messages","items"])]),_:1}),a(g,{cols:"12",class:"text-end"},{default:e(()=>[a(m,{loading:l(o).processing,type:"submit",color:"primary"},{default:e(()=>[...s[5]||(s[5]=[v("Speichern",-1)])]),_:1},8,["loading"])]),_:1})]),_:1})]),_:1})]),_:1})]),_:2},1032,["title"])]),_:1},8,["modelValue"])):_("",!0)}});export{$ as _};
