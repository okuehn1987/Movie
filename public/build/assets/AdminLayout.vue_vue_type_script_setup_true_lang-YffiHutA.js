import{d as h,o as n,v as y,c as s,w as o,b as a,a5 as z,f as b,R as B,e as g,F as A,x as D,a0 as k,a6 as M,j as m,u,C as w,a1 as _,l as v,a7 as S,g as f,t as d,L as p,Q as L,N as P,a8 as T,r as E,a9 as F,E as O,Z as U,s as $,U as j,aa as G,ab as I,ac as Q,G as N,ad as R,ae as Z,i as C,af as q}from"./app-Cnt5irAF.js";import{_ as H}from"./_plugin-vue_export-helper-DlAUqK2U.js";const J=h({__name:"AppbarActions",setup(V){function l(t){p.post(route("notification.update",{notification:t.id}),{},{onSuccess:()=>{if(t.type=="App\\Notifications\\PatchNotification")return p.get(route("dashboard",{openPatch:t.data.patch_id}));if(t.type=="App\\Notifications\\AbsenceNotification")return p.get(route("dashboard",{openAbsence:t.data.absence_id}))}})}return(t,e)=>(n(),y(A,null,[t.$page.props.auth.user.unread_notifications.length>0?(n(),s(M,{key:0},{activator:o(({props:r})=>[a(g,B({color:"primary"},r,{stacked:""}),{default:o(()=>[t.$page.props.auth.user.unread_notifications.length>0?(n(),s(z,{key:0,content:t.$page.props.auth.user.unread_notifications.length,color:"error"},{default:o(()=>[a(b,{icon:"mdi-bell"})]),_:2},1032,["content"])):(n(),s(b,{key:1,icon:"mdi-bell"}))]),_:2},1040)]),default:o(()=>[a(k,null,{default:o(()=>[(n(!0),y(A,null,D(t.$page.props.auth.user.unread_notifications,r=>(n(),s(_,{onClick:v(i=>l(r),["stop"]),key:r.id},{default:o(()=>[a(S,null,{default:o(()=>[f(d(r.data.title),1)]),_:2},1024)]),_:2},1032,["onClick"]))),128))]),_:1})]),_:1})):m("",!0),a(u(w),{href:t.route("profile.edit")},{default:o(()=>[a(g,{stacked:"",color:"black","prepend-icon":"mdi-account",title:"Profil"})]),_:1},8,["href"]),a(u(w),{method:"post",href:t.route("logout"),as:"button"},{default:o(()=>[a(g,{stacked:"",color:"black","prepend-icon":"mdi-logout",title:"Abmelden"})]),_:1},8,["href"])],64))}}),K=h({__name:"DrawerMenu",setup(V){const l=L(),t=P(()=>l.props.auth.user);return(e,r)=>(n(),s(k,{nav:"","onClick:select":r[0]||(r[0]=i=>u(p).get(i.id)),items:[{props:{active:e.route().current("dashboard"),prependIcon:"mdi-view-dashboard"},value:e.route("dashboard"),title:"Dashboard"},{props:{active:e.route().current("absence.index"),prependIcon:"mdi-timer-cancel-outline"},value:e.route("absence.index"),title:"Abwesenheiten"},{props:{active:e.route().current("users.workLogs"),prependIcon:"mdi-clock-outline"},value:e.route("users.workLogs"),title:"Arbeitszeiten"},{type:"divider"},{type:"subheader",title:"Admin"},{title:"Organisation",subtitle:"test",value:e.route("organization.show",{organization:e.$page.props.organization.id}),props:{prependIcon:"mdi-domain",active:e.route().current("organization.show")}},{props:{active:e.route().current("operatingSite.index"),prependIcon:"mdi-map-marker"},value:e.route("operatingSite.index"),title:"BetriebsstÃ¤tten"},{props:{active:e.route().current("group.index"),prependIcon:"mdi-dots-circle"},value:e.route("group.index"),title:"Abteilungen"},e.$page.props.auth.user.user_administration&&{props:{active:e.route().current("user.index"),prependIcon:"mdi-account-group"},value:e.route("user.index"),title:"Mitarbeitende"},{props:{active:e.route().current("timeAccountSetting.index"),prependIcon:"mdi-timer"},value:e.route("timeAccountSetting.index"),title:"Arbeitszeitkonten"},{props:{prependIcon:"mdi-tree",active:e.route().current("organization.tree")},value:e.route("organization.tree"),title:"Organigramm"},...t.value.role==="super-admin"?[{type:"divider"},{type:"subheader",title:"Super-Admin"},{props:{prependIcon:"mdi-security",active:e.route().current("organization.index")},value:e.route("organization.index"),title:"Organisationen"}]:[]].filter(Boolean)},null,8,["items"]))}}),W=H(K,[["__scopeId","data-v-894dcbea"]]),X={class:"text-center font-weight-medium"},Y={class:"ms-3"},te=h({__name:"AdminLayout",props:{title:{},backurl:{}},setup(V){const l=T().smAndDown,t=E(!0);F(()=>t.value=!l.value);const e="Shiftbutler";return(r,i)=>(n(),s(O,null,{default:o(()=>[a(u(U),{title:r.title},null,8,["title"]),a(G,{color:"background",style:{border:"none"},modelValue:t.value,"onUpdate:modelValue":i[1]||(i[1]=c=>t.value=c),image:"/img/loggedin-background.png",permanent:!u(l)},{default:o(()=>[a(k,null,{default:o(()=>[a(_,{onClick:i[0]||(i[0]=c=>u(p).get("/")),class:"d-flex flex-row"},{default:o(()=>[$("h1",X,[a(b,{icon:"mdi-timer-lock"}),$("span",Y,d(u(e)),1)])]),_:1})]),_:1}),a(j),a(W)]),_:1},8,["modelValue","permanent"]),a(R,{elevation:"0",color:"background"},{default:o(()=>[r.backurl?(n(),s(I,{key:0,variant:"text",icon:"mdi-arrow-left",onClick:i[2]||(i[2]=v(c=>u(p).get(r.backurl),["stop"]))})):u(l)?(n(),s(I,{key:1,variant:"text",onClick:i[3]||(i[3]=v(c=>t.value=!t.value,["stop"]))})):m("",!0),a(Q,null,{default:o(()=>[f(d(r.title),1)]),_:1}),N(r.$slots,"appbarActions"),a(J)]),_:3}),a(q,null,{default:o(()=>[a(Z,{class:"pt-0",fluid:""},{default:o(()=>[r.$page.props.flash.error?(n(),s(C,{type:"error",closable:"",class:"mb-6",key:Math.random()},{default:o(()=>[f(d(r.$page.props.flash.error),1)]),_:1})):m("",!0),r.$page.props.flash.success?(n(),s(C,{type:"success",closable:"",class:"mb-6",key:Math.random()},{default:o(()=>[f(d(r.$page.props.flash.success),1)]),_:1})):m("",!0),N(r.$slots,"default")]),_:3})]),_:3})]),_:3}))}});export{te as _};
