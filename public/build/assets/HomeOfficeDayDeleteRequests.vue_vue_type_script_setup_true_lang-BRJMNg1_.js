import{d as q,r as y,k as x,b as v,g as l,a as O,f as M,e as a,a6 as L,h as d,D as u,a0 as S,V as B,y as T,i as P,L as N,M as i,P as p,t as f,m as D,p as b,q as Q,S as A,F as U}from"./app-VJNhXN4_.js";const h=q({__name:"HomeOfficeDayDeleteRequests",props:{requestedDeletes:{}},setup(F){var k;const V=F,o=y(((k=V.requestedDeletes)==null?void 0:k.find(s=>s.id==Number(route().params.openHomeOfficeDayDelete)))??null),n=y(!!o.value),r=y(1);function C(s){var t;const e=(t=V.requestedDeletes)==null?void 0:t.find(m=>m.id===s.id);e&&(o.value=e,n.value=!0)}const g=useForm({});function w(){o.value&&g.delete(route("homeOfficeDay.destroy",{homeOfficeDay:o.value.id}),{onSuccess:()=>{n.value=!1}})}const c=useForm({});function H(){o.value&&c.delete(route("homeOfficeDay.denyDestroy",{homeOfficeDay:o.value.id}),{onSuccess:()=>{n.value=!1}})}return(s,e)=>(v(),x(U,null,[l(S,{hover:"","items-per-page":"5",page:r.value,"onUpdate:page":e[1]||(e[1]=t=>r.value=t),"no-data-text":"keine Abwesenheitsanträge vorhanden.","onClick:row":e[2]||(e[2]=(t,m)=>C(m.item)),items:s.requestedDeletes.map(t=>({id:t.id,user:t.user.first_name+" "+t.user.last_name,start:d(u).fromSQL(t.date).toFormat("dd.MM.yyyy"),end:d(u).fromSQL(t.date).toFormat("dd.MM.yyyy")})),headers:[{title:"Mitarbeiter",key:"user"},{title:"Von",key:"start"},{title:"Bis",key:"end"}]},{bottom:a(()=>[s.requestedDeletes.length>5?(v(),O(L,{key:0,modelValue:r.value,"onUpdate:modelValue":e[0]||(e[0]=t=>r.value=t),length:Math.ceil(s.requestedDeletes.length/5)},null,8,["modelValue","length"])):M("",!0)]),_:1},8,["page","items"]),o.value?(v(),O(A,{key:0,modelValue:n.value,"onUpdate:modelValue":e[6]||(e[6]=t=>n.value=t),"max-width":"1000"},{default:a(()=>[l(B,{title:"Abwesenheit von "+o.value.user.first_name+" "+o.value.user.last_name},{append:a(()=>[l(D,{icon:"",variant:"text",onClick:e[3]||(e[3]=t=>n.value=!1)},{default:a(()=>[l(Q,null,{default:a(()=>[...e[7]||(e[7]=[f("mdi-close",-1)])]),_:1})]),_:1})]),default:a(()=>[l(T),l(P,null,{default:a(()=>[l(N,null,{default:a(()=>[l(i,{cols:"12"},{default:a(()=>[l(p,{readonly:""},{default:a(()=>[...e[8]||(e[8]=[f("Homeoffice",-1)])]),_:1})]),_:1}),l(i,{cols:"12",md:"6"},{default:a(()=>[l(p,{label:"Von:","model-value":d(u).fromSQL(o.value.date).toFormat("dd.MM.yyyy"),readonly:""},null,8,["model-value"])]),_:1}),l(i,{cols:"12",md:"6"},{default:a(()=>[l(p,{label:"Bis:","model-value":d(u).fromSQL(o.value.date).toFormat("dd.MM.yyyy"),readonly:""},null,8,["model-value"])]),_:1})]),_:1})]),_:1}),l(i,{cols:"12",class:"d-flex justify-end ga-2"},{default:a(()=>[l(D,{color:"primary",onClick:e[4]||(e[4]=b(t=>H(),["stop"])),loading:d(c).processing},{default:a(()=>[...e[9]||(e[9]=[f("Löschen ablehnen",-1)])]),_:1},8,["loading"]),l(D,{color:"error",onClick:e[5]||(e[5]=b(t=>w(),["stop"])),loading:d(g).processing},{default:a(()=>[...e[10]||(e[10]=[f("Abwesenheit Löschen",-1)])]),_:1},8,["loading"])]),_:1})]),_:1},8,["title"])]),_:1},8,["modelValue"])):M("",!0)],64))}});export{h as _};
