import{_ as g}from"./AdminLayout.vue_vue_type_script_setup_true_lang-CcvRXbfx.js";import{f as l,h as k,e as h}from"./utils-u7_3xwY7.js";import{_ as b}from"./UserShowNavBar.vue_vue_type_script_setup_true_lang-Kwgc2zT9.js";import{_ as A}from"./TimeAccountTransferForm.vue_vue_type_script_setup_true_lang-Dsh3CIkp.js";import{_ as T}from"./NewTimeAccountForm.vue_vue_type_script_setup_true_lang-BzBCaric.js";import{_ as v}from"./TimeAccountTransactionForm.vue_vue_type_script_setup_true_lang-BDfAe-in.js";import{_ as V}from"./TimeAccountSettingsForm.vue_vue_type_script_setup_true_lang-gwgcq7Cw.js";import{_ as $}from"./TimeAccountDeleteForm.vue_vue_type_script_setup_true_lang-DthoUDzo.js";import{d as B,c as N,o as a,a as i,b as n,f as r,e as s,g as C,q as _,al as d,k as u,t as c,u as o,n as D}from"./app-BoSVJM8y.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";const I={class:"d-flex justify-end"},w={key:3,style:{width:"48px"}},j={key:1},O=B({__name:"TimeAccounts",props:{user:{},time_accounts:{},time_account_settings:{},defaultTimeAccountId:{}},setup(p){const f=p,m=N(()=>f.time_accounts.filter(e=>e.deleted_at==null));function y(e){return e.balance>0?"positive":e.balance<0?"negative":"balanced"}return(e,q)=>(a(),i(g,{title:e.user.first_name+" "+e.user.last_name},{default:n(()=>[r(b,{user:e.user,tab:"timeAccounts"},null,8,["user"]),r(D,{items:m.value.map(t=>({...t,type:o(k)(t.time_account_setting.type),truncation_cycle_length_in_months:o(h)(t.time_account_setting.truncation_cycle_length_in_months)})),headers:[{title:"Name",key:"name"},{title:"Ãœberstunden",key:"balance"},{title:"Limit",key:"balance_limit"},{title:"Typ",key:"type"},{title:"Berechnungszeitraum",key:"truncation_cycle_length_in_months"},{title:"",key:"actions",align:"end"}]},{"header.actions":n(()=>[e.can("timeAccountTransaction","create")?(a(),i(A,{key:0,time_accounts:e.time_accounts},null,8,["time_accounts"])):s("",!0),e.can("timeAccount","create")?(a(),i(T,{key:1,user:e.user,time_account_settings:e.time_account_settings},null,8,["user","time_account_settings"])):s("",!0)]),"item.actions":n(({item:t})=>[C("div",I,[e.can("timeAccountTransaction","create")?(a(),i(v,{key:0,item:t},null,8,["item"])):s("",!0),e.can("timeAccount","update")?(a(),i(V,{key:1,item:t,time_account_settings:e.time_account_settings,user:e.user},null,8,["item","time_account_settings","user"])):s("",!0),t.id!==e.defaultTimeAccountId&&e.can("timeAccount","delete")?(a(),i($,{key:2,item:t},null,8,["item"])):m.value.length>1&&e.can("timeAccount","delete")?(a(),_("div",w)):s("",!0)])]),"item.balance":n(({item:t})=>[r(d,{color:{positive:"success",negative:"error",balanced:"black"}[y(t)]},{default:n(()=>[u(c(o(l)(t.balance)),1)]),_:2},1032,["color"])]),"item.balance_limit":n(({item:t})=>[u(c(o(l)(t.balance_limit)),1)]),"item.type":n(({item:t})=>[t.id==e.defaultTimeAccountId?(a(),i(d,{key:0,color:"purple-darken-1"},{default:n(()=>[u(c(t.type),1)]),_:2},1024)):(a(),_("span",j,c(t.type),1))]),_:1},8,["items"])]),_:1},8,["title"]))}});export{O as default};
