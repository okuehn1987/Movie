import{d as g,y as k,z as w,o as c,a as r,b as s,B as C,f as t,h as p,j as _,k as b,V as h,E as B,H as M,I as d,J as D,K as V,i as A,e as z,v as N,G as o}from"./app-BjDVB6Ua.js";const S=g({__name:"ShowAbsenceModal",props:k({users:{},absence_types:{},selectedAbsence:{},absenceUser:{}},{modelValue:{type:Boolean,required:!0},modelModifiers:{}}),emits:["update:modelValue"],setup(m){const n=m,u=w(m,"modelValue");function v(){"absence_id"in n.selectedAbsence?o.get(route("dispute.index",{openAbsencePatch:n.selectedAbsence.absence_id})):o.get(route("dispute.index",{openAbsence:n.selectedAbsence.id}))}function y(){const e={onSuccess:()=>{u.value=!1}};"absence_id"in n.selectedAbsence?o.delete(route("absencePatch.destroy",{absencePatch:n.selectedAbsence.id}),e):o.delete(route("absence.destroyDispute",{absence:n.selectedAbsence.id}),e)}return(e,a)=>(c(),r(C,{"max-width":"1000",modelValue:u.value,"onUpdate:modelValue":a[0]||(a[0]=i=>u.value=i)},{default:s(({isActive:i})=>{var f;return[t(N,{title:"Abwesenheit"+(e.selectedAbsence.user_id!=e.$page.props.auth.user.id?" von "+((f=e.users.map(l=>({...l,name:l.first_name+" "+l.last_name})).find(l=>l.id===e.selectedAbsence.user_id))==null?void 0:f.name):"")+" beantragen"},{append:s(()=>[t(p,{icon:"",variant:"text",onClick:l=>i.value=!1},{default:s(()=>[t(_,null,{default:s(()=>a[1]||(a[1]=[b("mdi-close")])),_:1})]),_:2},1032,["onClick"])]),default:s(()=>[t(h,null,{default:s(()=>[t(B,{readonly:""},{default:s(()=>[t(M,null,{default:s(()=>[t(d,{cols:"12"},{default:s(()=>[t(D,{label:"Abwesenheitsgrund angeben",items:e.absence_types.map(l=>({title:l.name,value:l.id})),"model-value":e.selectedAbsence.absence_type_id},null,8,["items","model-value"])]),_:1}),t(d,{cols:"12",md:"6"},{default:s(()=>[t(V,{type:"date",label:"Von","model-value":e.selectedAbsence.start},null,8,["model-value"])]),_:1}),t(d,{cols:"12",md:"6"},{default:s(()=>[t(V,{type:"date",label:"Bis","model-value":e.selectedAbsence.end},null,8,["model-value"])]),_:1}),t(d,{cols:"12",class:"text-end"},{default:s(()=>[e.can("user","viewDisputes")?(c(),r(p,{key:0,onClick:A(v,["stop"]),type:"button",color:"primary"},{default:s(()=>a[2]||(a[2]=[b(" Antrag öffnen ")])),_:1})):e.can("absence","deleteDispute",e.selectedAbsence)?(c(),r(p,{key:1,onClick:A(y,["stop"]),type:"button",color:"primary"},{default:s(()=>a[3]||(a[3]=[b(" Antrag zurückziehen ")])),_:1})):z("",!0)]),_:1})]),_:1})]),_:1})]),_:1})]),_:2},1032,["title"])]}),_:1},8,["modelValue"]))}});export{S as _};
