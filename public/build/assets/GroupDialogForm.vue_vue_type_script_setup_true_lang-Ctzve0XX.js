import{d as k,c as F,r as S,a as d,e as _,o as p,b as e,f as a,V as w,x as A,h as B,J as D,m as M,K as N,L as g,O as T,g as r,M as U,l as m,s as v,p as b,P as x,Q as G}from"./app-BzSCF_3H.js";const z=k({__name:"GroupDialogForm",props:{group:{},users:{}},setup(y){var V,c;const u=y,f=F(()=>u.group?"edit":"create"),n=S(!1),o=useForm({name:((V=u.group)==null?void 0:V.name)??"",users:((c=u.group)==null?void 0:c.users.map(i=>i.id))??[]});function C(){u.group?o.patch(route("group.update",{group:u.group.id}),{onSuccess:()=>{n.value=!1}}):o.post(route("group.store"),{onSuccess:()=>{o.reset(),n.value=!1}})}return(i,s)=>i.can("group","create")?(p(),d(G,{key:0,modelValue:n.value,"onUpdate:modelValue":s[3]||(s[3]=t=>n.value=t),"max-width":"1000"},{activator:e(({props:t})=>[f.value=="create"?(p(),d(m,x({key:0},t,{color:"primary"}),{default:e(()=>[a(b,{icon:"mdi-plus"})]),_:1},16)):(p(),d(m,x({key:1},t,{color:"primary",variant:"text",icon:"mdi-eye"}),null,16))]),default:e(({isActive:t})=>[a(w,{title:"Abteilung"+(f.value=="create"?"erstellen":"bearbeiten")},{append:e(()=>[a(m,{icon:"",variant:"text",onClick:l=>{t.value=!1,r(o).reset()}},{default:e(()=>[a(b,null,{default:e(()=>[...s[4]||(s[4]=[v("mdi-close",-1)])]),_:1})]),_:1},8,["onClick"])]),default:e(()=>[a(A),a(B,null,{default:e(()=>[a(D,{onSubmit:s[2]||(s[2]=M(l=>C(),["prevent"]))},{default:e(()=>[a(N,null,{default:e(()=>[a(g,{cols:"12",sm:"6"},{default:e(()=>[a(T,{modelValue:r(o).name,"onUpdate:modelValue":s[0]||(s[0]=l=>r(o).name=l),"error-messages":r(o).errors.name,label:"Abteilungsname"},null,8,["modelValue","error-messages"])]),_:1}),a(g,{cols:"12",sm:"6"},{default:e(()=>[a(U,{"data-testid":"employeeGroupAssignment",modelValue:r(o).users,"onUpdate:modelValue":s[1]||(s[1]=l=>r(o).users=l),"error-messages":r(o).errors.users,items:i.users.map(l=>({value:l.id,title:l.name})),label:"Wähle Mitarbeiter aus, die zur Abteilung gehören (optional)",multiple:"",chips:""},null,8,["modelValue","error-messages","items"])]),_:1}),a(g,{cols:"12",class:"text-end"},{default:e(()=>[a(m,{loading:r(o).processing,type:"submit",color:"primary"},{default:e(()=>[...s[5]||(s[5]=[v("Speichern",-1)])]),_:1},8,["loading"])]),_:1})]),_:1})]),_:1})]),_:1})]),_:2},1032,["title"])]),_:1},8,["modelValue"])):_("",!0)}});export{z as _};
