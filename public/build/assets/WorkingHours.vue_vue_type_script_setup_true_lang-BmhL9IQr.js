import{d as y,n as C,I as S,D as _,o as u,c as f,a as s,V as b,b as t,u as c,H,e as p,m as x,p as i,x as r,R as m,f as g,g as d,t as a,j as k,E as B,l as w,h as M}from"./app-CqiK6L1g.js";import{u as N,r as G}from"./utils-B0T8deZ-.js";const T={class:"d-flex align-center ga-3"},$={class:"d-flex flex-column"},D={class:"text-h6"},K={class:"d-flex align-center ga-3"},A={class:"d-flex flex-column"},E={class:"text-h6"},I={class:"d-flex align-center ga-3"},O={class:"d-flex flex-column"},Q={class:"text-h6"},R={class:"d-flex align-center ga-3"},j={class:"d-flex flex-column"},F={class:"text-h6"},U={key:0},X=y({__name:"WorkingHours",props:{lastWorkLog:{},operating_times:{},overtime:{},workingHours:{}},setup(V){const n=V,h=C(),z=N();function v(o=!1){var e,l;H.post(route("workLog.store"),{is_home_office:o,id:(e=n.lastWorkLog)!=null&&e.end?null:(l=n.lastWorkLog)==null?void 0:l.id})}const W=S(()=>{var o,e;return(o=n.lastWorkLog)!=null&&o.end?n.workingHours.current:z.value.diff(_.fromSQL(((e=n.lastWorkLog)==null?void 0:e.start)||"")).as("hours")+n.workingHours.current});return(o,e)=>(u(),f(b,{title:"Arbeitszeit"},{append:s(()=>[t(p,{icon:"mdi-eye",variant:"text",onClick:e[0]||(e[0]=l=>c(H).get(o.route("user.workLog.index",{user:c(h).props.auth.user.id})))})]),default:s(()=>[t(M,null,{default:s(()=>[t(x,null,{default:s(()=>[t(i,{cols:"12",sm:"6"},{default:s(()=>[r("div",T,[t(m,{color:"blue-grey",rounded:"",size:"40",class:"elevation-2"},{default:s(()=>[t(g,{size:"24",icon:"mdi-clock-check"})]),_:1}),r("div",$,[e[3]||(e[3]=d(" Woche gesamt ")),r("div",D,a(Math.floor(W.value||0))+":"+a(Math.floor((W.value||0)%1*60).toString().padStart(2,"0")),1)])])]),_:1}),o.$page.props.auth.user.home_office?(u(),f(i,{key:0,cols:"12",sm:"6"},{default:s(()=>[r("div",K,[t(m,{color:"green",rounded:"",size:"40",class:"elevation-2"},{default:s(()=>[t(g,{size:"24",icon:"mdi-clock-check"})]),_:1}),r("div",A,[e[4]||(e[4]=d(" Woche Homeoffice ")),r("div",E,a(Math.floor(o.workingHours.currentHomeOffice||0))+":"+a(Math.floor((o.workingHours.currentHomeOffice||0)%1*60).toString().padStart(2,"0")),1)])])]),_:1})):k("",!0),t(i,{cols:"12",sm:"6"},{default:s(()=>[r("div",I,[t(m,{color:"orange",rounded:"",size:"40",class:"elevation-2 text-white"},{default:s(()=>[t(g,{size:"24",icon:"mdi-clock-plus"})]),_:1}),r("div",O,[e[5]||(e[5]=d(" Ãœberstunden ")),r("div",Q,a(c(G)(o.overtime,2)),1)])])]),_:1}),o.lastWorkLog?(u(),f(i,{key:1,cols:"12",sm:"6"},{default:s(()=>[r("div",R,[t(m,{color:"blue",rounded:"",size:"40",class:"elevation-2"},{default:s(()=>[t(g,{size:"24",icon:"mdi-timer"})]),_:1}),r("div",j,[d(a(o.lastWorkLog.end?"Gehen":"Kommen")+" ",1),r("div",F,a(c(_).fromSQL(o.lastWorkLog.end??o.lastWorkLog.start).toFormat("HH:mm"))+" Uhr",1)])])]),_:1})):k("",!0),t(i,{cols:"12",md:"6"},{default:s(()=>[c(h).props.auth.user.home_office&&(!o.lastWorkLog||o.lastWorkLog.end)||o.lastWorkLog&&o.lastWorkLog.is_home_office&&!o.lastWorkLog.end?(u(),B("div",U,[t(p,{block:"",size:"large",onClick:e[1]||(e[1]=w(l=>v(!0),["stop"])),color:"primary",class:"me-2"},{default:s(()=>[d(a(!o.lastWorkLog||o.lastWorkLog.end?"Kommen Homeoffice":"Gehen Homeoffice"),1)]),_:1})])):k("",!0)]),_:1}),t(i,{cols:"12",md:"6"},{default:s(()=>{var l,L;return[(l=o.lastWorkLog)!=null&&l.end||!((L=o.lastWorkLog)!=null&&L.is_home_office)?(u(),f(p,{key:0,block:"",size:"large",onClick:e[2]||(e[2]=w(q=>v(),["stop"])),color:"primary"},{default:s(()=>[d(a(!o.lastWorkLog||o.lastWorkLog.end?"Kommen":"Gehen"),1)]),_:1})):k("",!0)]}),_:1})]),_:1})]),_:1})]),_:1}))}});export{X as _};
