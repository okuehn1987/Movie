import{_ as d}from"./ConfirmDelete.vue_vue_type_script_setup_true_lang-BCbmmpJy.js";import{A as T}from"./AdminLayout-dH0f1CFK.js";import{f as g}from"./utils-BHCeikZt.js";import{_ as v}from"./TicketOverview.vue_vue_type_script_setup_true_lang-D9UxuCJ2.js";import{_ as p}from"./CreateEditCustomerOperatingSite.vue_vue_type_script_setup_true_lang-Dt4M4-N1.js";import{_ as N}from"./CustomerForm.vue_vue_type_script_setup_true_lang-DYJMRJ9r.js";import{_ as S}from"./CustomerNotes.vue_vue_type_script_setup_true_lang-CVp9L8u1.js";import{_ as f}from"./CustomerContactDialog.vue_vue_type_script_setup_true_lang-Deb93xvr.js";import{d as h,r as V,a as o,o as u,b as t,f as s,E as C,G as n,s as l,H as O,I as c,V as k,_ as b,i as E,e as i}from"./app-9FOu14I-.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./TicketTable.vue_vue_type_script_setup_true_lang-PIXXscRB.js";import"./TicketCreateDialog.vue_vue_type_script_setup_true_lang-uBYI4sOg.js";import"./types-BVvW7sCV.js";import"./TicketShowDialog.vue_vue_type_script_setup_true_lang-Bv9HBHJR.js";import"./RecordCreateDialog.vue_vue_type_script_setup_true_lang-Edjiqlsb.js";import"./TicketFinishDialog.vue_vue_type_script_setup_true_lang-DAQp9Ls6.js";import"./TicketArchiveTable.vue_vue_type_script_setup_true_lang-DQzILID9.js";import"./TicketArchiveFilter.vue_vue_type_script_setup_true_lang-t3R2zvp1.js";import"./CreateEditCustomerNoteFolder.vue_vue_type_script_setup_true_lang-CovAEeG7.js";import"./CreateEditCustomerNoteEntry.vue_vue_type_script_setup_true_lang-D9yVTVii.js";const R=h({__name:"CustomerShow",props:{customer:{},operatingSites:{},customerNoteFolders:{},customerNoteEntries:{},users:{},ticketableOperatingSites:{},tickets:{},archiveTickets:{},ticketTab:{},tab:{}},setup(y){const m=V(y.tab);return(e,a)=>(u(),o(T,{title:"Kunde: "+e.customer.name,backurl:e.route("customer.index")},{default:t(()=>[s(C,{modelValue:m.value,"onUpdate:modelValue":a[0]||(a[0]=r=>m.value=r)},{default:t(()=>[s(n,{value:"customerData"},{default:t(()=>[...a[1]||(a[1]=[l("Stammdaten",-1)])]),_:1}),s(n,{value:"customerNotes"},{default:t(()=>[...a[2]||(a[2]=[l("Unterlagen",-1)])]),_:1}),s(n,{value:"tickets"},{default:t(()=>[...a[3]||(a[3]=[l("Tickets",-1)])]),_:1})]),_:1},8,["modelValue"]),s(O,{"model-value":m.value},{default:t(()=>[s(c,{value:"customerData"},{default:t(()=>[s(N,{customer:e.customer},null,8,["customer"]),s(k,{title:"Standort",class:"mt-4"},{default:t(()=>[s(b,{"fixed-header":"",headers:[{title:"Name",key:"name",sortable:!1},{title:"Adresse",key:"address",sortable:!1},{title:"",key:"actions",align:"end"}],items:e.operatingSites.map(r=>({...r,address:E(g)(r.current_address)}))},{"header.actions":t(()=>[e.can("customerOperatingSite","create")?(u(),o(p,{key:0,customer:e.customer},null,8,["customer"])):i("",!0)]),"item.actions":t(({item:r})=>[e.can("customerOperatingSite","update")?(u(),o(p,{key:0,customer:e.customer,item:r},null,8,["customer","item"])):i("",!0),e.can("customerOperatingSite","delete")?(u(),o(d,{key:1,title:"Kundenstandort löschen",content:"Bist du dir sicher, dass du den Standort "+r.name+" löschen möchtest?",route:e.route("customerOperatingSite.destroy",{customerOperatingSite:r.id})},null,8,["content","route"])):i("",!0)]),_:1},8,["items"])]),_:1}),s(k,{title:"Kontakte",class:"mt-4"},{default:t(()=>[s(b,{"fixed-header":"",headers:[{title:"Name",key:"name",sortable:!1},{title:"Tätigkeit",key:"occupation",sortable:!1},{title:"Telefonnummer",key:"phone_number",sortable:!1},{title:"Email",key:"email",sortable:!1},{title:"",key:"actions",align:"end"}],items:e.customer.contacts},{"header.actions":t(()=>[e.can("customerContact","create")?(u(),o(f,{key:0,customer:e.customer},null,8,["customer"])):i("",!0)]),"item.actions":t(({item:r})=>[e.can("customerContact","update")?(u(),o(f,{key:0,customer:e.customer,contact:r},null,8,["customer","contact"])):i("",!0),e.can("customerContact","delete")?(u(),o(d,{key:1,title:"Kundenkontakt löschen",content:"Bist du dir sicher, dass du den Kontakt "+r.name+" löschen möchtest?",route:e.route("customerContact.destroy",{customerContact:r.id})},null,8,["content","route"])):i("",!0)]),_:1},8,["items"])]),_:1})]),_:1}),s(c,{value:"customerNotes"},{default:t(()=>[s(S,{customerNoteEntries:e.customerNoteEntries,customer:e.customer,customerNoteFolders:e.customerNoteFolders},null,8,["customerNoteEntries","customer","customerNoteFolders"])]),_:1}),s(c,{value:"tickets"},{default:t(()=>[s(v,{tickets:e.tickets,archiveTickets:e.archiveTickets,customers:[e.customer],users:e.users,operatingSites:e.ticketableOperatingSites,tab:e.ticketTab},null,8,["tickets","archiveTickets","customers","users","operatingSites","tab"])]),_:1})]),_:1},8,["model-value"])]),_:1},8,["title","backurl"]))}});export{R as default};
