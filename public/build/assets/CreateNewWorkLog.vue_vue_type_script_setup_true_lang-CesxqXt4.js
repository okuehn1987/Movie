import{d as b,r as C,_ as S,a as V,o as g,Q as x,b as o,f as t,x as y,g as D,J as L,m as U,K as h,L as n,i as r,O as _,a2 as B,U as F,e as P,l as p,s as f,t as q,p as c,V as H,P as I,D as u}from"./app-BcgYGGYZ.js";const O=b({__name:"CreateNewWorkLog",props:{user:{}},setup(v){const w=v,i=C(!1),e=useForm({start:new Date,end:new Date,comment:null,start_time:"09:00",end_time:"17:00",is_home_office:!1});function k(){e.transform(l=>{const a=u.fromFormat(l.start_time,"HH:mm"),m=u.fromFormat(l.end_time,"HH:mm");return{...l,start:u.fromISO(l.start.toISOString()).set({hour:a.hour,minute:a.minute,second:0}),end:u.fromISO(l.end.toISOString()).set({hour:m.hour,minute:m.minute,second:0})}}).post(route("user.workLog.store",{user:w.user.id}),{onSuccess:()=>{i.value=!1,e.reset()}})}return(l,a)=>{const m=S("v-date-input");return g(),V(x,{"max-width":"1000",modelValue:i.value,"onUpdate:modelValue":a[6]||(a[6]=d=>i.value=d)},{activator:o(({props:d})=>[t(p,I(d,{color:"primary"}),{default:o(()=>[t(c,null,{default:o(()=>[...a[7]||(a[7]=[f("mdi-plus",-1)])]),_:1})]),_:1},16)]),default:o(({isActive:d})=>[t(H,{title:"Neue Buchung "+(l.can("workLogPatch","update")?"erstellen":"beantragen")},{append:o(()=>[t(p,{icon:"",variant:"text",onClick:s=>{d.value=!1,r(e).reset()}},{default:o(()=>[t(c,null,{default:o(()=>[...a[8]||(a[8]=[f("mdi-close",-1)])]),_:1})]),_:1},8,["onClick"])]),default:o(()=>[t(y),t(D,null,{default:o(()=>[t(L,{onSubmit:U(k,["prevent"])},{default:o(()=>[t(h,null,{default:o(()=>[t(n,{cols:"12",md:"3"},{default:o(()=>[t(m,{label:"Start",required:"","error-messages":r(e).errors.start,modelValue:r(e).start,"onUpdate:modelValue":a[0]||(a[0]=s=>r(e).start=s),variant:"plain",style:{height:"73px"}},null,8,["error-messages","modelValue"])]),_:1}),t(n,{cols:"12",md:"3"},{default:o(()=>[t(_,{type:"time",label:"Start",required:"","error-messages":r(e).errors.start_time,modelValue:r(e).start_time,"onUpdate:modelValue":a[1]||(a[1]=s=>r(e).start_time=s),variant:"plain"},null,8,["error-messages","modelValue"])]),_:1}),t(n,{cols:"12",md:"3"},{default:o(()=>[t(m,{label:"Ende",required:"","error-messages":r(e).errors.end,modelValue:r(e).end,"onUpdate:modelValue":a[2]||(a[2]=s=>r(e).end=s),variant:"plain",style:{height:"73px"}},null,8,["error-messages","modelValue"])]),_:1}),t(n,{cols:"12",md:"3"},{default:o(()=>[t(_,{type:"time",label:"Ende",required:"","error-messages":r(e).errors.end_time,modelValue:r(e).end_time,"onUpdate:modelValue":a[3]||(a[3]=s=>r(e).end_time=s),variant:"plain"},null,8,["error-messages","modelValue"])]),_:1}),t(n,{cols:"12"},{default:o(()=>[t(B,{label:"Bemerkung (optional)",modelValue:r(e).comment,"onUpdate:modelValue":a[4]||(a[4]=s=>r(e).comment=s),"error-messages":r(e).errors.comment,variant:"filled",rows:"3"},null,8,["modelValue","error-messages"])]),_:1}),t(n,{cols:"12",md:"3"},{default:o(()=>[t(F,{label:"Homeoffice",required:"","error-messages":r(e).errors.is_home_office,modelValue:r(e).is_home_office,"onUpdate:modelValue":a[5]||(a[5]=s=>r(e).is_home_office=s),variant:"plain","hide-details":""},null,8,["error-messages","modelValue"])]),_:1}),t(n,{cols:"12",class:"text-end"},{default:o(()=>[l.can("workLogPatch","create")||l.can("workLogPatch","update")?(g(),V(p,{key:0,loading:r(e).processing,type:"submit",color:"primary"},{default:o(()=>[f(q(l.can("workLogPatch","update")?"Speichern":"Beantragen"),1)]),_:1},8,["loading"])):P("",!0)]),_:1})]),_:1})]),_:1})]),_:1})]),_:2},1032,["title"])]),_:1},8,["modelValue"])}}});export{O as _};
