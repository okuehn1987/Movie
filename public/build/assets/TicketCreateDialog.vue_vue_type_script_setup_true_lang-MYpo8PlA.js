import{d as U,R as k,a as T,o as _,Q as x,b as a,f as r,x as y,E as q,i as s,G as b,s as d,g as S,J as C,m as P,H as B,I as w,K as v,L as t,N as p,M as I,a6 as R,a8 as $,a9 as A,p as m,t as D,O as n,$ as V,l as f,V as F,P as z}from"./app-BEL-OU-Z.js";import{P as E}from"./types-BVvW7sCV.js";const M=U({__name:"TicketCreateDialog",props:{customers:{},users:{}},setup(K){const l=useForm({title:"",description:"",priority:"medium",customer_id:null,assignees:[k().props.auth.user.id],start:null,duration:"00:00",resources:"",tab:"ticket"});function c(u){l.post(route("ticket.store"),{onSuccess:()=>{l.reset(),u.value=!1}})}return(u,o)=>(_(),T(x,{"max-width":"600px"},{activator:a(({props:i})=>[r(f,z({title:"Auftrag erstellen"},i,{color:"primary"}),{default:a(()=>[r(m,{icon:"mdi-plus"})]),_:1},16)]),default:a(({isActive:i})=>[r(F,{title:"Auftrag hinzuf체gen"},{append:a(()=>[r(f,{icon:"",variant:"text",onClick:e=>i.value=!1},{default:a(()=>[r(m,null,{default:a(()=>[...o[13]||(o[13]=[d("mdi-close",-1)])]),_:1})]),_:1},8,["onClick"])]),default:a(()=>[r(y),r(q,{modelValue:s(l).tab,"onUpdate:modelValue":o[0]||(o[0]=e=>s(l).tab=e)},{default:a(()=>[r(b,{class:"w-50",value:"ticket"},{default:a(()=>[...o[14]||(o[14]=[d("Auftrag",-1)])]),_:1}),r(b,{class:"w-50",value:"expressTicket"},{default:a(()=>[...o[15]||(o[15]=[d("Einzelauftrag",-1)])]),_:1})]),_:1},8,["modelValue"]),r(S,null,{default:a(()=>[r(C,{onSubmit:P(e=>c(i),["prevent"])},{default:a(()=>[r(B,{modelValue:s(l).tab,"onUpdate:modelValue":o[12]||(o[12]=e=>s(l).tab=e)},{default:a(()=>[r(w,{value:"ticket"},{default:a(()=>[r(v,null,{default:a(()=>[r(t,{cols:"12",md:"8"},{default:a(()=>[r(p,{label:"Kunde w채hlen",required:"",items:u.customers.map(e=>({value:e.id,title:e.name})),modelValue:s(l).customer_id,"onUpdate:modelValue":o[1]||(o[1]=e=>s(l).customer_id=e),"error-messages":s(l).errors.customer_id},null,8,["items","modelValue","error-messages"])]),_:1}),r(t,{cols:"12",md:"4"},{default:a(()=>[r(I,{items:s(E),label:"Priorit채t",required:"","error-messages":s(l).errors.priority,modelValue:s(l).priority,"onUpdate:modelValue":o[2]||(o[2]=e=>s(l).priority=e)},{selection:a(({item:e})=>[d(D(e.raw.title)+" ",1),r(m,{class:"ms-2",icon:e.raw.icon,color:e.raw.color},null,8,["icon","color"])]),item:a(({props:e,item:g})=>[r(R,$(A(e)),{append:a(()=>[r(m,{icon:g.raw.icon,color:g.raw.color},null,8,["icon","color"])]),_:2},1040)]),_:1},8,["items","error-messages","modelValue"])]),_:1}),r(t,{cols:"12"},{default:a(()=>[r(p,{label:"Zuweisung",required:"",multiple:"",chips:"",items:u.users.map(e=>({value:e.id,title:`${e.first_name} ${e.last_name}`,props:{subtitle:e.job_role??""}})),"error-messages":s(l).errors.assignees,modelValue:s(l).assignees,"onUpdate:modelValue":o[3]||(o[3]=e=>s(l).assignees=e)},null,8,["items","error-messages","modelValue"])]),_:1}),r(t,{cols:"12"},{default:a(()=>[r(n,{label:"Betreff",required:"","error-messages":s(l).errors.title,modelValue:s(l).title,"onUpdate:modelValue":o[4]||(o[4]=e=>s(l).title=e)},null,8,["error-messages","modelValue"])]),_:1}),r(t,{cols:"12"},{default:a(()=>[r(V,{label:"Beschreibung",reqiuired:"","error-messages":s(l).errors.description,modelValue:s(l).description,"onUpdate:modelValue":o[5]||(o[5]=e=>s(l).description=e)},null,8,["error-messages","modelValue"])]),_:1})]),_:1})]),_:1}),r(w,{value:"expressTicket"},{default:a(()=>[r(v,null,{default:a(()=>[r(t,{cols:"12"},{default:a(()=>[r(p,{label:"Kunde w채hlen",required:"",items:u.customers.map(e=>({value:e.id,title:e.name})),modelValue:s(l).customer_id,"onUpdate:modelValue":o[6]||(o[6]=e=>s(l).customer_id=e),"error-messages":s(l).errors.customer_id},null,8,["items","modelValue","error-messages"])]),_:1}),r(t,{cols:"12",md:"6"},{default:a(()=>[r(n,{label:"Start",type:"datetime-local","model-value":s(l).start,"onUpdate:modelValue":o[7]||(o[7]=e=>s(l).start=e),"error-messages":s(l).errors.start,required:""},null,8,["model-value","error-messages"])]),_:1}),r(t,{cols:"12",md:"6"},{default:a(()=>[r(n,{type:"time",label:"Auftragsdauer (in Stunden)",min:"0",modelValue:s(l).duration,"onUpdate:modelValue":o[8]||(o[8]=e=>s(l).duration=e),"error-messages":s(l).errors.duration},null,8,["modelValue","error-messages"])]),_:1}),r(t,{cols:"12"},{default:a(()=>[r(n,{label:"Betreff",required:"","error-messages":s(l).errors.title,modelValue:s(l).title,"onUpdate:modelValue":o[9]||(o[9]=e=>s(l).title=e)},null,8,["error-messages","modelValue"])]),_:1}),r(t,{cols:"12"},{default:a(()=>[r(V,{"auto-grow":"",label:"Beschreibung",required:"","error-messages":s(l).errors.description,modelValue:s(l).description,"onUpdate:modelValue":o[10]||(o[10]=e=>s(l).description=e)},null,8,["error-messages","modelValue"])]),_:1}),r(t,{cols:"12"},{default:a(()=>[r(V,{rows:"1",label:"Ressourcen","error-messages":s(l).errors.resources,modelValue:s(l).resources,"onUpdate:modelValue":o[11]||(o[11]=e=>s(l).resources=e)},null,8,["error-messages","modelValue"])]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"]),r(t,{cols:"12",class:"text-end"},{default:a(()=>[r(f,{type:"submit",color:"primary"},{default:a(()=>[...o[16]||(o[16]=[d("Speichern",-1)])]),_:1})]),_:1})]),_:1},8,["onSubmit"])]),_:2},1024)]),_:2},1024)]),_:1}))}});export{M as _};
