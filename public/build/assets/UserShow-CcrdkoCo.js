import{_ as g}from"./AdminLayout.vue_vue_type_script_setup_true_lang-CdhovkqZ.js";import{_ as v}from"./TimeAccounts.vue_vue_type_script_setup_true_lang-Djw-0ZEv.js";import{_}from"./TimeAccountTransactions.vue_vue_type_script_setup_true_lang-BZ8GcbD0.js";import b from"./UserForm-BLMY5QUa.js";import{U as V}from"./UserOrganigram-daSQZEuI.js";import{d as w,r as A,o,c as n,b as t,e as s,Y as l,h as u,k as i,Z as T,$ as k,_ as m,at as I,t as c,u as p,D as f,i as U,p as D,q as C,A as S,aj as $,x as y,V as F}from"./app-cAe7VMGE.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./utils-CCf13J20.js";import"./NewTimeAccountForm.vue_vue_type_script_setup_true_lang-DmtxGLzv.js";import"./TimeAccountDeleteForm.vue_vue_type_script_setup_true_lang-tFZ9z26l.js";import"./TimeAccountSettingsForm.vue_vue_type_script_setup_true_lang-Czp0lErW.js";import"./TimeAccountTransactionForm.vue_vue_type_script_setup_true_lang-BlCoTazk.js";import"./TimeAccountTransferForm.vue_vue_type_script_setup_true_lang-Du7uX962.js";import"./PermissionSelector.vue_vue_type_script_setup_true_lang-DG_cclJl.js";const O={class:"font-weight-bold"},M={colspan:"4"},H=w({__name:"UserShow",props:{user:{},supervisors:{},time_accounts:{},time_account_settings:{},time_account_transactions:{},defaultTimeAccountId:{},groups:{},operating_sites:{},permissions:{},organigramUsers:{},supervisor:{},countries:{}},setup(N){const d=A(route().params.tab??"generalInformation");return(e,a)=>(o(),n(g,{title:`${e.user.first_name} ${e.user.last_name} ${e.can("user","update")?"bearbeiten":""}`,backurl:e.route("user.index")},{default:t(()=>[s(T,{modelValue:d.value,"onUpdate:modelValue":a[0]||(a[0]=r=>d.value=r)},{default:t(()=>[s(l,{value:"generalInformation"},{default:t(()=>a[2]||(a[2]=[u("Allgemeine Informationen")])),_:1}),s(l,{value:"absences"},{default:t(()=>a[3]||(a[3]=[u("Abwesenheiten")])),_:1}),e.can("timeAccount","viewIndex")?(o(),n(l,{key:0,value:"timeAccounts"},{default:t(()=>a[4]||(a[4]=[u("Arbeitszeitkonten")])),_:1})):i("",!0),e.can("timeAccountTransaction","viewIndex")?(o(),n(l,{key:1,value:"timeAccountTransactions"},{default:t(()=>a[5]||(a[5]=[u("Transaktionen")])),_:1})):i("",!0),e.can("user","viewIndex")?(o(),n(l,{key:2,value:"userOrganigram"},{default:t(()=>a[6]||(a[6]=[u("Organigramm")])),_:1})):i("",!0)]),_:1},8,["modelValue"]),s(F,null,{default:t(()=>[s(k,{modelValue:d.value,"onUpdate:modelValue":a[1]||(a[1]=r=>d.value=r)},{default:t(()=>[s(m,{style:{"overflow-y":"auto"},value:"absences"},{default:t(()=>[s(I,null,{default:t(()=>[u("Abwesenheiten für das Jahr "+c(p(f).now().year),1)]),_:1}),s(U,null,{default:t(()=>[s(D,null,{default:t(()=>[s(C,{cols:"12"},{default:t(()=>[s(S,{id:"userAbsenceTable",items:e.user.absences.map(r=>({...r,start:p(f).fromSQL(r.start).toFormat("dd.MM.yyyy"),end:p(f).fromSQL(r.end).toFormat("dd.MM.yyyy"),absence_type:r.absence_type.name,usedDays:r.usedDays.toString()})),headers:[{title:"Start",key:"start"},{title:"Ende",key:"end"},{title:"Status",key:"status"},{title:"Art",key:"absence_type"},{title:"Genutzte Tage",key:"usedDays"}]},{"item.status":t(({item:r})=>[s($,{color:{accepted:"success",created:"warning",declined:"error"}[r.status]},{default:t(()=>[u(c({accepted:"Genehmigt",created:"Offen",declined:"Abgelehnt"}[r.status]),1)]),_:2},1032,["color"])]),"body.append":t(()=>[y("tr",O,[y("td",M," Genutzte Urlaubstage für das Jahr "+c(p(f).now().year)+": ",1),y("td",null,c(e.user.usedLeaveDaysForYear+" von "+e.user.leaveDaysForYear),1)])]),_:1},8,["items"])]),_:1})]),_:1})]),_:1})]),_:1}),s(m,{style:{"overflow-y":"auto"},value:"generalInformation"},{default:t(()=>[s(b,{countries:e.countries,supervisors:e.supervisors,user:e.user,groups:e.groups,operating_sites:e.operating_sites,mode:"edit",permissions:e.permissions},null,8,["countries","supervisors","user","groups","operating_sites","permissions"])]),_:1}),e.can("timeAccount","viewIndex")?(o(),n(m,{key:0,style:{"overflow-y":"auto"},value:"timeAccounts"},{default:t(()=>[s(v,{user:e.user,time_accounts:e.time_accounts,time_account_settings:e.time_account_settings,defaultTimeAccountId:e.defaultTimeAccountId},null,8,["user","time_accounts","time_account_settings","defaultTimeAccountId"])]),_:1})):i("",!0),e.can("timeAccountTransaction","viewIndex")?(o(),n(m,{key:1,style:{"overflow-y":"auto"},value:"timeAccountTransactions"},{default:t(()=>[s(_,{time_accounts:e.time_accounts,time_account_transactions:e.time_account_transactions},null,8,["time_accounts","time_account_transactions"])]),_:1})):i("",!0),e.can("user","viewIndex")?(o(),n(m,{key:2,style:{"overflow-y":"auto"},value:"userOrganigram"},{default:t(()=>[s(V,{users:e.organigramUsers,supervisor:e.supervisor,currentUser:e.user},null,8,["users","supervisor","currentUser"])]),_:1})):i("",!0)]),_:1},8,["modelValue"])]),_:1})]),_:1},8,["title","backurl"]))}});export{H as default};
