import{_ as k}from"./ConfirmDelete.vue_vue_type_script_setup_true_lang-CVsKzDvl.js";import{A as T}from"./AdminLayout-DHW4Sg6z.js";import{f as b}from"./utils-BE_FXKO0.js";import{_ as N}from"./TicketOverview.vue_vue_type_script_setup_true_lang-BId6dY_d.js";import{_ as y}from"./CreateEditCustomerOperatingSite.vue_vue_type_script_setup_true_lang-BNVRp9vb.js";import{_ as h}from"./CustomerContactDialog.vue_vue_type_script_setup_true_lang-CWLiJXWc.js";import{_ as V}from"./CustomerForm.vue_vue_type_script_setup_true_lang-Cpun5rG1.js";import{_ as C}from"./CustomerNotes.vue_vue_type_script_setup_true_lang-CjqOV2ZB.js";import{d as $,r as w,a as i,b as o,e as r,g as a,G as O,H as d,t as n,I as B,J as c,V as g,a0 as v,h as _,f as m,m as E,q as u,k as p,v as f}from"./app-D6et6mIE.js";import"./ChatDetails-bmIE18of.js";import"./ChatMessage-C18EIEMq.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./TicketTable.vue_vue_type_script_setup_true_lang-el4LViQG.js";import"./TicketCreateDialog.vue_vue_type_script_setup_true_lang-BGfj9K5f.js";import"./types-BVvW7sCV.js";import"./TicketShowDialog.vue_vue_type_script_setup_true_lang-CgYdYUub.js";import"./RecordCreateDialog.vue_vue_type_script_setup_true_lang-BfRQtnH3.js";import"./TicketFinishDialog.vue_vue_type_script_setup_true_lang-BtB2hWp6.js";import"./TicketArchiveTable.vue_vue_type_script_setup_true_lang-DJM5mYLc.js";import"./TicketArchiveFilter.vue_vue_type_script_setup_true_lang-BXmcrx0T.js";import"./CreateEditCustomerNoteFolder.vue_vue_type_script_setup_true_lang-BgUix8uc.js";import"./CreateEditCustomerNoteEntry.vue_vue_type_script_setup_true_lang-B5hecP1y.js";const K=["href"],A=["href"],D=["href"],se=$({__name:"CustomerShow",props:{customer:{},operatingSites:{},customerNoteFolders:{},customerNoteEntries:{},users:{},ticketableOperatingSites:{},tickets:{},archiveTickets:{},ticketTab:{},tab:{}},setup(S){const l=w(S.tab);return(e,s)=>(o(),i(T,{title:"Kunde: "+e.customer.name,backurl:e.route("customer.index")},{default:r(()=>[a(O,{modelValue:l.value,"onUpdate:modelValue":s[0]||(s[0]=t=>l.value=t)},{default:r(()=>[a(d,{value:"customerData"},{default:r(()=>[...s[1]||(s[1]=[n("Stammdaten",-1)])]),_:1}),a(d,{value:"customerNotes"},{default:r(()=>[...s[2]||(s[2]=[n("Unterlagen",-1)])]),_:1}),a(d,{value:"tickets"},{default:r(()=>[...s[3]||(s[3]=[n("Tickets",-1)])]),_:1})]),_:1},8,["modelValue"]),a(B,{"model-value":l.value},{default:r(()=>[a(c,{value:"customerData"},{default:r(()=>[a(V,{customer:e.customer},null,8,["customer"]),a(g,{title:"Standort",class:"mt-4"},{default:r(()=>[a(v,{"fixed-header":"",headers:[{title:"Name",key:"name",sortable:!1},{title:"Adresse",key:"address",sortable:!1},{title:"",key:"actions",align:"end"}],items:e.operatingSites.map(t=>({...t,address:_(b)(t.current_address)}))},{"header.actions":r(()=>[e.can("customerOperatingSite","create")?(o(),i(y,{key:0,customer:e.customer},null,8,["customer"])):m("",!0)]),"item.actions":r(({item:t})=>[a(E,{color:"primary",variant:"text",target:"_blank",href:`https://www.google.com/maps/place/${_(b)(t.current_address)}/`},{default:r(()=>[a(u,null,{default:r(()=>[...s[4]||(s[4]=[n("mdi-map-marker-multiple",-1)])]),_:1})]),_:1},8,["href"]),e.can("customerOperatingSite","update")?(o(),i(y,{key:0,customer:e.customer,item:t},null,8,["customer","item"])):m("",!0),e.can("customerOperatingSite","delete")?(o(),i(k,{key:1,title:"Kundenstandort löschen",content:"Bist du dir sicher, dass du den Standort "+t.name+" löschen möchtest?",route:e.route("customerOperatingSite.destroy",{customerOperatingSite:t.id})},null,8,["content","route"])):m("",!0)]),_:1},8,["items"])]),_:1}),a(g,{title:"Kontakte",class:"mt-4"},{default:r(()=>[a(v,{"fixed-header":"",headers:[{title:"Name",key:"name",sortable:!1},{title:"Tätigkeit",key:"occupation",sortable:!1},{title:"Telefonnummer",key:"phone_number",sortable:!1},{title:"Mobiltelefonnummer",key:"mobile_number",sortable:!1},{title:"Email",key:"email",sortable:!1},{title:"",key:"actions",align:"end"}],items:e.customer.contacts},{"header.actions":r(()=>[e.can("customerContact","create")?(o(),i(h,{key:0,customer:e.customer},null,8,["customer"])):m("",!0)]),"item.phone_number":r(({item:t})=>[t.phone_number?(o(),p("a",{key:0,class:"text-decoration-none text-black py-1",href:`tel:${t.phone_number}`},[a(u,{variant:"text"},{default:r(()=>[...s[5]||(s[5]=[n("mdi-phone",-1)])]),_:1}),n(" "+f(t.phone_number),1)],8,K)):m("",!0)]),"item.mobile_number":r(({item:t})=>[t.mobile_number?(o(),p("a",{key:0,class:"text-decoration-none text-black py-1",href:`tel:${t.mobile_number}`},[a(u,{variant:"text"},{default:r(()=>[...s[6]||(s[6]=[n("mdi-phone",-1)])]),_:1}),n(" "+f(t.mobile_number),1)],8,A)):m("",!0)]),"item.email":r(({item:t})=>[t.email?(o(),p("a",{key:0,class:"text-decoration-none text-black py-1",href:`mailto:${t.email}`},[a(u,{variant:"text"},{default:r(()=>[...s[7]||(s[7]=[n("mdi-email",-1)])]),_:1}),n(" "+f(t.email),1)],8,D)):m("",!0)]),"item.actions":r(({item:t})=>[e.can("customerContact","update")?(o(),i(h,{key:0,customer:e.customer,contact:t},null,8,["customer","contact"])):m("",!0),e.can("customerContact","delete")?(o(),i(k,{key:1,title:"Kundenkontakt löschen",content:"Bist du dir sicher, dass du den Kontakt "+t.name+" löschen möchtest?",route:e.route("customerContact.destroy",{customerContact:t.id})},null,8,["content","route"])):m("",!0)]),_:1},8,["items"])]),_:1})]),_:1}),a(c,{value:"customerNotes"},{default:r(()=>[a(C,{customerNoteEntries:e.customerNoteEntries,customer:e.customer,customerNoteFolders:e.customerNoteFolders},null,8,["customerNoteEntries","customer","customerNoteFolders"])]),_:1}),a(c,{value:"tickets"},{default:r(()=>[a(N,{tickets:e.tickets,archiveTickets:e.archiveTickets,customers:[e.customer],users:e.users,operatingSites:e.ticketableOperatingSites,tab:e.ticketTab},null,8,["tickets","archiveTickets","customers","users","operatingSites","tab"])]),_:1})]),_:1},8,["model-value"])]),_:1},8,["title","backurl"]))}});export{se as default};
