import{_ as g}from"./AdminLayout.vue_vue_type_script_setup_true_lang-DgX9vbjn.js";import{_ as v}from"./TimeAccounts.vue_vue_type_script_setup_true_lang-lU3v3-ac.js";import{_}from"./TimeAccountTransactions.vue_vue_type_script_setup_true_lang-CIF1va_W.js";import b from"./UserForm-CFwK0klL.js";import{U as V}from"./UserOrganigram-oQF910Cc.js";import{d as w,r as A,o,c as n,a as t,b as a,X as l,g as u,j as i,Y as T,_ as k,Z as m,at as I,t as c,u as p,D as f,h as U,m as D,p as C,A as S,aj as $,x as y,V as F}from"./app-B-fuPrPk.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./utils-QQMLDagS.js";import"./NewTimeAccountForm.vue_vue_type_script_setup_true_lang-FPEgT6t_.js";import"./TimeAccountDeleteForm.vue_vue_type_script_setup_true_lang-kswv2bpI.js";import"./TimeAccountSettingsForm.vue_vue_type_script_setup_true_lang-CCdMMvYv.js";import"./TimeAccountTransactionForm.vue_vue_type_script_setup_true_lang-BBf2o3bP.js";import"./TimeAccountTransferForm.vue_vue_type_script_setup_true_lang-B93K8JQn.js";import"./PermissionSelector.vue_vue_type_script_setup_true_lang-CWAczvTV.js";const O={class:"font-weight-bold"},M={colspan:"4"},q=w({__name:"UserShow",props:{user:{},supervisors:{},time_accounts:{},time_account_settings:{},time_account_transactions:{},defaultTimeAccountId:{},groups:{},operating_sites:{},permissions:{},organigramUsers:{},supervisor:{},countries:{}},setup(N){const d=A(route().params.tab??"generalInformation");return(e,s)=>(o(),n(g,{title:`${e.user.first_name} ${e.user.last_name} ${e.can("user","update")?"bearbeiten":""}`,backurl:e.route("user.index")},{default:t(()=>[a(T,{modelValue:d.value,"onUpdate:modelValue":s[0]||(s[0]=r=>d.value=r)},{default:t(()=>[a(l,{value:"generalInformation"},{default:t(()=>s[2]||(s[2]=[u("Allgemeine Informationen")])),_:1}),a(l,{value:"absences"},{default:t(()=>s[3]||(s[3]=[u("Abwesenheiten")])),_:1}),e.can("timeAccount","viewIndex")?(o(),n(l,{key:0,value:"timeAccounts"},{default:t(()=>s[4]||(s[4]=[u("Arbeitszeitkonten")])),_:1})):i("",!0),e.can("timeAccountTransaction","viewIndex")?(o(),n(l,{key:1,value:"timeAccountTransactions"},{default:t(()=>s[5]||(s[5]=[u("Transaktionen")])),_:1})):i("",!0),e.can("user","viewIndex")?(o(),n(l,{key:2,value:"userOrganigram"},{default:t(()=>s[6]||(s[6]=[u("Organigramm")])),_:1})):i("",!0)]),_:1},8,["modelValue"]),a(F,null,{default:t(()=>[a(k,{modelValue:d.value,"onUpdate:modelValue":s[1]||(s[1]=r=>d.value=r)},{default:t(()=>[a(m,{style:{"overflow-y":"auto"},value:"absences"},{default:t(()=>[a(I,null,{default:t(()=>[u("Abwesenheiten für das Jahr "+c(p(f).now().year),1)]),_:1}),a(U,null,{default:t(()=>[a(D,null,{default:t(()=>[a(C,{cols:"12"},{default:t(()=>[a(S,{id:"userAbsenceTable",items:e.user.absences.map(r=>({...r,start:p(f).fromSQL(r.start).toFormat("dd.MM.yyyy"),end:p(f).fromSQL(r.end).toFormat("dd.MM.yyyy"),absence_type:r.absence_type.name,usedDays:r.usedDays.toString()})),headers:[{title:"Start",key:"start"},{title:"Ende",key:"end"},{title:"Status",key:"status"},{title:"Art",key:"absence_type"},{title:"Genutzte Tage",key:"usedDays"}]},{"item.status":t(({item:r})=>[a($,{color:{accepted:"success",created:"warning",declined:"error"}[r.status]},{default:t(()=>[u(c({accepted:"Genehmigt",created:"Offen",declined:"Abgelehnt"}[r.status]),1)]),_:2},1032,["color"])]),"body.append":t(()=>[y("tr",O,[y("td",M," Genutzte Urlaubstage für das Jahr "+c(p(f).now().year)+": ",1),y("td",null,c(e.user.usedLeaveDaysForYear+" von "+e.user.leaveDaysForYear),1)])]),_:1},8,["items"])]),_:1})]),_:1})]),_:1})]),_:1}),a(m,{style:{"overflow-y":"auto"},value:"generalInformation"},{default:t(()=>[a(b,{countries:e.countries,supervisors:e.supervisors,user:e.user,groups:e.groups,operating_sites:e.operating_sites,mode:"edit",permissions:e.permissions},null,8,["countries","supervisors","user","groups","operating_sites","permissions"])]),_:1}),e.can("timeAccount","viewIndex")?(o(),n(m,{key:0,style:{"overflow-y":"auto"},value:"timeAccounts"},{default:t(()=>[a(v,{user:e.user,time_accounts:e.time_accounts,time_account_settings:e.time_account_settings,defaultTimeAccountId:e.defaultTimeAccountId},null,8,["user","time_accounts","time_account_settings","defaultTimeAccountId"])]),_:1})):i("",!0),e.can("timeAccountTransaction","viewIndex")?(o(),n(m,{key:1,style:{"overflow-y":"auto"},value:"timeAccountTransactions"},{default:t(()=>[a(_,{time_accounts:e.time_accounts,time_account_transactions:e.time_account_transactions},null,8,["time_accounts","time_account_transactions"])]),_:1})):i("",!0),e.can("user","viewIndex")?(o(),n(m,{key:2,style:{"overflow-y":"auto"},value:"userOrganigram"},{default:t(()=>[a(V,{users:e.organigramUsers,supervisor:e.supervisor,currentUser:e.user},null,8,["users","supervisor","currentUser"])]),_:1})):i("",!0)]),_:1},8,["modelValue"])]),_:1})]),_:1},8,["title","backurl"]))}});export{q as default};
