import{_}from"./AdminLayout.vue_vue_type_script_setup_true_lang-09n6SuuB.js";import{_ as b}from"./TimeAccounts.vue_vue_type_script_setup_true_lang-BYx54on2.js";import{_ as V}from"./TimeAccountTransactions.vue_vue_type_script_setup_true_lang-Df-p4utT.js";import w from"./UserForm-iUWIyV89.js";import{U as A}from"./UserOrganigram-CE4npHGN.js";import{d as T,r as k,o as u,c as o,a as s,b as a,Y as l,g as n,j as i,Z as I,_ as m,V as $,au as U,t as p,u as f,D as c,h as D,m as v,p as y,A as C,ai as S,x as g,$ as F}from"./app-BHvplgrW.js";import{_ as O}from"./UpdateProfileInformationForm.vue_vue_type_script_setup_true_lang-DFm9axfi.js";import{_ as B}from"./UpdatePasswordForm.vue_vue_type_script_setup_true_lang-EukUo4Kk.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./utils-ByE2Rxnn.js";import"./NewTimeAccountForm.vue_vue_type_script_setup_true_lang-6-zDC0bs.js";import"./TimeAccountDeleteForm.vue_vue_type_script_setup_true_lang-YlIHsVEc.js";import"./TimeAccountSettingsForm.vue_vue_type_script_setup_true_lang-D2dLWg5_.js";import"./TimeAccountTransactionForm.vue_vue_type_script_setup_true_lang-Cw974qK-.js";import"./TimeAccountTransferForm.vue_vue_type_script_setup_true_lang-DrM_Ff_S.js";import"./PermissionSelector.vue_vue_type_script_setup_true_lang-rgbndGLT.js";const M={class:"font-weight-bold"},N={colspan:"4"},x=T({__name:"UserShow",props:{user:{},supervisors:{},time_accounts:{},time_account_settings:{},time_account_transactions:{},defaultTimeAccountId:{},groups:{},operating_sites:{},permissions:{},organigramUsers:{},supervisor:{},countries:{},mustVerifyEmail:{type:Boolean},status:{}},setup(h){const d=k(route().params.tab??"generalInformation");return(e,t)=>(u(),o(_,{title:`${e.user.first_name} ${e.user.last_name} ${e.can("user","update")?"bearbeiten":""}`,backurl:e.user.id==e.$page.props.auth.user.id?e.route("dashboard"):e.route("user.index")},{default:s(()=>[a(I,{modelValue:d.value,"onUpdate:modelValue":t[0]||(t[0]=r=>d.value=r)},{default:s(()=>[a(l,{value:"generalInformation"},{default:s(()=>t[2]||(t[2]=[n("Allgemeine Informationen")])),_:1}),a(l,{value:"absences"},{default:s(()=>t[3]||(t[3]=[n("Abwesenheiten")])),_:1}),e.can("timeAccount","viewIndex")?(u(),o(l,{key:0,value:"timeAccounts"},{default:s(()=>t[4]||(t[4]=[n("Arbeitszeitkonten")])),_:1})):i("",!0),e.can("timeAccountTransaction","viewIndex")?(u(),o(l,{key:1,value:"timeAccountTransactions"},{default:s(()=>t[5]||(t[5]=[n("Transaktionen")])),_:1})):i("",!0),e.can("user","viewIndex")?(u(),o(l,{key:2,value:"userOrganigram"},{default:s(()=>t[6]||(t[6]=[n("Organigramm")])),_:1})):i("",!0),e.user.id==e.$page.props.auth.user.id?(u(),o(l,{key:3,value:"profile"},{default:s(()=>t[7]||(t[7]=[n("Profil")])),_:1})):i("",!0)]),_:1},8,["modelValue"]),a(F,{modelValue:d.value,"onUpdate:modelValue":t[1]||(t[1]=r=>d.value=r)},{default:s(()=>[a(m,{style:{"overflow-y":"auto"},value:"absences"},{default:s(()=>[a($,null,{default:s(()=>[a(U,null,{default:s(()=>[n("Abwesenheiten für das Jahr "+p(f(c).now().year),1)]),_:1}),a(D,null,{default:s(()=>[a(v,null,{default:s(()=>[a(y,{cols:"12"},{default:s(()=>[a(C,{id:"userAbsenceTable",items:e.user.absences.map(r=>({...r,start:f(c).fromSQL(r.start).toFormat("dd.MM.yyyy"),end:f(c).fromSQL(r.end).toFormat("dd.MM.yyyy"),absence_type:r.absence_type.name,usedDays:r.usedDays.toString()})),headers:[{title:"Start",key:"start"},{title:"Ende",key:"end"},{title:"Status",key:"status"},{title:"Art",key:"absence_type"},{title:"Genutzte Tage",key:"usedDays"}]},{"item.status":s(({item:r})=>[a(S,{color:{accepted:"success",created:"warning",declined:"error"}[r.status]},{default:s(()=>[n(p({accepted:"Genehmigt",created:"Offen",declined:"Abgelehnt"}[r.status]),1)]),_:2},1032,["color"])]),"body.append":s(()=>[g("tr",M,[g("td",N," Genutzte Urlaubstage für das Jahr "+p(f(c).now().year)+": ",1),g("td",null,p(e.user.usedLeaveDaysForYear+" von "+e.user.leaveDaysForYear),1)])]),_:1},8,["items"])]),_:1})]),_:1})]),_:1})]),_:1})]),_:1}),a(m,{style:{"overflow-y":"auto"},value:"generalInformation"},{default:s(()=>[a(w,{countries:e.countries,supervisors:e.supervisors,user:e.user,groups:e.groups,operating_sites:e.operating_sites,mode:"edit",permissions:e.permissions},null,8,["countries","supervisors","user","groups","operating_sites","permissions"])]),_:1}),e.can("timeAccount","viewIndex")?(u(),o(m,{key:0,style:{"overflow-y":"auto"},value:"timeAccounts"},{default:s(()=>[a(b,{user:e.user,time_accounts:e.time_accounts,time_account_settings:e.time_account_settings,defaultTimeAccountId:e.defaultTimeAccountId},null,8,["user","time_accounts","time_account_settings","defaultTimeAccountId"])]),_:1})):i("",!0),e.can("timeAccountTransaction","viewIndex")?(u(),o(m,{key:1,style:{"overflow-y":"auto"},value:"timeAccountTransactions"},{default:s(()=>[a(V,{time_accounts:e.time_accounts,time_account_transactions:e.time_account_transactions},null,8,["time_accounts","time_account_transactions"])]),_:1})):i("",!0),e.can("user","viewIndex")?(u(),o(m,{key:2,style:{"overflow-y":"auto"},value:"userOrganigram"},{default:s(()=>[a(A,{users:e.organigramUsers,supervisor:e.supervisor,currentUser:e.user},null,8,["users","supervisor","currentUser"])]),_:1})):i("",!0),e.user.id==e.$page.props.auth.user.id?(u(),o(m,{key:3,value:"profile"},{default:s(()=>[a(v,null,{default:s(()=>[a(y,{cols:"12",sm:"6"},{default:s(()=>[a(O,{"must-verify-email":e.mustVerifyEmail,status:e.status},null,8,["must-verify-email","status"])]),_:1}),a(y,{cols:"12",sm:"6"},{default:s(()=>[a(B)]),_:1})]),_:1})]),_:1})):i("",!0)]),_:1},8,["modelValue"])]),_:1},8,["title","backurl"]))}});export{x as default};
