import{d as k,B as _,C as g,a as i,o as n,L as m,b as a,f as t,e as V,j as c,z as b,F as p,ay as j,K as f,az as w,aA as K,m as C,M as v,aB as E}from"./app-CkPkeUk-.js";const L=k({__name:"PermissionSelector",props:_({permissions:{},label:{},errors:{},objKey:{},items:{}},{modelValue:{required:!0},modelModifiers:{}}),emits:["update:modelValue"],setup(h){const r=g(h,"modelValue");return(s,U)=>(n(),i(m,{cols:"12"},{default:a(()=>[t(j,{multiple:"",elevation:"1",variant:"accordion"},{default:a(()=>[(n(!0),c(p,null,b(s.items.filter(l=>l.keys.length>1),l=>(n(),i(w,{key:l.label},{default:a(()=>[t(K,{"expand-icon":"mdi-chevron-double-down","collapse-icon":"mdi-chevron-double-up"},{default:a(()=>[t(f,{onClick:C(()=>{},["stop"])},{default:a(()=>[t(m,{cols:"12",md:"6"},{default:a(()=>[t(v,{items:[{title:"Keine Rechte",value:null},{title:"Lesen",value:"read"},{title:"Schreiben",value:"write"}],label:l.label,"onUpdate:modelValue":u=>{l.keys.forEach(e=>{r.value[e]=u})},variant:"outlined"},null,8,["label","onUpdate:modelValue"])]),_:2},1024)]),_:2},1024)]),_:2},1024),t(E,null,{default:a(()=>[t(f,null,{default:a(()=>[(n(!0),c(p,null,b(r.value,(u,e)=>(n(),c(p,{key:e},[l.keys.includes(e)?(n(),i(m,{key:0,cols:"12",sm:"6",md:"3"},{default:a(()=>{var d;return[t(v,{label:(d=s.permissions.find(o=>o.name==e))==null?void 0:d.label,items:[{title:"Keine Rechte",value:null},{title:"Lesen",value:"read"},{title:"Schreiben",value:"write"}],modelValue:r.value[e],"onUpdate:modelValue":o=>r.value[e]=o,"error-messages":Object.entries(s.errors).filter(([o,y])=>o.includes(e)&&o.includes(s.objKey)&&y).map(([,o])=>o),variant:"outlined"},null,8,["label","modelValue","onUpdate:modelValue","error-messages"])]}),_:2},1024)):V("",!0)],64))),128))]),_:2},1024)]),_:2},1024)]),_:2},1024))),128))]),_:1}),s.items.some(l=>l.keys.length==1)?(n(),i(f,{key:0,class:"mt-4"},{default:a(()=>[(n(!0),c(p,null,b(s.items.filter(l=>l.keys.length==1),l=>(n(),i(m,{cols:"12",md:"6",key:l.label},{default:a(()=>{var u;return[t(v,{label:(u=s.permissions.find(e=>e.name==l.keys[0]))==null?void 0:u.label,items:[{title:"Keine Rechte",value:null},{title:"Lesen",value:"read"},{title:"Schreiben",value:"write"}],modelValue:r.value[l.keys[0]],"onUpdate:modelValue":e=>r.value[l.keys[0]]=e,"error-messages":Object.entries(s.errors).filter(([e,d])=>e.includes(l.keys[0])&&e.includes(s.objKey)&&d).map(([,e])=>e),variant:"outlined"},null,8,["label","modelValue","onUpdate:modelValue","error-messages"])]}),_:2},1024))),128))]),_:1})):V("",!0)]),_:1}))}});export{L as _};
