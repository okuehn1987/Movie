import{A as g}from"./AdminLayout-VkBESKnP.js";import{j as k,k as h,c as l}from"./utils-Kn0nHnZB.js";import{_ as b}from"./UserShowNavBar.vue_vue_type_script_setup_true_lang-Cd72aH2l.js";import{_ as A}from"./TimeAccountTransferForm.vue_vue_type_script_setup_true_lang-BYQT1-bL.js";import{_ as T}from"./NewTimeAccountForm.vue_vue_type_script_setup_true_lang-B57E6fX3.js";import{_ as v}from"./TimeAccountTransactionForm.vue_vue_type_script_setup_true_lang-D-_zvr1Q.js";import{_ as V}from"./TimeAccountSettingsForm.vue_vue_type_script_setup_true_lang-C6pP4Sa9.js";import{_ as B}from"./TimeAccountDeleteForm.vue_vue_type_script_setup_true_lang-DOzlpu1P.js";import{d as N,c as $,a as i,o as a,b as n,f as r,y as C,i as c,j as _,ao as d,s as u,t as o,h as D,e as s}from"./app-C09GDJq8.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";const j={class:"d-flex justify-end"},I={key:3,style:{width:"48px"}},w={key:1},O=N({__name:"TimeAccounts",props:{user:{},time_accounts:{},time_account_settings:{},defaultTimeAccountId:{}},setup(p){const f=p,m=$(()=>f.time_accounts.filter(e=>e.deleted_at==null));function y(e){return e.balance>0?"positive":e.balance<0?"negative":"balanced"}return(e,L)=>(a(),i(g,{title:e.user.first_name+" "+e.user.last_name},{default:n(()=>[r(b,{user:e.user,tab:"timeAccounts"},null,8,["user"]),r(C,{items:m.value.map(t=>({...t,type:c(h)(t.time_account_setting.type),truncation_cycle_length_in_months:c(k)(t.time_account_setting.truncation_cycle_length_in_months)})),headers:[{title:"Name",key:"name"},{title:"Ãœberstunden",key:"balance"},{title:"Limit",key:"balance_limit"},{title:"Typ",key:"type"},{title:"Berechnungszeitraum",key:"truncation_cycle_length_in_months"},{title:"",key:"actions",align:"end"}]},{"header.actions":n(()=>[e.can("timeAccountTransaction","create")?(a(),i(A,{key:0,time_accounts:e.time_accounts},null,8,["time_accounts"])):s("",!0),e.can("timeAccount","create")?(a(),i(T,{key:1,user:e.user,time_account_settings:e.time_account_settings},null,8,["user","time_account_settings"])):s("",!0)]),"item.actions":n(({item:t})=>[D("div",j,[e.can("timeAccountTransaction","create")?(a(),i(v,{key:0,item:t},null,8,["item"])):s("",!0),e.can("timeAccount","update")?(a(),i(V,{key:1,item:t,time_account_settings:e.time_account_settings,user:e.user},null,8,["item","time_account_settings","user"])):s("",!0),t.id!==e.defaultTimeAccountId&&e.can("timeAccount","delete")?(a(),i(B,{key:2,item:t},null,8,["item"])):m.value.length>1&&e.can("timeAccount","delete")?(a(),_("div",I)):s("",!0)])]),"item.balance":n(({item:t})=>[r(d,{color:{positive:"success",negative:"error",balanced:"black"}[y(t)]},{default:n(()=>[u(o(c(l)(t.balance)),1)]),_:2},1032,["color"])]),"item.balance_limit":n(({item:t})=>[u(o(c(l)(t.balance_limit)),1)]),"item.type":n(({item:t})=>[t.id==e.defaultTimeAccountId?(a(),i(d,{key:0,color:"purple-darken-1"},{default:n(()=>[u(o(t.type),1)]),_:2},1024)):(a(),_("span",w,o(t.type),1))]),_:1},8,["items"])]),_:1},8,["title"]))}});export{O as default};
