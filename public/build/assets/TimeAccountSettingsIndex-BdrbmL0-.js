import{d as f,T as g,o as r,c,b as e,e as t,p as s,V as m,z as V,u as n,s as y,f as d,W as h,g as S,i as C,l as T,m as A,n as _,I as b,q as k,h as N,k as x}from"./app-BaSD0p4g.js";import{_ as B}from"./AdminLayout.vue_vue_type_script_setup_true_lang-DKkSqD7v.js";import{d as v,e as p}from"./utils-Bblvg9i1.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";const z=[null,"1","3","6","12"],E=f({__name:"TimeAccountSettingsIndex",props:{timeAccountSettings:{}},setup(w){const o=g({type:"",truncation_cycle_length_in_months:null});return(u,i)=>(r(),c(B,{title:"Arbeitzeitkonten"},{default:e(()=>[t(_,null,{default:e(()=>[t(s,{cols:"12",lg:"6","offset-lg":"3"},{default:e(()=>[t(m,null,{default:e(()=>[t(V,{items:u.timeAccountSettings.map(l=>({...l,type:n(v)(l.type),truncation_cycle_length_in_months:n(p)(l.truncation_cycle_length_in_months)})),headers:[{title:"Art",key:"type"},{title:"Berechnungszeitraum",key:"truncation_cycle_length_in_months"},{title:"",key:"actions",align:"end"}]},{"header.actions":e(()=>[u.can("timeAccountSetting","create")?(r(),c(y,{key:0,"max-width":"1000"},{activator:e(({props:l})=>[t(d,h(l,{color:"primary"}),{default:e(()=>[t(S,{icon:"mdi-plus"})]),_:2},1040)]),default:e(({isActive:l})=>[t(m,{title:"Neue Variante Erstellen"},{default:e(()=>[t(C,null,{default:e(()=>[t(T,{onSubmit:A(a=>n(o).post(u.route("timeAccountSetting.store"),{onSuccess:()=>l.value=!1}),["prevent"])},{default:e(()=>[t(_,null,{default:e(()=>[t(s,{cols:"12",md:"6"},{default:e(()=>[t(b,{label:"Bezeichnung",modelValue:n(o).type,"onUpdate:modelValue":i[0]||(i[0]=a=>n(o).type=a)},null,8,["modelValue"])]),_:1}),t(s,{cols:"12",md:"6"},{default:e(()=>[t(k,{items:n(z).map(a=>({title:n(p)(a),value:a})),label:"Berechnungszeitraum",modelValue:n(o).truncation_cycle_length_in_months,"onUpdate:modelValue":i[1]||(i[1]=a=>n(o).truncation_cycle_length_in_months=a)},null,8,["items","modelValue"])]),_:1}),t(s,{cols:"12",class:"text-end"},{default:e(()=>[t(d,{type:"submit",color:"primary",loading:n(o).processing},{default:e(()=>i[2]||(i[2]=[N(" Speichern ")])),_:1},8,["loading"])]),_:1})]),_:1})]),_:2},1032,["onSubmit"])]),_:2},1024)]),_:2},1024)]),_:1})):x("",!0)]),_:1},8,["items"])]),_:1})]),_:1})]),_:1})]),_:1}))}});export{E as default};
