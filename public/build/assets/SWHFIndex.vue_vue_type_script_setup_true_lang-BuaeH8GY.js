import{d as w,r as x,C,o as u,E as b,e,b as a,v as W,V as k,G as S,f as d,g as V,h as v,i as H,l as z,m as p,p as B,q as m,s as D,u as i,K as A,A as T,c as g,k as f}from"./app-DbYHIE_J.js";import{_ as E}from"./ConfirmDelete.vue_vue_type_script_setup_true_lang-CsxaCzU0.js";const U=w({__name:"SWHFIndex",props:{special_working_hours_factors:{}},setup($){const y=[{key:"monday",value:"Montag"},{key:"tuesday",value:"Dienstag"},{key:"wednesday",value:"Mittwoch"},{key:"thursday",value:"Donnerstag"},{key:"friday",value:"Freitag"},{key:"saturday",value:"Samstag"},{key:"sunday",value:"Sonntag"}],n=x(!1),t=C({id:null,type:"",extra_charge:0});function _(s){t.id=s.id,t.type=s.type,t.extra_charge=s.extra_charge,n.value=!0}function h(){t.id!=null&&t.reset(),n.value=!0}function F(){t.post(route("specialWorkingHoursFactor.store"),{onSuccess:()=>{t.reset(),n.value=!1}})}return(s,r)=>(u(),b(S,null,[e(W,{"max-width":"1000",modelValue:n.value,"onUpdate:modelValue":r[2]||(r[2]=l=>n.value=l)},{default:a(({isActive:l})=>[e(k,{title:"Besondere Arbeitszeitzuschläge"},{append:a(()=>[e(d,{icon:"",variant:"text",onClick:o=>l.value=!1},{default:a(()=>[e(V,null,{default:a(()=>r[4]||(r[4]=[v("mdi-close")])),_:1})]),_:2},1032,["onClick"])]),default:a(()=>[e(H,null,{default:a(()=>[e(z,{onSubmit:p(F,["prevent"])},{default:a(()=>[e(B,null,{default:a(()=>[e(m,{cols:"12",md:"6"},{default:a(()=>[e(D,{"data-testid":"swhfWeekday",modelValue:i(t).type,"onUpdate:modelValue":r[0]||(r[0]=o=>i(t).type=o),label:"Wochentag","error-messages":i(t).errors.type,items:y.filter(o=>!s.special_working_hours_factors.find(c=>o.key==c.type)),"item-title":"value","item-value":"key"},null,8,["modelValue","error-messages","items"])]),_:1}),e(m,{cols:"12",md:"6"},{default:a(()=>[e(A,{label:"Faktor Zuschlag",required:"","error-messages":i(t).errors.extra_charge,modelValue:i(t).extra_charge,"onUpdate:modelValue":r[1]||(r[1]=o=>i(t).extra_charge=o)},null,8,["error-messages","modelValue"])]),_:1}),e(m,{cols:"12",class:"text-end"},{default:a(()=>[e(d,{loading:i(t).processing,type:"submit",color:"primary"},{default:a(()=>r[5]||(r[5]=[v("Speichern")])),_:1},8,["loading"])]),_:1})]),_:1})]),_:1})]),_:1})]),_:2},1024)]),_:1},8,["modelValue"]),e(k,null,{default:a(()=>[e(T,{hover:"",items:s.special_working_hours_factors.map(l=>{var o;return{...l,type:(o=y.find(c=>c.key===l.type))==null?void 0:o.value}}),headers:[{title:"Tag",key:"type"},{title:"Faktor",key:"extra_charge"},{title:"",key:"actions",align:"end"}]},{"header.actions":a(()=>[s.can("specialWorkingHoursFactors","create")?(u(),g(d,{key:0,onClick:r[3]||(r[3]=p(l=>h(),["stop"])),color:"primary"},{default:a(()=>[e(V,{icon:"mdi-plus"})]),_:1})):f("",!0)]),"item.actions":a(({item:l})=>[s.can("specialWorkingHoursFactors","update")?(u(),g(d,{key:0,onClick:p(o=>_(l),["stop"]),color:"primary",size:"large",variant:"text",icon:"mdi-pencil"},null,8,["onClick"])):f("",!0),s.can("specialWorkingHoursFactors","delete")?(u(),g(E,{key:1,content:"Bist du dir sicher, dass du diesen Arbeitszeitzuschlag entfernen möchtest?",route:s.route("specialWorkingHoursFactor.destroy",{specialWorkingHoursFactor:l.id}),title:"Arbeitszuschlag löschen"},null,8,["route"])):f("",!0)]),_:1},8,["items"])]),_:1})],64))}});export{U as _};
