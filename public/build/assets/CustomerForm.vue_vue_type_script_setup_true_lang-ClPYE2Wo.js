import{d as F,c as K,a as f,b as d,e,g as s,V as k,i as C,L as g,M as m,P as y,h as a,j as L,k as $,f as _,S as T,t as u,v as j,m as i,p,B as D,q as w,R as M,K as P}from"./app-BSUkKiOk.js";const R={class:"d-flex justify-space-between"},U={key:1},x=F({__name:"CustomerForm",props:{customer:{}},emits:["close"],setup(B,{emit:N}){var b,v;const n=B,V=K(()=>n.customer?"edit":"create"),S=N,l=useForm({name:((b=n.customer)==null?void 0:b.name)??"",reference_number:((v=n.customer)==null?void 0:v.reference_number)??""});return(o,t)=>(d(),f(P,{onSubmit:t[3]||(t[3]=p(r=>{var c;return(c=n.customer)!=null&&c.id?a(l).patch(o.route("customer.update",{customer:n.customer.id})):a(l).post(o.route("customer.store"))},["prevent"]))},{default:e(()=>[s(k,{title:V.value=="create"?"Neuen Kunden anlegen":""},{append:e(()=>[V.value=="create"?(d(),f(i,{key:0,icon:"",variant:"text",onClick:t[0]||(t[0]=r=>S("close"))},{default:e(()=>[s(w,null,{default:e(()=>[...t[4]||(t[4]=[u("mdi-close",-1)])]),_:1})]),_:1})):_("",!0)]),default:e(()=>[s(C,null,{default:e(()=>[s(g,null,{default:e(()=>[s(m,{cols:"12",md:"6"},{default:e(()=>[s(y,{label:"Name",modelValue:a(l).name,"onUpdate:modelValue":t[1]||(t[1]=r=>a(l).name=r),"error-messages":a(l).errors.name,disabled:!o.can("customer","update")},null,8,["modelValue","error-messages","disabled"])]),_:1}),s(m,{cols:"12",md:"6"},{default:e(()=>[s(y,{label:"Kundennummer (optional)",modelValue:a(l).reference_number,"onUpdate:modelValue":t[2]||(t[2]=r=>a(l).reference_number=r),"error-messages":a(l).errors.reference_number,disabled:!o.can("customer","update")},null,8,["modelValue","error-messages","disabled"])]),_:1}),s(m,{cols:"12"},{default:e(()=>[L("div",R,[o.customer&&o.can("customer","delete")?(d(),f(T,{key:0,"max-width":"1000"},{activator:e(({props:r})=>[s(i,M(r,{color:"error"}),{default:e(()=>[...t[5]||(t[5]=[u("Löschen",-1)])]),_:1},16)]),default:e(({isActive:r})=>[s(k,{title:"Kunde Löschen"},{append:e(()=>[s(i,{icon:"",variant:"text",onClick:p(c=>r.value=!1,["stop"])},{default:e(()=>[s(w,null,{default:e(()=>[...t[6]||(t[6]=[u("mdi-close",-1)])]),_:1})]),_:1},8,["onClick"])]),default:e(()=>[s(C,null,{default:e(()=>[s(g,null,{default:e(()=>[s(m,{cols:"12"},{default:e(()=>[u(' Sind Sie sich sicher, dass der Kunde "'+j(o.customer.name)+'" gelöscht werden soll? ',1)]),_:1}),s(m,{cols:"12",class:"text-end"},{default:e(()=>[s(i,{onClick:p(c=>a(D).delete(o.route("customer.destroy",{customer:o.customer.id}),{onSuccess:()=>r.value=!1}),["stop"]),color:"error"},{default:e(()=>[...t[7]||(t[7]=[u(" Löschen ",-1)])]),_:1},8,["onClick"])]),_:2},1024)]),_:2},1024)]),_:2},1024)]),_:2},1024)]),_:1})):(d(),$("div",U)),o.can("customer","update")?(d(),f(i,{key:2,color:"primary",type:"submit"},{default:e(()=>[...t[8]||(t[8]=[u("speichern",-1)])]),_:1})):_("",!0)])]),_:1})]),_:1})]),_:1})]),_:1},8,["title"])]),_:1}))}});export{x as _};
