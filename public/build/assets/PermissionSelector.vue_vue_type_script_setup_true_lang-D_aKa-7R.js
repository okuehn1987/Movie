import{d as V,ar as g,as as j,N as w,o as n,v as m,b as u,w as c,n as p,F as b,x as _,p as v,c as h,s as i,t as y}from"./app-BglVT0J3.js";const O={class:"d-flex align-center"},S={class:"w-50"},k={class:"w-50"},C=V({__name:"PermissionSelector",props:g({permissions:{},label:{},errors:{},objKey:{}},{modelValue:{required:!0},modelModifiers:{}}),emits:["update:modelValue"],setup(d){const f=d,a=j(d,"modelValue"),r=w({get:()=>Object.entries(a.value).filter(([l,t])=>f.permissions.find(e=>e.name==l)&&t).map(([l])=>l),set:l=>{const t=l.reduce((e,o)=>(e[o]=a.value[o]||"read",e),{});a.value={...Object.fromEntries(Object.keys(a.value).map(e=>[e,null])),...t}}});return(l,t)=>(n(),m(b,null,[u(p,{cols:"12"},{default:c(()=>[u(v,{multiple:"",chips:"",label:l.label,modelValue:r.value,"onUpdate:modelValue":t[0]||(t[0]=e=>r.value=e),items:l.permissions.filter(e=>e.name in a.value).map(e=>({title:e.label,value:e.name}))},null,8,["label","modelValue","items"])]),_:1}),(n(!0),m(b,null,_(r.value,e=>(n(),h(p,{cols:"12",md:"6",key:e},{default:c(()=>{var o;return[i("div",O,[i("span",S,y((o=l.permissions.find(s=>s.name==e))==null?void 0:o.label),1),i("span",k,[u(v,{class:"ms-4",label:"Stufe",items:[{title:"Lesen",value:"read"},{title:"Schreiben",value:"write"}],modelValue:a.value[e],"onUpdate:modelValue":s=>a.value[e]=s,"error-messages":Object.entries(l.errors).filter(([s])=>s.includes(e)&&s.includes(l.objKey)).map(([,s])=>s)},null,8,["modelValue","onUpdate:modelValue","error-messages"])])])]}),_:2},1024))),128))],64))}});export{C as _};
