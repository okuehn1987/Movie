import{d as k,B as A,C as h,a as r,o as c,b as s,f as a,V as M,x as _,h as B,J as D,K as T,L as d,M as R,O as V,e as N,l as p,m as v,s as m,p as P,Q as S,A as o}from"./app-CXxjfpm2.js";const q=k({__name:"ShowAbsenceModal",props:A({users:{},absenceTypes:{},selectedAbsence:{},absenceUser:{}},{modelValue:{type:Boolean,required:!0},modelModifiers:{}}),emits:A(["absenceReload"],["update:modelValue"]),setup(b,{emit:y}){const C=y,n=b,u=h(b,"modelValue");function g(){"absence_id"in n.selectedAbsence?o.get(route("dispute.index",{openAbsencePatch:n.selectedAbsence.absence_id})):o.get(route("dispute.index",{openAbsence:n.selectedAbsence.id}))}function w(){const e={onSuccess:()=>{u.value=!1,C("absenceReload")}};"absence_id"in n.selectedAbsence?o.delete(route("absencePatch.destroy",{absencePatch:n.selectedAbsence.id}),e):o.delete(route("absence.destroyDispute",{absence:n.selectedAbsence.id}),e)}return(e,t)=>(c(),r(S,{"max-width":"1000",modelValue:u.value,"onUpdate:modelValue":t[0]||(t[0]=i=>u.value=i)},{default:s(({isActive:i})=>{var f;return[a(M,{title:"Abwesenheit"+(e.selectedAbsence.user_id!=e.$page.props.auth.user.id?" von "+((f=e.users.map(l=>({...l,name:l.first_name+" "+l.last_name})).find(l=>l.id===e.selectedAbsence.user_id))==null?void 0:f.name):"")},{append:s(()=>[a(p,{icon:"",variant:"text",onClick:l=>i.value=!1},{default:s(()=>[a(P,null,{default:s(()=>[...t[1]||(t[1]=[m("mdi-close",-1)])]),_:1})]),_:1},8,["onClick"])]),default:s(()=>[a(_),a(B,null,{default:s(()=>[a(D,{readonly:""},{default:s(()=>[a(T,null,{default:s(()=>[a(d,{cols:"12"},{default:s(()=>[a(R,{label:"Abwesenheitsgrund angeben",items:e.absenceTypes.map(l=>({title:l.name,value:l.id})),"model-value":e.selectedAbsence.absence_type_id},null,8,["items","model-value"])]),_:1}),a(d,{cols:"12",md:"6"},{default:s(()=>[a(V,{type:"date",label:"Von","model-value":e.selectedAbsence.start},null,8,["model-value"])]),_:1}),a(d,{cols:"12",md:"6"},{default:s(()=>[a(V,{type:"date",label:"Bis","model-value":e.selectedAbsence.end},null,8,["model-value"])]),_:1}),a(d,{cols:"12",class:"text-end"},{default:s(()=>[e.can("user","viewDisputes")&&e.$page.props.auth.user.id!=e.selectedAbsence.user_id?(c(),r(p,{key:0,onClick:v(g,["stop"]),type:"button",color:"primary"},{default:s(()=>[...t[2]||(t[2]=[m(" Antrag öffnen ",-1)])]),_:1})):e.can("absence","deleteDispute",e.selectedAbsence)?(c(),r(p,{key:1,onClick:v(w,["stop"]),type:"button",color:"primary"},{default:s(()=>[...t[3]||(t[3]=[m(" Antrag zurückziehen ",-1)])]),_:1})):N("",!0)]),_:1})]),_:1})]),_:1})]),_:1})]),_:2},1032,["title"])]}),_:1},8,["modelValue"]))}});export{q as _};
