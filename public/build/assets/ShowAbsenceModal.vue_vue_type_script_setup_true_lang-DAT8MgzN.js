import{d as _,y as g,z as k,o as c,a as r,b as e,A as C,f as a,h as b,j as w,k as p,V as h,C as M,E as B,H as d,I as z,J as A,i as V,v as P,G as o}from"./app-STUEfLox.js";const T=_({__name:"ShowAbsenceModal",props:g({users:{},absence_types:{},selectedAbsence:{},absenceUser:{}},{modelValue:{type:Boolean,required:!0},modelModifiers:{}}),emits:["update:modelValue"],setup(m){const n=m,u=k(m,"modelValue");function y(){"absence_id"in n.selectedAbsence?o.get(route("dispute.index",{openAbsencePatch:n.selectedAbsence.absence_id})):o.get(route("dispute.index",{openAbsence:n.selectedAbsence.id}))}function v(){const s={onSuccess:()=>{u.value=!1}};"absence_id"in n.selectedAbsence?o.delete(route("absencePatch.destroy",{absencePatch:n.selectedAbsence.id}),s):o.delete(route("absence.destroy",{absence:n.selectedAbsence.id}),s)}return(s,t)=>(c(),r(C,{"max-width":"1000",modelValue:u.value,"onUpdate:modelValue":t[0]||(t[0]=i=>u.value=i)},{default:e(({isActive:i})=>{var f;return[a(P,{title:"Abwesenheit"+(s.selectedAbsence.user_id!=s.$page.props.auth.user.id?" von "+((f=s.users.map(l=>({...l,name:l.first_name+" "+l.last_name})).find(l=>l.id===s.selectedAbsence.user_id))==null?void 0:f.name):"")+" beantragen"},{append:e(()=>[a(b,{icon:"",variant:"text",onClick:l=>i.value=!1},{default:e(()=>[a(w,null,{default:e(()=>t[1]||(t[1]=[p("mdi-close")])),_:1})]),_:2},1032,["onClick"])]),default:e(()=>[a(h,null,{default:e(()=>[a(M,{readonly:""},{default:e(()=>[a(B,null,{default:e(()=>[a(d,{cols:"12"},{default:e(()=>[a(z,{label:"Abwesenheitsgrund angeben",items:s.absence_types.map(l=>({title:l.name,value:l.id})),"model-value":s.selectedAbsence.absence_type_id},null,8,["items","model-value"])]),_:1}),a(d,{cols:"12",md:"6"},{default:e(()=>[a(A,{type:"date",label:"Von","model-value":s.selectedAbsence.start},null,8,["model-value"])]),_:1}),a(d,{cols:"12",md:"6"},{default:e(()=>[a(A,{type:"date",label:"Bis","model-value":s.selectedAbsence.end},null,8,["model-value"])]),_:1}),a(d,{cols:"12",class:"text-end"},{default:e(()=>[s.can("absence","update",s.absenceUser)?(c(),r(b,{key:0,onClick:V(y,["stop"]),type:"button",color:"primary"},{default:e(()=>t[2]||(t[2]=[p(" Antrag öffnen ")])),_:1})):(c(),r(b,{key:1,onClick:V(v,["stop"]),type:"button",color:"primary"},{default:e(()=>t[3]||(t[3]=[p("Antrag zurückziehen")])),_:1}))]),_:1})]),_:1})]),_:1})]),_:1})]),_:2},1032,["title"])]}),_:1},8,["modelValue"]))}});export{T as _};
