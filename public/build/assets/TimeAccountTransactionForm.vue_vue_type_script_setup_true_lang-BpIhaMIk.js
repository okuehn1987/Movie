import{d as b,C as c,o as g,c as S,b as t,u as n,v,e,g as m,W as D,f as d,m as p,h as f,i as _,l as C,p as A,q as i,s as T,K as V,V as x}from"./app-DbYHIE_J.js";const k=b({__name:"TimeAccountTransactionForm",props:{item:{}},setup(B){const o=c({from_id:null,to_id:null,amount:0,description:"",addOrSub:"ADD"});return(s,l)=>(g(),S(v,{onAfterLeave:l[3]||(l[3]=r=>n(o).reset()),"max-width":"1000"},{activator:t(({props:r})=>[e(d,D(r,{color:"primary",icon:"",variant:"text"}),{default:t(()=>[e(m,{icon:"mdi-plus-minus"})]),_:2},1040)]),default:t(({isActive:r})=>[e(x,{title:`Stunden für Konto ${s.item.name} bearbeiten`},{append:t(()=>[e(d,{icon:"",variant:"text",onClick:p(a=>r.value=!1,["stop"])},{default:t(()=>[e(m,null,{default:t(()=>l[4]||(l[4]=[f("mdi-close")])),_:1})]),_:2},1032,["onClick"])]),default:t(()=>[e(_,null,{default:t(()=>[e(C,{onSubmit:p(a=>{n(o).transform(u=>({...u,amount:u.amount,from_id:u.addOrSub=="ADD"?null:s.item.id,to_id:u.addOrSub=="ADD"?s.item.id:null})).post(s.route("timeAccountTransaction.store"),{onSuccess:()=>{r.value=!1,n(o).reset()}})},["prevent"])},{default:t(()=>[e(A,null,{default:t(()=>[e(i,{cols:"12",md:"6"},{default:t(()=>[e(T,{items:[{title:"Stunden hinzufügen",value:"ADD"},{title:"Stunden abziehen",value:"SUB"}],label:"Vorgang",modelValue:n(o).addOrSub,"onUpdate:modelValue":l[0]||(l[0]=a=>n(o).addOrSub=a)},null,8,["modelValue"])]),_:1}),e(i,{cols:"12",md:"6"},{default:t(()=>[e(V,{type:"number",label:"Stunden",modelValue:n(o).amount,"onUpdate:modelValue":l[1]||(l[1]=a=>n(o).amount=a),"error-messages":n(o).errors.amount},null,8,["modelValue","error-messages"])]),_:1}),e(i,{cols:"12"},{default:t(()=>[e(V,{label:"Beschreibung",hint:"Die Beschreibung ist für die Darstellung der Historie",modelValue:n(o).description,"onUpdate:modelValue":l[2]||(l[2]=a=>n(o).description=a),"error-messages":n(o).errors.description},null,8,["modelValue","error-messages"])]),_:1}),e(i,{cols:"12",class:"text-end"},{default:t(()=>[e(d,{type:"submit",color:"primary",loading:n(o).processing},{default:t(()=>l[5]||(l[5]=[f(" Speichern ")])),_:1},8,["loading"])]),_:1})]),_:1})]),_:2},1032,["onSubmit"])]),_:2},1024)]),_:2},1032,["title"])]),_:1}))}});export{k as _};
