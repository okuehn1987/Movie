import{d as g,o as i,c as m,a,V as p,b as e,v as y,e as d,U as v,f as b,g as V,h as _,k as c,l as k,u as r,m as T,p as o,s as f,q,X as w,j as C,A as x}from"./app-BMJyNPoX.js";const F=g({__name:"AbsenceTypeIndex",props:{absenceTypes:{},types:{},absence_type_defaults:{}},setup(A){const s=useForm({name:"",abbreviation:"",type:"",requires_approval:!1});return(n,l)=>(i(),m(p,null,{default:a(()=>[e(x,{hover:"",headers:[{title:"Abwesenheitsgrund",key:"name"},{title:"Abkürzung",key:"abbreviation"},{title:"Muss genehmigt werden",key:"requires_approval"},{title:"",key:"action",align:"end"}],items:n.absenceTypes},{"header.action":a(()=>[n.can("absenceType","create")?(i(),m(y,{key:0,"max-width":"1000"},{activator:a(({props:u})=>[e(d,v(u,{color:"primary"}),{default:a(()=>[e(b,{icon:"mdi-plus"})]),_:2},1040)]),default:a(({isActive:u})=>[e(p,{title:"Abwesenheitgrund erstellen"},{append:a(()=>[e(d,{icon:"",variant:"text",onClick:t=>u.value=!1},{default:a(()=>[e(b,null,{default:a(()=>l[4]||(l[4]=[V("mdi-close")])),_:1})]),_:2},1032,["onClick"])]),default:a(()=>[e(_,null,{default:a(()=>[e(c,{onSubmit:k(t=>{r(s).post(n.route("absenceType.store"),{onSuccess:()=>{r(s).reset(),u.value=!1}})},["prevent"])},{default:a(()=>[e(T,null,{default:a(()=>[e(o,{cols:"12",md:"6"},{default:a(()=>[e(f,{label:"Abwesenheitsgrund",required:"","error-messages":r(s).errors.name,modelValue:r(s).name,"onUpdate:modelValue":l[0]||(l[0]=t=>r(s).name=t)},null,8,["error-messages","modelValue"])]),_:1}),e(o,{cols:"12",md:"6"},{default:a(()=>[e(f,{label:"Abkürzung",required:"","error-messages":r(s).errors.abbreviation,modelValue:r(s).abbreviation,"onUpdate:modelValue":l[1]||(l[1]=t=>r(s).abbreviation=t)},null,8,["error-messages","modelValue"])]),_:1}),e(o,{cols:"12",md:"6"},{default:a(()=>[e(q,{"data-testid":"typeOfAbsence",label:"Typ",items:n.absence_type_defaults,required:"","error-messages":r(s).errors.type,modelValue:r(s).type,"onUpdate:modelValue":l[2]||(l[2]=t=>r(s).type=t)},null,8,["items","error-messages","modelValue"])]),_:1}),e(o,{cols:"12",md:"6"},{default:a(()=>[e(w,{label:"Muss genehmigt werden?",required:"","error-messages":r(s).errors.requires_approval,modelValue:r(s).requires_approval,"onUpdate:modelValue":l[3]||(l[3]=t=>r(s).requires_approval=t)},null,8,["error-messages","modelValue"])]),_:1}),e(o,{cols:"12",class:"text-end"},{default:a(()=>[e(d,{loading:r(s).processing,type:"submit",color:"primary"},{default:a(()=>l[5]||(l[5]=[V("Erstellen")])),_:1},8,["loading"])]),_:1})]),_:1})]),_:2},1032,["onSubmit"])]),_:2},1024)]),_:2},1024)]),_:1})):C("",!0)]),_:1},8,["items"])]),_:1}))}});export{F as _};
