import{_ as f}from"./ConfirmDelete.vue_vue_type_script_setup_true_lang-ChHw_Ojr.js";import{A as c}from"./AdminLayout-wjwCvMNd.js";import{u as _,i as y,n as h}from"./utils-CV5_pW2n.js";import{d as g,a as i,b as a,e as t,g as r,V as l,z as k,h as o,D as V,s as u,j as b,f as m,k as v,X as M,m as d,S as C,i as w,L as S,M as B,R as H,q as N}from"./app-BnNJe6XS.js";import x from"./UserForm-CA_IHFod.js";import"./ChatDetails-Byztl057.js";import"./ChatMessage-BUUITEWL.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./HertaUserFormSections.vue_vue_type_script_setup_true_lang-y6HY4Qrn.js";import"./PermissionSelector.vue_vue_type_script_setup_true_lang-Cd6pXqNj.js";const D={class:"d-flex justify-end"},T={key:2,style:{width:"48px"}},G=g({__name:"UserIndex",props:{users:{},supervisors:{},groups:{},operating_sites:{},permissions:{},countries:{}},setup(j){const p=_(0);return(s,z)=>(a(),i(c,{title:"Mitarbeiter"},{default:t(()=>[r(l,null,{default:t(()=>[r(k,{"fixed-header":"",style:u({maxHeight:o(p)}),"no-data-text":"Es wurden keine Mitarbeiter gefunden",headers:[{title:"Vorname",key:"first_name"},{title:"Nachname",key:"last_name"},{title:"Email",key:"email"},{title:"Abteilung",key:"group.name"},{title:"Personalnummer",key:"staff_number"},{title:"Geburtsdatum",key:"date_of_birth"},{title:"Stellenbezeichnung",key:"job_role"},{title:"",key:"actions",align:"end"}],items:s.users.map(e=>({...o(y)(e),date_of_birth:o(V).fromFormat(e.date_of_birth,"yyyy-MM-dd").toFormat("dd.MM.yyyy")})).toSorted((e,n)=>(e.first_name+e.last_name).localeCompare(n.first_name+n.last_name)),hover:""},{"header.actions":t(()=>[s.can("user","create")?(a(),i(C,{key:0,"max-width":"1200"},{activator:t(({props:e})=>[r(d,H(e,{color:"primary"}),{default:t(()=>[r(N,{icon:"mdi-plus"})]),_:1},16)]),default:t(({isActive:e})=>[r(l,{style:u([{overflow:"auto"},{maxHeight:o(h)(48)}])},{default:t(()=>[r(w,null,{default:t(()=>[r(S,null,{default:t(()=>[r(B,{cols:"12"},{default:t(()=>[r(x,{countries:s.countries,supervisors:s.supervisors,groups:s.groups,operating_sites:s.operating_sites,permissions:s.permissions,mode:"create",onClose:n=>e.value=!1},null,8,["countries","supervisors","groups","operating_sites","permissions","onClose"])]),_:2},1024)]),_:2},1024)]),_:2},1024)]),_:2},1032,["style"])]),_:1})):m("",!0)]),"item.actions":t(({item:e})=>[b("div",D,[s.can("user","viewShow",e)?(a(),i(o(M),{key:0,href:s.route("user.generalInformation",{user:e.id})},{default:t(()=>[r(d,{color:"primary",variant:"text",icon:"mdi-eye"})]),_:1},8,["href"])):m("",!0),s.can("user","delete",e)?(a(),i(f,{key:1,content:"Bist du dir sicher, dass du "+e.first_name+" "+e.last_name+" entfernen möchtest?",route:s.route("user.destroy",{user:e.id}),title:"Mitarbeiter löschen"},null,8,["content","route"])):(a(),v("div",T))])]),_:1},8,["style","items"])]),_:1})]),_:1}))}});export{G as default};
