import{d as x,r as w,j as C,o as u,f as e,b as a,V as k,x as b,g as W,J as S,m,K as D,L as p,M as H,i,O as z,l as d,s as V,p as v,Q as B,y as T,a as g,e as f,F as A}from"./app-BA-S_5XK.js";import{_ as M}from"./ConfirmDelete.vue_vue_type_script_setup_true_lang-DQwuKdQv.js";const U=x({__name:"SWHFIndex",props:{special_working_hours_factors:{}},setup($){const y=[{key:"monday",value:"Montag"},{key:"tuesday",value:"Dienstag"},{key:"wednesday",value:"Mittwoch"},{key:"thursday",value:"Donnerstag"},{key:"friday",value:"Freitag"},{key:"saturday",value:"Samstag"},{key:"sunday",value:"Sonntag"}],n=w(!1),t=useForm({id:null,type:"",extra_charge:0});function _(s){t.id=s.id,t.type=s.type,t.extra_charge=s.extra_charge,n.value=!0}function h(){t.id!=null&&t.reset(),n.value=!0}function F(){t.post(route("specialWorkingHoursFactor.store"),{onSuccess:()=>{t.reset(),n.value=!1}})}return(s,r)=>(u(),C(A,null,[e(B,{"max-width":"1000",modelValue:n.value,"onUpdate:modelValue":r[2]||(r[2]=l=>n.value=l)},{default:a(({isActive:l})=>[e(k,{title:"Besondere Arbeitszeitzuschläge"},{append:a(()=>[e(d,{icon:"",variant:"text",onClick:o=>{l.value=!1,i(t).reset()}},{default:a(()=>[e(v,null,{default:a(()=>[...r[4]||(r[4]=[V("mdi-close",-1)])]),_:1})]),_:1},8,["onClick"])]),default:a(()=>[e(b),e(W,null,{default:a(()=>[e(S,{onSubmit:m(F,["prevent"])},{default:a(()=>[e(D,null,{default:a(()=>[e(p,{cols:"12",md:"6"},{default:a(()=>[e(H,{"data-testid":"swhfWeekday",modelValue:i(t).type,"onUpdate:modelValue":r[0]||(r[0]=o=>i(t).type=o),label:"Wochentag","error-messages":i(t).errors.type,items:y.filter(o=>!s.special_working_hours_factors.find(c=>o.key==c.type)),"item-title":"value","item-value":"key"},null,8,["modelValue","error-messages","items"])]),_:1}),e(p,{cols:"12",md:"6"},{default:a(()=>[e(z,{label:"Faktor Zuschlag",required:"","error-messages":i(t).errors.extra_charge,modelValue:i(t).extra_charge,"onUpdate:modelValue":r[1]||(r[1]=o=>i(t).extra_charge=o)},null,8,["error-messages","modelValue"])]),_:1}),e(p,{cols:"12",class:"text-end"},{default:a(()=>[e(d,{loading:i(t).processing,type:"submit",color:"primary"},{default:a(()=>[...r[5]||(r[5]=[V("Speichern",-1)])]),_:1},8,["loading"])]),_:1})]),_:1})]),_:1})]),_:1})]),_:2},1024)]),_:1},8,["modelValue"]),e(k,null,{default:a(()=>[e(T,{hover:"",items:s.special_working_hours_factors.map(l=>{var o;return{...l,type:(o=y.find(c=>c.key===l.type))==null?void 0:o.value}}),headers:[{title:"Tag",key:"type"},{title:"Faktor",key:"extra_charge"},{title:"",key:"actions",align:"end"}]},{"header.actions":a(()=>[s.can("specialWorkingHoursFactors","create")?(u(),g(d,{key:0,onClick:r[3]||(r[3]=m(l=>h(),["stop"])),color:"primary"},{default:a(()=>[e(v,{icon:"mdi-plus"})]),_:1})):f("",!0)]),"item.actions":a(({item:l})=>[s.can("specialWorkingHoursFactors","update")?(u(),g(d,{key:0,onClick:m(o=>_(l),["stop"]),color:"primary",size:"large",variant:"text",icon:"mdi-pencil"},null,8,["onClick"])):f("",!0),s.can("specialWorkingHoursFactors","delete")?(u(),g(M,{key:1,content:"Bist du dir sicher, dass du diesen Arbeitszeitzuschlag entfernen möchtest?",route:s.route("specialWorkingHoursFactor.destroy",{specialWorkingHoursFactor:l.id}),title:"Arbeitszuschlag löschen"},null,8,["route"])):f("",!0)]),_:1},8,["items"])]),_:1})],64))}});export{U as default};
