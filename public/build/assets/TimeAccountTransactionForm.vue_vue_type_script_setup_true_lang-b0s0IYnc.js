import{d as b,a as c,o as g,b as t,f as e,V as S,g as v,C as D,m,j as n,N as _,O as i,H as C,P as p,l as d,q as f,n as V,I as A,J as T}from"./app-11KYkfCY.js";const O=b({__name:"TimeAccountTransactionForm",props:{item:{}},setup(x){const o=useForm({from_id:null,to_id:null,amount:0,description:"",addOrSub:"ADD"});return(s,l)=>(g(),c(T,{onAfterLeave:l[3]||(l[3]=r=>n(o).reset()),"max-width":"1000"},{activator:t(({props:r})=>[e(d,A(r,{color:"primary",icon:"",variant:"text"}),{default:t(()=>[e(V,{icon:"mdi-plus-minus"})]),_:1},16)]),default:t(({isActive:r})=>[e(S,{title:`Stunden für Konto ${s.item.name} bearbeiten`},{append:t(()=>[e(d,{icon:"",variant:"text",onClick:m(a=>r.value=!1,["stop"])},{default:t(()=>[e(V,null,{default:t(()=>[...l[4]||(l[4]=[f("mdi-close",-1)])]),_:1})]),_:1},8,["onClick"])]),default:t(()=>[e(v,null,{default:t(()=>[e(D,{onSubmit:m(a=>{n(o).transform(u=>({...u,amount:u.amount,from_id:u.addOrSub=="ADD"?null:s.item.id,to_id:u.addOrSub=="ADD"?s.item.id:null})).post(s.route("timeAccountTransaction.store"),{onSuccess:()=>{r.value=!1,n(o).reset()}})},["prevent"])},{default:t(()=>[e(_,null,{default:t(()=>[e(i,{cols:"12",md:"6"},{default:t(()=>[e(C,{items:[{title:"Stunden hinzufügen",value:"ADD"},{title:"Stunden abziehen",value:"SUB"}],label:"Vorgang",modelValue:n(o).addOrSub,"onUpdate:modelValue":l[0]||(l[0]=a=>n(o).addOrSub=a)},null,8,["modelValue"])]),_:1}),e(i,{cols:"12",md:"6"},{default:t(()=>[e(p,{type:"number",label:"Stunden",modelValue:n(o).amount,"onUpdate:modelValue":l[1]||(l[1]=a=>n(o).amount=a),"error-messages":n(o).errors.amount},null,8,["modelValue","error-messages"])]),_:1}),e(i,{cols:"12"},{default:t(()=>[e(p,{label:"Beschreibung",hint:"Die Beschreibung ist für die Darstellung der Historie",modelValue:n(o).description,"onUpdate:modelValue":l[2]||(l[2]=a=>n(o).description=a),"error-messages":n(o).errors.description},null,8,["modelValue","error-messages"])]),_:1}),e(i,{cols:"12",class:"text-end"},{default:t(()=>[e(d,{type:"submit",color:"primary",loading:n(o).processing},{default:t(()=>[...l[5]||(l[5]=[f(" Speichern ",-1)])]),_:1},8,["loading"])]),_:1})]),_:1})]),_:1},8,["onSubmit"])]),_:2},1024)]),_:2},1032,["title"])]),_:1}))}});export{O as _};
