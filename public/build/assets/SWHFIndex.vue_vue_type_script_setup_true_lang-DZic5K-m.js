import{d as w,r as x,o as u,C,b as e,a,v as b,V as k,F as W,e as d,f as V,g as v,h as S,k as H,l as m,m as z,p,q as B,u as n,s as D,A,c as g,j as f}from"./app-CxU7NZGP.js";import{_ as T}from"./ConfirmDelete.vue_vue_type_script_setup_true_lang-B97DNd7v.js";const N=w({__name:"SWHFIndex",props:{special_working_hours_factors:{}},setup($){const y=[{key:"monday",value:"Montag"},{key:"tuesday",value:"Dienstag"},{key:"wednesday",value:"Mittwoch"},{key:"thursday",value:"Donnerstag"},{key:"friday",value:"Freitag"},{key:"saturday",value:"Samstag"},{key:"sunday",value:"Sonntag"}],i=x(!1),t=useForm({id:null,type:"",extra_charge:0});function _(s){t.id=s.id,t.type=s.type,t.extra_charge=s.extra_charge,i.value=!0}function h(){t.id!=null&&t.reset(),i.value=!0}function F(){t.post(route("specialWorkingHoursFactor.store"),{onSuccess:()=>{t.reset(),i.value=!1}})}return(s,r)=>(u(),C(W,null,[e(b,{"max-width":"1000",modelValue:i.value,"onUpdate:modelValue":r[2]||(r[2]=l=>i.value=l)},{default:a(({isActive:l})=>[e(k,{title:"Besondere Arbeitszeitzuschläge"},{append:a(()=>[e(d,{icon:"",variant:"text",onClick:o=>l.value=!1},{default:a(()=>[e(V,null,{default:a(()=>r[4]||(r[4]=[v("mdi-close")])),_:1})]),_:2},1032,["onClick"])]),default:a(()=>[e(S,null,{default:a(()=>[e(H,{onSubmit:m(F,["prevent"])},{default:a(()=>[e(z,null,{default:a(()=>[e(p,{cols:"12",md:"6"},{default:a(()=>[e(B,{"data-testid":"swhfWeekday",modelValue:n(t).type,"onUpdate:modelValue":r[0]||(r[0]=o=>n(t).type=o),label:"Wochentag","error-messages":n(t).errors.type,items:y.filter(o=>!s.special_working_hours_factors.find(c=>o.key==c.type)),"item-title":"value","item-value":"key"},null,8,["modelValue","error-messages","items"])]),_:1}),e(p,{cols:"12",md:"6"},{default:a(()=>[e(D,{label:"Faktor Zuschlag",required:"","error-messages":n(t).errors.extra_charge,modelValue:n(t).extra_charge,"onUpdate:modelValue":r[1]||(r[1]=o=>n(t).extra_charge=o)},null,8,["error-messages","modelValue"])]),_:1}),e(p,{cols:"12",class:"text-end"},{default:a(()=>[e(d,{loading:n(t).processing,type:"submit",color:"primary"},{default:a(()=>r[5]||(r[5]=[v("Speichern")])),_:1},8,["loading"])]),_:1})]),_:1})]),_:1})]),_:1})]),_:2},1024)]),_:1},8,["modelValue"]),e(k,null,{default:a(()=>[e(A,{hover:"",items:s.special_working_hours_factors.map(l=>{var o;return{...l,type:(o=y.find(c=>c.key===l.type))==null?void 0:o.value}}),headers:[{title:"Tag",key:"type"},{title:"Faktor",key:"extra_charge"},{title:"",key:"actions",align:"end"}]},{"header.actions":a(()=>[s.can("specialWorkingHoursFactors","create")?(u(),g(d,{key:0,onClick:r[3]||(r[3]=m(l=>h(),["stop"])),color:"primary"},{default:a(()=>[e(V,{icon:"mdi-plus"})]),_:1})):f("",!0)]),"item.actions":a(({item:l})=>[s.can("specialWorkingHoursFactors","update")?(u(),g(d,{key:0,onClick:m(o=>_(l),["stop"]),color:"primary",size:"large",variant:"text",icon:"mdi-pencil"},null,8,["onClick"])):f("",!0),s.can("specialWorkingHoursFactors","delete")?(u(),g(T,{key:1,content:"Bist du dir sicher, dass du diesen Arbeitszeitzuschlag entfernen möchtest?",route:s.route("specialWorkingHoursFactor.destroy",{specialWorkingHoursFactor:l.id}),title:"Arbeitszuschlag löschen"},null,8,["route"])):f("",!0)]),_:1},8,["items"])]),_:1})],64))}});export{N as _};
