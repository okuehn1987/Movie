import{d as b,T as y,o as q,c as U,b as l,e,p as t,V as m,z as w,u as a,D as v,s as x,f as u,W as k,g as _,h as g,y as S,i as C,l as T,m as B,n as f,v as V,I as n,q as p,J as D}from"./app-C48xMY2B.js";import{_ as F}from"./AdminLayout.vue_vue_type_script_setup_true_lang-B1zd0L2y.js";import{f as N,c as O}from"./utils-Cd5cUjxN.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";const L=b({__name:"OrganizationIndex",props:{organizations:{},countries:{}},setup(A){const r=y({organization_name:"",organization_street:"",organization_house_number:"",organization_address_suffix:"",organization_country:"",organization_city:"",organization_zip:"",organization_federal_state:"",head_quarter_name:"",first_name:"",last_name:"",email:"",password:"",date_of_birth:""});function z(){r.post(route("organization.store"),{onSuccess:()=>r.reset()})}return(d,o)=>(q(),U(F,{title:"Organisationen"},{default:l(()=>[e(f,null,{default:l(()=>[e(t,{cols:"12"},{default:l(()=>[e(m,null,{default:l(()=>[e(w,{hover:"",headers:[{title:"id",key:"id"},{title:"owner_id",key:"owner_id"},{title:"name",key:"name"},{title:"created_at",key:"created_at"},{title:"",key:"action",align:"end"}],items:d.organizations.map(i=>({...a(N)(i),created_at:a(v).fromISO(i.created_at).toFormat("dd.MM.yyyy")}))},{"header.action":l(()=>[e(x,{"max-width":"1000"},{activator:l(({props:i})=>[e(u,k(i,{color:"primary"}),{default:l(()=>[e(_,{icon:"mdi-plus"})]),_:2},1040)]),default:l(({isActive:i})=>[e(m,{title:"Organisation erstellen"},{append:l(()=>[e(u,{icon:"",variant:"text",onClick:s=>i.value=!1},{default:l(()=>[e(_,null,{default:l(()=>o[14]||(o[14]=[g("mdi-close")])),_:1})]),_:2},1032,["onClick"])]),default:l(()=>[e(S),e(C,null,{default:l(()=>[e(T,{onSubmit:B(z,["prevent"])},{default:l(()=>[e(f,null,{default:l(()=>[e(t,{cols:"12"},{default:l(()=>o[15]||(o[15]=[V("h3",null,"Adresse",-1)])),_:1}),e(t,{cols:"12",md:"6"},{default:l(()=>[e(n,{label:"Firmenname",required:"","error-messages":a(r).errors.organization_name,modelValue:a(r).organization_name,"onUpdate:modelValue":o[0]||(o[0]=s=>a(r).organization_name=s)},null,8,["error-messages","modelValue"])]),_:1}),e(t,{cols:"12",md:"6"},{default:l(()=>[e(n,{label:"Standortname",required:"","error-messages":a(r).errors.head_quarter_name,modelValue:a(r).head_quarter_name,"onUpdate:modelValue":o[1]||(o[1]=s=>a(r).head_quarter_name=s)},null,8,["error-messages","modelValue"])]),_:1}),e(t,{cols:"12",sm:"6"},{default:l(()=>[e(p,{label:"Land",required:"",items:d.countries.map(s=>({title:s.title,value:s.value})),"error-messages":a(r).errors.organization_country,modelValue:a(r).organization_country,"onUpdate:modelValue":o[2]||(o[2]=s=>a(r).organization_country=s)},null,8,["items","error-messages","modelValue"])]),_:1}),e(t,{cols:"12",sm:"6"},{default:l(()=>[e(p,{"data-testid":"federalState",label:"Bundesland",items:a(O)(a(r).organization_country,d.countries),disabled:!a(r).organization_country,required:"","error-messages":a(r).errors.organization_federal_state,modelValue:a(r).organization_federal_state,"onUpdate:modelValue":o[3]||(o[3]=s=>a(r).organization_federal_state=s)},null,8,["items","disabled","error-messages","modelValue"])]),_:1}),e(t,{cols:"12",sm:"6"},{default:l(()=>[e(n,{label:"PLZ",required:"","error-messages":a(r).errors.organization_zip,modelValue:a(r).organization_zip,"onUpdate:modelValue":o[4]||(o[4]=s=>a(r).organization_zip=s)},null,8,["error-messages","modelValue"])]),_:1}),e(t,{cols:"12",sm:"6"},{default:l(()=>[e(n,{label:"Ort",required:"","error-messages":a(r).errors.organization_city,modelValue:a(r).organization_city,"onUpdate:modelValue":o[5]||(o[5]=s=>a(r).organization_city=s)},null,8,["error-messages","modelValue"])]),_:1}),e(t,{cols:"12",sm:"6"},{default:l(()=>[e(n,{label:"StraÃŸe",required:"","error-messages":a(r).errors.organization_street,modelValue:a(r).organization_street,"onUpdate:modelValue":o[6]||(o[6]=s=>a(r).organization_street=s)},null,8,["error-messages","modelValue"])]),_:1}),e(t,{cols:"12",sm:"6"},{default:l(()=>[e(n,{label:"Hausnummer",required:"","error-messages":a(r).errors.organization_house_number,modelValue:a(r).organization_house_number,"onUpdate:modelValue":o[7]||(o[7]=s=>a(r).organization_house_number=s)},null,8,["error-messages","modelValue"])]),_:1}),e(t,{cols:"12",sm:"6"},{default:l(()=>[e(n,{label:"Addresszusatz","error-messages":a(r).errors.organization_address_suffix,modelValue:a(r).organization_address_suffix,"onUpdate:modelValue":o[8]||(o[8]=s=>a(r).organization_address_suffix=s)},null,8,["error-messages","modelValue"])]),_:1}),e(t,{cols:"12"},{default:l(()=>o[16]||(o[16]=[V("h3",null,"Admin Account",-1)])),_:1}),e(t,{cols:"12",sm:"6"},{default:l(()=>[e(n,{label:"Vorname",required:"","error-messages":a(r).errors.first_name,modelValue:a(r).first_name,"onUpdate:modelValue":o[9]||(o[9]=s=>a(r).first_name=s)},null,8,["error-messages","modelValue"])]),_:1}),e(t,{cols:"12",sm:"6"},{default:l(()=>[e(n,{label:"Nachname",required:"","error-messages":a(r).errors.last_name,modelValue:a(r).last_name,"onUpdate:modelValue":o[10]||(o[10]=s=>a(r).last_name=s)},null,8,["error-messages","modelValue"])]),_:1}),e(t,{cols:"12",sm:"6"},{default:l(()=>[e(n,{label:"E-Mail",required:"","error-messages":a(r).errors.email,modelValue:a(r).email,"onUpdate:modelValue":o[11]||(o[11]=s=>a(r).email=s)},null,8,["error-messages","modelValue"])]),_:1}),e(t,{cols:"12",sm:"6"},{default:l(()=>[e(n,{label:"Password",required:"","error-messages":a(r).errors.password,modelValue:a(r).password,"onUpdate:modelValue":o[12]||(o[12]=s=>a(r).password=s)},null,8,["error-messages","modelValue"])]),_:1}),e(t,{cols:"12",sm:"6"},{default:l(()=>[e(n,{type:"date",label:"Geburtsdatum",required:"","error-messages":a(r).errors.date_of_birth,modelValue:a(r).date_of_birth,"onUpdate:modelValue":o[13]||(o[13]=s=>a(r).date_of_birth=s)},null,8,["error-messages","modelValue"])]),_:1}),e(t,{cols:"12",class:"text-end"},{default:l(()=>[e(u,{type:"submit",color:"primary"},{default:l(()=>o[17]||(o[17]=[g("Erstellen")])),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:2},1024)]),_:1})]),"item.action":l(({item:i})=>[e(a(D),{href:d.route("organization.show",{organization:i.id})},{default:l(()=>[e(u,{color:"primary",variant:"text",icon:"mdi-eye"})]),_:2},1032,["href"])]),_:1},8,["items"])]),_:1})]),_:1})]),_:1})]),_:1}))}});export{L as default};
