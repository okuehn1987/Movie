import{A as p}from"./AdminLayout-BA_jA_F7.js";import{c as g}from"./utils-XlYoNkf2.js";import{d as y,u as c,a as s,b as o,e as t,g as a,L as k,f as l,M as i,V as u,i as d,_,z as b,h as n,D as m}from"./app-Bvd2nUmS.js";import{_ as h}from"./Absences.vue_vue_type_script_setup_true_lang-CGDpLy2R.js";import{_ as w}from"./WorkingHours.vue_vue_type_script_setup_true_lang-BNArhwRX.js";import"./ChatDetails-k_0qhpba.js";import"./ChatMessage-CzOdjeN_.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";const T=y({__name:"Dashboard",props:{user:{},supervisor:{},overtime:{},workingHours:{},currentAbsences:{},lastEntries:{}},setup(V){const f=c();return(e,v)=>(o(),s(p,{noInlinePadding:n(f).smAndDown.value,title:"Dashboard"},{default:t(()=>[a(k,null,{default:t(()=>[e.can("app","tide")?(o(),s(i,{key:0,cols:"12",lg:"6"},{default:t(()=>[!e.user.current_trust_working_hours&&e.overtime!=null&&e.workingHours!=null?(o(),s(w,{key:0,user:e.user,overtime:e.overtime,workingHours:e.workingHours},null,8,["user","overtime","workingHours"])):(o(),s(u,{key:1,title:"Arbeitszeit"},{default:t(()=>[a(d,null,{default:t(()=>[a(_,{src:"/img/Tide-Logo.webp",height:"150px"})]),_:1})]),_:1}))]),_:1})):l("",!0),a(i,{cols:"12",lg:"6"},{default:t(()=>[a(h,{absences:e.currentAbsences},null,8,["absences"])]),_:1}),e.can("app","tide")&&e.lastEntries&&e.lastEntries.length>0?(o(),s(i,{key:1,cols:"12",lg:"6"},{default:t(()=>[a(u,{title:"Letzte Zeiterfassungen"},{default:t(()=>[a(d,null,{default:t(()=>[a(b,{items:e.lastEntries.map(r=>({...r,start:n(m).fromSQL(r.start).toFormat("dd.MM.yyyy HH:mm"),end:r.end?n(m).fromSQL(r.end).toFormat("dd.MM.yyyy HH:mm"):"Jetzt",duration:n(g)(r.duration,"minutes")})),headers:[{title:"Start",key:"start",sortable:!1},{title:"Ende",key:"end",sortable:!1},{title:"Dauer",key:"duration",sortable:!1}]},null,8,["items"])]),_:1})]),_:1})]),_:1})):l("",!0)]),_:1})]),_:1},8,["noInlinePadding"]))}});export{T as default};
