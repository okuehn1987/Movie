import{d as f,o as V,b,e as n,z as e,i as y,g as a,k as u,m as v,j as m,s as d,l as c,V as k,K as C,L as w,M as r,N as _,q as S,n as T}from"./app-Bva0php9.js";import{r as p,h as $,e as A}from"./utils-DFqbMJah.js";const L=f({__name:"TimeAccountSettingsForm",props:{user:{},item:{},time_account_settings:{}},setup(F){const t=useForm({name:"",time_account_setting_id:null,balance_limit:0});return(o,i)=>(V(),b(y,{onAfterLeave:i[4]||(i[4]=s=>e(t).reset()),"max-width":"1000"},{activator:n(({props:s})=>[a(m,v(s,{onClick:i[0]||(i[0]=()=>{e(t).name=o.item.name,e(t).balance_limit=e(p)(o.item.balance_limit/3600,2),e(t).time_account_setting_id=o.item.time_account_setting_id}),color:"primary",icon:"",variant:"text"}),{default:n(()=>[a(u,{icon:"mdi-cog"})]),_:2},1040)]),default:n(({isActive:s})=>[a(T,{title:`Einstellungen für Konto ${o.item.name} bearbeiten`},{append:n(()=>[a(m,{icon:"",variant:"text",onClick:d(l=>s.value=!1,["stop"])},{default:n(()=>[a(u,null,{default:n(()=>i[5]||(i[5]=[c("mdi-close")])),_:1})]),_:2},1032,["onClick"])]),default:n(()=>[a(k,null,{default:n(()=>[a(C,{onSubmit:d(l=>{e(t).patch(o.route("timeAccount.update",{timeAccount:o.item.id}),{onSuccess:()=>{s.value=!1,e(t).reset()}})},["prevent"])},{default:n(()=>[a(w,null,{default:n(()=>[a(r,{cols:"12",md:"6"},{default:n(()=>[a(_,{modelValue:e(t).name,"onUpdate:modelValue":i[1]||(i[1]=l=>e(t).name=l),label:"Name","error-messages":e(t).errors.name},null,8,["modelValue","error-messages"])]),_:1}),a(r,{cols:"12",md:"6"},{default:n(()=>[a(S,{disabled:o.item.time_account_setting.type===null,label:"Typ",items:o.time_account_settings.filter(l=>o.item.time_account_setting.type===null||l.type!=null).map(l=>({title:`${e($)(l.type)} (${e(A)(l.truncation_cycle_length_in_months)})`,value:l.id})),modelValue:e(t).time_account_setting_id,"onUpdate:modelValue":i[2]||(i[2]=l=>e(t).time_account_setting_id=l),"error-messages":e(t).errors.time_account_setting_id},null,8,["disabled","items","modelValue","error-messages"])]),_:1}),a(r,{cols:"12",md:"6"},{default:n(()=>{var l;return[a(_,{modelValue:e(t).balance_limit,"onUpdate:modelValue":i[3]||(i[3]=g=>e(t).balance_limit=g),type:"number",label:"Limit in Stunden",hint:"entspricht "+e(p)(e(t).balance_limit/(((l=o.user.current_working_hours)==null?void 0:l.weekly_working_hours)??40),2)+"x wöchentliche Arbeitszeit","error-messages":e(t).errors.balance_limit},null,8,["modelValue","hint","error-messages"])]}),_:1}),a(r,{cols:"12",class:"text-end"},{default:n(()=>[a(m,{type:"submit",color:"primary",loading:e(t).processing},{default:n(()=>i[6]||(i[6]=[c("Speichern")])),_:1},8,["loading"])]),_:1})]),_:1})]),_:2},1032,["onSubmit"])]),_:2},1024)]),_:2},1032,["title"])]),_:1}))}});export{L as _};
