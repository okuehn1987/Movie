import{d as g,C as y,o as i,c as m,a,V as p,b as e,v,e as u,T as _,f as b,g as V,h as c,k,l as T,u as r,m as q,p as o,s as f,q as C,W as w,j as x,A}from"./app-B-fuPrPk.js";const B=g({__name:"AbsenceTypeIndex",props:{absenceTypes:{},types:{},absence_type_defaults:{}},setup(S){const s=y({name:"",abbreviation:"",type:"",requires_approval:!1});return(n,l)=>(i(),m(p,null,{default:a(()=>[e(A,{hover:"",headers:[{title:"Abwesenheitsgrund",key:"name"},{title:"Abkürzung",key:"abbreviation"},{title:"Muss genehmigt werden",key:"requires_approval"},{title:"",key:"action",align:"end"}],items:n.absenceTypes},{"header.action":a(()=>[n.can("absenceType","create")?(i(),m(v,{key:0,"max-width":"1000"},{activator:a(({props:d})=>[e(u,_(d,{color:"primary"}),{default:a(()=>[e(b,{icon:"mdi-plus"})]),_:2},1040)]),default:a(({isActive:d})=>[e(p,{title:"Abwesenheitgrund erstellen"},{append:a(()=>[e(u,{icon:"",variant:"text",onClick:t=>d.value=!1},{default:a(()=>[e(b,null,{default:a(()=>l[4]||(l[4]=[V("mdi-close")])),_:1})]),_:2},1032,["onClick"])]),default:a(()=>[e(c,null,{default:a(()=>[e(k,{onSubmit:T(t=>{r(s).post(n.route("absenceType.store"),{onSuccess:()=>{r(s).reset(),d.value=!1}})},["prevent"])},{default:a(()=>[e(q,null,{default:a(()=>[e(o,{cols:"12",md:"6"},{default:a(()=>[e(f,{label:"Abwesenheitsgrund",required:"","error-messages":r(s).errors.name,modelValue:r(s).name,"onUpdate:modelValue":l[0]||(l[0]=t=>r(s).name=t)},null,8,["error-messages","modelValue"])]),_:1}),e(o,{cols:"12",md:"6"},{default:a(()=>[e(f,{label:"Abkürzung",required:"","error-messages":r(s).errors.abbreviation,modelValue:r(s).abbreviation,"onUpdate:modelValue":l[1]||(l[1]=t=>r(s).abbreviation=t)},null,8,["error-messages","modelValue"])]),_:1}),e(o,{cols:"12",md:"6"},{default:a(()=>[e(C,{"data-testid":"typeOfAbsence",label:"Typ",items:n.absence_type_defaults,required:"","error-messages":r(s).errors.type,modelValue:r(s).type,"onUpdate:modelValue":l[2]||(l[2]=t=>r(s).type=t)},null,8,["items","error-messages","modelValue"])]),_:1}),e(o,{cols:"12",md:"6"},{default:a(()=>[e(w,{label:"Muss genehmigt werden?",required:"","error-messages":r(s).errors.requires_approval,modelValue:r(s).requires_approval,"onUpdate:modelValue":l[3]||(l[3]=t=>r(s).requires_approval=t)},null,8,["error-messages","modelValue"])]),_:1}),e(o,{cols:"12",class:"text-end"},{default:a(()=>[e(u,{loading:r(s).processing,type:"submit",color:"primary"},{default:a(()=>l[5]||(l[5]=[V("Erstellen")])),_:1},8,["loading"])]),_:1})]),_:1})]),_:2},1032,["onSubmit"])]),_:2},1024)]),_:2},1024)]),_:1})):x("",!0)]),_:1},8,["items"])]),_:1}))}});export{B as _};
