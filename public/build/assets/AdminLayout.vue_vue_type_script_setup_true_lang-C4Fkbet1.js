import{d as h,o,v as A,c as i,w as r,b as t,a6 as N,f as v,R as B,e as f,F as I,x as D,a1 as C,l as b,a7 as L,g,t as d,a0 as k,a8 as M,j as m,u,C as V,L as p,a9 as P,r as T,aa as E,E as F,Z as O,s as y,U,ab as j,ac as $,ad as G,G as z,ae as H,af as R,i as S,ag as Z}from"./app-BF2zvPeQ.js";import{_ as q}from"./_plugin-vue_export-helper-DlAUqK2U.js";const J=h({__name:"AppbarActions",setup(w){function e(a){p.post(route("notification.update",{notification:a.id}),{},{onSuccess:()=>{if(a.type=="App\\Notifications\\PatchNotification")return p.get(route("dashboard",{openPatch:a.data.patch_id}));if(a.type=="App\\Notifications\\AbsenceNotification")return p.get(route("dashboard",{openAbsence:a.data.absence_id}))}})}return(a,l)=>(o(),A(I,null,[a.$page.props.auth.user.unread_notifications.length>0?(o(),i(M,{key:0},{activator:r(({props:n})=>[t(f,B({color:"primary"},n,{stacked:""}),{default:r(()=>[a.$page.props.auth.user.unread_notifications.length>0?(o(),i(N,{key:0,content:a.$page.props.auth.user.unread_notifications.length,color:"error"},{default:r(()=>[t(v,{icon:"mdi-bell"})]),_:2},1032,["content"])):(o(),i(v,{key:1,icon:"mdi-bell"}))]),_:2},1040)]),default:r(()=>[t(k,null,{default:r(()=>[(o(!0),A(I,null,D(a.$page.props.auth.user.unread_notifications,n=>(o(),i(C,{onClick:b(s=>e(n),["stop"]),key:n.id},{default:r(()=>[t(L,null,{default:r(()=>[g(d(n.data.title),1)]),_:2},1024)]),_:2},1032,["onClick"]))),128))]),_:1})]),_:1})):m("",!0),t(u(V),{href:a.route("profile.edit")},{default:r(()=>[t(f,{stacked:"",color:"black","prepend-icon":"mdi-account",title:"Profil"})]),_:1},8,["href"]),t(u(V),{method:"post",href:a.route("logout"),as:"button"},{default:r(()=>[t(f,{stacked:"",color:"black","prepend-icon":"mdi-logout",title:"Abmelden"})]),_:1},8,["href"])],64))}}),K=h({__name:"DrawerMenu",setup(w){return(e,a)=>(o(),i(k,{nav:"","onClick:select":a[0]||(a[0]=l=>u(p).get(l.id)),items:[{props:{active:e.route().current("dashboard"),prependIcon:"mdi-view-dashboard"},value:e.route("dashboard"),title:"Dashboard"},e.can("absence","viewIndex")&&{props:{active:e.route().current("absence.index"),prependIcon:"mdi-timer-cancel-outline"},value:e.route("absence.index"),title:"Abwesenheiten"},e.can("workLog","viewIndex")&&{props:{active:e.route().current("workLog.index"),prependIcon:"mdi-clock-outline"},value:e.route("workLog.index"),title:"Arbeitszeiten"},...["organization","operatingSite","group","user","timeAccountSetting"].some(l=>e.can(l,"viewIndex"))||e.can("organization","viewShow")?[{type:"divider"},{type:"subheader",title:"Admin"},e.can("organization","viewShow")&&{title:"Organisation",subtitle:"test",value:e.route("organization.show",{organization:e.$page.props.organization.id}),props:{prependIcon:"mdi-domain",active:e.route().current("organization.show")}},e.can("operatingSite","viewIndex")&&{props:{active:e.route().current("operatingSite.index"),prependIcon:"mdi-map-marker"},value:e.route("operatingSite.index"),title:"BetriebsstÃ¤tten"},e.can("group","viewIndex")&&{props:{active:e.route().current("group.index"),prependIcon:"mdi-dots-circle"},value:e.route("group.index"),title:"Abteilungen"},e.can("user","viewIndex")&&{props:{active:e.route().current("user.index"),prependIcon:"mdi-account-group"},value:e.route("user.index"),title:"Mitarbeitende"},e.can("timeAccountSetting","viewIndex")&&{props:{active:e.route().current("timeAccountSetting.index"),prependIcon:"mdi-timer"},value:e.route("timeAccountSetting.index"),title:"Arbeitszeitkonten"},e.can("user","viewIndex")&&{props:{prependIcon:"mdi-tree",active:e.route().current("organization.tree")},value:e.route("organization.tree",{organization:e.$page.props.organization.id}),title:"Organigramm"}]:[],...e.can("organization","viewIndex")?[{type:"divider"},{type:"subheader",title:"Super-Admin"},{props:{prependIcon:"mdi-security",active:e.route().current("organization.index")},value:e.route("organization.index"),title:"Organisationen"}]:[]].filter(Boolean)},null,8,["items"]))}}),Q=q(K,[["__scopeId","data-v-ec16b118"]]),W={class:"text-center font-weight-medium"},X={class:"ms-3"},x=h({__name:"AdminLayout",props:{title:{},backurl:{}},setup(w){const e=P().smAndDown,a=T(!0);E(()=>a.value=!e.value);const l="Herta";return(n,s)=>(o(),i(F,null,{default:r(()=>[t(u(O),{title:n.title},null,8,["title"]),t(j,{color:"background",style:{border:"none"},modelValue:a.value,"onUpdate:modelValue":s[1]||(s[1]=c=>a.value=c),image:"/img/loggedin-background.png",permanent:!u(e)},{default:r(()=>[t(k,null,{default:r(()=>[t(C,{onClick:s[0]||(s[0]=c=>u(p).get("/")),class:"d-flex flex-row"},{default:r(()=>[y("h1",W,[t(v,{icon:"mdi-timer-lock"}),y("span",X,d(u(l)),1)])]),_:1})]),_:1}),t(U),t(Q)]),_:1},8,["modelValue","permanent"]),t(H,{elevation:"0",color:"background"},{default:r(()=>[n.backurl?(o(),i($,{key:0,variant:"text",icon:"mdi-arrow-left",onClick:s[2]||(s[2]=b(c=>u(p).get(n.backurl),["stop"]))})):u(e)?(o(),i($,{key:1,variant:"text",onClick:s[3]||(s[3]=b(c=>a.value=!a.value,["stop"]))})):m("",!0),t(G,null,{default:r(()=>[g(d(n.title),1)]),_:1}),z(n.$slots,"appbarActions"),t(J)]),_:3}),t(Z,null,{default:r(()=>[t(R,{class:"pt-0",fluid:""},{default:r(()=>[n.$page.props.flash.error?(o(),i(S,{type:"error",closable:"",class:"mb-6",key:Math.random()},{default:r(()=>[g(d(n.$page.props.flash.error),1)]),_:1})):m("",!0),n.$page.props.flash.success?(o(),i(S,{type:"success",closable:"",class:"mb-6",key:Math.random()},{default:r(()=>[g(d(n.$page.props.flash.success),1)]),_:1})):m("",!0),z(n.$slots,"default")]),_:3})]),_:3})]),_:3}))}});export{x as _};
