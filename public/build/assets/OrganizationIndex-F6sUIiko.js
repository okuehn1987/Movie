import{d as b,a as y,o as q,b as l,f as e,N as m,O as t,V as _,x as U,j as a,D as w,Q as x,l as u,J as v,v as k,g as C,C as S,m as F,h as g,P as n,H as f,q as V,n as p,I as N}from"./app-BXwgE9Kn.js";import{_ as O}from"./AdminLayout.vue_vue_type_script_setup_true_lang-DhBG-T8U.js";import{c as B,g as D}from"./utils-BOucAFIu.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";const L=b({__name:"OrganizationIndex",props:{organizations:{},countries:{}},setup(T){const r=useForm({organization_name:"",organization_street:"",organization_house_number:"",organization_address_suffix:"",organization_country:"",organization_city:"",organization_zip:"",organization_federal_state:"",head_quarter_name:"",first_name:"",last_name:"",email:"",password:"",date_of_birth:""});function z(){r.post(route("organization.store"),{onSuccess:()=>r.reset()})}return(d,o)=>(q(),y(O,{title:"Organisationen"},{default:l(()=>[e(m,null,{default:l(()=>[e(t,{cols:"12"},{default:l(()=>[e(_,null,{default:l(()=>[e(U,{hover:"",headers:[{title:"id",key:"id"},{title:"owner_id",key:"owner_id"},{title:"name",key:"name"},{title:"created_at",key:"created_at"},{title:"",key:"action",align:"end"}],items:d.organizations.map(i=>({...a(B)(i),created_at:a(w).fromISO(i.created_at).toFormat("dd.MM.yyyy")}))},{"header.action":l(()=>[e(v,{"max-width":"1000"},{activator:l(({props:i})=>[e(u,N(i,{color:"primary"}),{default:l(()=>[e(p,{icon:"mdi-plus"})]),_:1},16)]),default:l(({isActive:i})=>[e(_,{title:"Organisation erstellen"},{append:l(()=>[e(u,{icon:"",variant:"text",onClick:s=>i.value=!1},{default:l(()=>[e(p,null,{default:l(()=>[...o[14]||(o[14]=[V("mdi-close",-1)])]),_:1})]),_:1},8,["onClick"])]),default:l(()=>[e(k),e(C,null,{default:l(()=>[e(S,{onSubmit:F(z,["prevent"])},{default:l(()=>[e(m,null,{default:l(()=>[e(t,{cols:"12"},{default:l(()=>[...o[15]||(o[15]=[g("h3",null,"Adresse",-1)])]),_:1}),e(t,{cols:"12",md:"6"},{default:l(()=>[e(n,{label:"Firmenname",required:"","error-messages":a(r).errors.organization_name,modelValue:a(r).organization_name,"onUpdate:modelValue":o[0]||(o[0]=s=>a(r).organization_name=s)},null,8,["error-messages","modelValue"])]),_:1}),e(t,{cols:"12",md:"6"},{default:l(()=>[e(n,{label:"Standortname",required:"","error-messages":a(r).errors.head_quarter_name,modelValue:a(r).head_quarter_name,"onUpdate:modelValue":o[1]||(o[1]=s=>a(r).head_quarter_name=s)},null,8,["error-messages","modelValue"])]),_:1}),e(t,{cols:"12",sm:"6"},{default:l(()=>[e(f,{"data-testid":"organizationLand",label:"Land",required:"",items:d.countries.map(s=>({title:s.title,value:s.value})),"error-messages":a(r).errors.organization_country,modelValue:a(r).organization_country,"onUpdate:modelValue":o[2]||(o[2]=s=>a(r).organization_country=s)},null,8,["items","error-messages","modelValue"])]),_:1}),e(t,{cols:"12",sm:"6"},{default:l(()=>[e(f,{"data-testid":"federalState",label:"Bundesland",items:a(D)(a(r).organization_country,d.countries),disabled:!a(r).organization_country,required:"","error-messages":a(r).errors.organization_federal_state,modelValue:a(r).organization_federal_state,"onUpdate:modelValue":o[3]||(o[3]=s=>a(r).organization_federal_state=s)},null,8,["items","disabled","error-messages","modelValue"])]),_:1}),e(t,{cols:"12",sm:"6"},{default:l(()=>[e(n,{label:"PLZ",required:"","error-messages":a(r).errors.organization_zip,modelValue:a(r).organization_zip,"onUpdate:modelValue":o[4]||(o[4]=s=>a(r).organization_zip=s)},null,8,["error-messages","modelValue"])]),_:1}),e(t,{cols:"12",sm:"6"},{default:l(()=>[e(n,{label:"Ort",required:"","error-messages":a(r).errors.organization_city,modelValue:a(r).organization_city,"onUpdate:modelValue":o[5]||(o[5]=s=>a(r).organization_city=s)},null,8,["error-messages","modelValue"])]),_:1}),e(t,{cols:"12",sm:"6"},{default:l(()=>[e(n,{label:"StraÃŸe",required:"","error-messages":a(r).errors.organization_street,modelValue:a(r).organization_street,"onUpdate:modelValue":o[6]||(o[6]=s=>a(r).organization_street=s)},null,8,["error-messages","modelValue"])]),_:1}),e(t,{cols:"12",sm:"6"},{default:l(()=>[e(n,{label:"Hausnummer",required:"","error-messages":a(r).errors.organization_house_number,modelValue:a(r).organization_house_number,"onUpdate:modelValue":o[7]||(o[7]=s=>a(r).organization_house_number=s)},null,8,["error-messages","modelValue"])]),_:1}),e(t,{cols:"12",sm:"6"},{default:l(()=>[e(n,{label:"Addresszusatz (optional)","error-messages":a(r).errors.organization_address_suffix,modelValue:a(r).organization_address_suffix,"onUpdate:modelValue":o[8]||(o[8]=s=>a(r).organization_address_suffix=s)},null,8,["error-messages","modelValue"])]),_:1}),e(t,{cols:"12"},{default:l(()=>[...o[16]||(o[16]=[g("h3",null,"Admin Account",-1)])]),_:1}),e(t,{cols:"12",sm:"6"},{default:l(()=>[e(n,{label:"Vorname",required:"","error-messages":a(r).errors.first_name,modelValue:a(r).first_name,"onUpdate:modelValue":o[9]||(o[9]=s=>a(r).first_name=s)},null,8,["error-messages","modelValue"])]),_:1}),e(t,{cols:"12",sm:"6"},{default:l(()=>[e(n,{label:"Nachname",required:"","error-messages":a(r).errors.last_name,modelValue:a(r).last_name,"onUpdate:modelValue":o[10]||(o[10]=s=>a(r).last_name=s)},null,8,["error-messages","modelValue"])]),_:1}),e(t,{cols:"12",sm:"6"},{default:l(()=>[e(n,{label:"E-Mail",required:"","error-messages":a(r).errors.email,modelValue:a(r).email,"onUpdate:modelValue":o[11]||(o[11]=s=>a(r).email=s)},null,8,["error-messages","modelValue"])]),_:1}),e(t,{cols:"12",sm:"6"},{default:l(()=>[e(n,{label:"Password",required:"","error-messages":a(r).errors.password,modelValue:a(r).password,"onUpdate:modelValue":o[12]||(o[12]=s=>a(r).password=s)},null,8,["error-messages","modelValue"])]),_:1}),e(t,{cols:"12",sm:"6"},{default:l(()=>[e(n,{type:"date",label:"Geburtsdatum",required:"","error-messages":a(r).errors.date_of_birth,modelValue:a(r).date_of_birth,"onUpdate:modelValue":o[13]||(o[13]=s=>a(r).date_of_birth=s)},null,8,["error-messages","modelValue"])]),_:1}),e(t,{cols:"12",class:"text-end"},{default:l(()=>[e(u,{type:"submit",color:"primary"},{default:l(()=>[...o[17]||(o[17]=[V("Erstellen",-1)])]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:2},1024)]),_:1})]),"item.action":l(({item:i})=>[e(a(x),{href:d.route("organization.show",{organization:i.id})},{default:l(()=>[e(u,{color:"primary",variant:"text",icon:"mdi-eye"})]),_:1},8,["href"])]),_:1},8,["items"])]),_:1})]),_:1})]),_:1})]),_:1}))}});export{L as default};
