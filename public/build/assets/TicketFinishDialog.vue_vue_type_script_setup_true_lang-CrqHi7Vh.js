import{d as v,c as b,a as r,o as u,Q as w,b as e,f as t,x as C,h as x,K as _,L as c,S as B,s as n,i as T,t as f,l,g as p,m as k,p as y,V as A,P as g}from"./app-DtjcFDMs.js";const N=v({__name:"TicketFinishDialog",props:{tab:{},item:{}},setup(m){const h=m,i=b(()=>["finishedTickets","archive"].includes(h.tab)),d=useForm({});return(o,a)=>(u(),r(w,{"max-width":"1000"},{activator:e(({props:s})=>[o.tab=="workingTickets"?(u(),r(l,g({key:0,title:"Auftrag abschließen"},s,{variant:"text",icon:"mdi-check"}),null,16)):(u(),r(l,g({key:1,title:"Auftrag weiterführen"},s,{variant:"text",icon:"mdi-autorenew"}),null,16))]),default:e(({isActive:s})=>[t(A,{title:"Auftrag als  "+(i.value?"offen":"abgeschlossen")+" markieren"},{append:e(()=>[t(l,{icon:"",variant:"text",onClick:k(V=>s.value=!1,["stop"])},{default:e(()=>[t(y,null,{default:e(()=>[...a[0]||(a[0]=[n("mdi-close",-1)])]),_:1})]),_:1},8,["onClick"])]),default:e(()=>[t(C),t(x,null,{default:e(()=>[t(_,null,{default:e(()=>[t(c,{cols:"12"},{default:e(()=>[t(B,{type:"warning"},{default:e(()=>[n(" Bist du dir sicher, dass du diesen Auftrag als "+f(i.value?"offen":"abgeschlossen")+" markieren möchtest? ",1),a[1]||(a[1]=T("br",null,null,-1)),n(" "+f(i.value?"":"Du kannst danach keine weiteren Einträge für diesen Auftrag hinzufügen oder bearbeiten."),1)]),_:1})]),_:1}),t(c,{cols:"12",class:"text-end"},{default:e(()=>[t(l,{color:"primary",onClick:k(V=>p(d).patch(o.route(i.value?"ticket.unfinish":"ticket.finish",{ticket:o.item.id}),{onSuccess:()=>s.value=!1}),["stop"]),loading:p(d).processing},{default:e(()=>[...a[2]||(a[2]=[n(" Bestätigen ",-1)])]),_:1},8,["onClick","loading"])]),_:2},1024)]),_:2},1024)]),_:2},1024)]),_:2},1032,["title"])]),_:1}))}});export{N as _};
