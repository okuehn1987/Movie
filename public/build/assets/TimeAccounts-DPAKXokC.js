import{_ as g}from"./AdminLayout.vue_vue_type_script_setup_true_lang-CodQZz8n.js";import{d as h,c as k}from"./utils-Drggmweq.js";import{d as b,H as A,o as a,c as i,a as n,b as r,j as s,x as T,C as l,ai as _,g as m,t as c,u as o,R as d,A as v}from"./app-BW2wlzo0.js";import{_ as V}from"./UserShowNavBar.vue_vue_type_script_setup_true_lang-BLRJv9Ix.js";import{_ as $}from"./TimeAccountTransferForm.vue_vue_type_script_setup_true_lang-Bf6qEYps.js";import{_ as B}from"./NewTimeAccountForm.vue_vue_type_script_setup_true_lang-D-Vz0bOI.js";import{_ as C}from"./TimeAccountTransactionForm.vue_vue_type_script_setup_true_lang-Bcg2uiDc.js";import{_ as N}from"./TimeAccountSettingsForm.vue_vue_type_script_setup_true_lang-DkhANJeV.js";import{_ as j}from"./TimeAccountDeleteForm.vue_vue_type_script_setup_true_lang-DhzOI5Ga.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";const D={class:"d-flex justify-end"},I={key:3,style:{width:"48px"}},w={key:1},K=b({__name:"TimeAccounts",props:{user:{},time_accounts:{},time_account_settings:{},defaultTimeAccountId:{}},setup(p){const f=p,u=A(()=>f.time_accounts.filter(e=>e.deleted_at==null));function y(e){return e.balance>0?"positive":e.balance<0?"negative":"balanced"}return(e,F)=>(a(),i(g,{title:e.user.first_name+" "+e.user.last_name},{default:n(()=>[r(V,{user:e.user,tab:"timeAccounts"},null,8,["user"]),r(v,{items:u.value.map(t=>({...t,type:o(h)(t.time_account_setting.type),truncation_cycle_length_in_months:o(k)(t.time_account_setting.truncation_cycle_length_in_months)})),headers:[{title:"Name",key:"name"},{title:"Ãœberstunden",key:"balance"},{title:"Limit",key:"balance_limit"},{title:"Typ",key:"type"},{title:"Berechnungszeitraum",key:"truncation_cycle_length_in_months"},{title:"",key:"actions",align:"end"}]},{"header.actions":n(()=>[e.can("timeAccountTransaction","create")?(a(),i($,{key:0,time_accounts:e.time_accounts},null,8,["time_accounts"])):s("",!0),e.can("timeAccount","create")?(a(),i(B,{key:1,user:e.user,time_account_settings:e.time_account_settings},null,8,["user","time_account_settings"])):s("",!0)]),"item.actions":n(({item:t})=>[T("div",D,[e.can("timeAccountTransaction","create")?(a(),i(C,{key:0,item:t},null,8,["item"])):s("",!0),e.can("timeAccount","update")?(a(),i(N,{key:1,item:t,time_account_settings:e.time_account_settings,user:e.user},null,8,["item","time_account_settings","user"])):s("",!0),t.id!==e.defaultTimeAccountId&&e.can("timeAccount","delete")?(a(),i(j,{key:2,item:t},null,8,["item"])):u.value.length>1&&e.can("timeAccount","delete")?(a(),l("div",I)):s("",!0)])]),"item.balance":n(({item:t})=>[r(_,{color:{positive:"success",negative:"error",balanced:"black"}[y(t)]},{default:n(()=>[m(c(o(d).fromObject({seconds:t.balance}).toFormat("h:mm")),1)]),_:2},1032,["color"])]),"item.balance_limit":n(({item:t})=>[m(c(o(d).fromObject({seconds:t.balance_limit}).toFormat("h:mm")),1)]),"item.type":n(({item:t})=>[t.id==e.defaultTimeAccountId?(a(),i(_,{key:0,color:"purple-darken-1"},{default:n(()=>[m(c(t.type),1)]),_:2},1024)):(a(),l("span",w,c(t.type),1))]),_:1},8,["items"])]),_:1},8,["title"]))}});export{K as default};
