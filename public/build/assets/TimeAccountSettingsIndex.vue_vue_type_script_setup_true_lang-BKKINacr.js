import{d as V,a as m,o as c,b as e,f as t,y as f,i as n,e as h,Q as C,V as d,x as S,g as T,J as k,m as _,K as v,L as i,O as x,M as b,l as u,s as p,p as g,P as A}from"./app-9FOu14I-.js";import{T as N}from"./types-BVvW7sCV.js";import{i as y,j as B}from"./utils-BHCeikZt.js";const I=V({__name:"TimeAccountSettingsIndex",props:{timeAccountSettings:{}},setup(w){const a=useForm({type:"",truncation_cycle_length_in_months:null});return(r,l)=>(c(),m(d,null,{default:e(()=>[t(f,{items:r.timeAccountSettings.map(o=>({...o,type:n(B)(o.type),truncation_cycle_length_in_months:n(y)(o.truncation_cycle_length_in_months)})),headers:[{title:"Art",key:"type"},{title:"Berechnungszeitraum",key:"truncation_cycle_length_in_months"},{title:"",key:"actions",align:"end"}]},{"header.actions":e(()=>[r.can("timeAccountSetting","create")?(c(),m(C,{key:0,"max-width":"1000"},{activator:e(({props:o})=>[t(u,A(o,{color:"primary"}),{default:e(()=>[t(g,{icon:"mdi-plus"})]),_:1},16)]),default:e(({isActive:o})=>[t(d,{title:"Neue Variante Erstellen"},{append:e(()=>[t(u,{icon:"",variant:"text",onClick:_(s=>{o.value=!1,n(a).reset()},["stop"])},{default:e(()=>[t(g,null,{default:e(()=>[...l[2]||(l[2]=[p("mdi-close",-1)])]),_:1})]),_:1},8,["onClick"])]),default:e(()=>[t(S),t(T,null,{default:e(()=>[t(k,{onSubmit:_(s=>{n(a).post(r.route("timeAccountSetting.store"),{onSuccess:()=>{o.value=!1,n(a).reset()}})},["prevent"])},{default:e(()=>[t(v,null,{default:e(()=>[t(i,{cols:"12",md:"6"},{default:e(()=>[t(x,{label:"Bezeichnung",modelValue:n(a).type,"onUpdate:modelValue":l[0]||(l[0]=s=>n(a).type=s),"error-messages":n(a).errors.type},null,8,["modelValue","error-messages"])]),_:1}),t(i,{cols:"12",md:"6"},{default:e(()=>[t(b,{items:n(N).map(s=>({title:n(y)(s),value:s})),label:"Berechnungszeitraum (optional)",modelValue:n(a).truncation_cycle_length_in_months,"onUpdate:modelValue":l[1]||(l[1]=s=>n(a).truncation_cycle_length_in_months=s),"error-messages":n(a).errors.truncation_cycle_length_in_months},null,8,["items","modelValue","error-messages"])]),_:1}),t(i,{cols:"12",class:"text-end"},{default:e(()=>[t(u,{type:"submit",color:"primary",loading:n(a).processing},{default:e(()=>[...l[3]||(l[3]=[p("Speichern",-1)])]),_:1},8,["loading"])]),_:1})]),_:1})]),_:1},8,["onSubmit"])]),_:2},1024)]),_:2},1024)]),_:1})):h("",!0)]),_:1},8,["items"])]),_:1}))}});export{I as _};
