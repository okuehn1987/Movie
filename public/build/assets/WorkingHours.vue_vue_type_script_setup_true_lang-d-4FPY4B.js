import{d as x,n as F,H as W,D as L,o as d,c as u,a as s,V as G,b as t,m as H,p as n,x as r,Q as c,f as m,g as i,t as l,u as f,R as v,j as g,e as w,l as V,h as N,G as O}from"./app-C4g2WMA5.js";import{a as T}from"./utils-DsFy2P_T.js";const j={class:"d-flex align-center ga-3"},B={class:"d-flex flex-column"},D={class:"text-h6"},M={class:"d-flex align-center ga-3"},S={class:"d-flex flex-column"},A={class:"text-h6"},K={class:"d-flex align-center ga-3"},Q={class:"d-flex flex-column"},$={class:"text-h6"},R={class:"d-flex align-center ga-3"},U={class:"d-flex flex-column"},I={class:"text-h6"},P=x({__name:"WorkingHours",props:{lastWorkLog:{},operating_times:{},overtime:{},workingHours:{}},setup(z){const a=z,b=F(),k=T();function _(o=!1){O.post(route("workLog.store"),{is_home_office:o})}const y=W(()=>{var o,e;return(o=a.lastWorkLog)!=null&&o.end?a.workingHours.current:k.value.diff(L.fromSQL(((e=a.lastWorkLog)==null?void 0:e.start)||"")).as("hours")+a.workingHours.current}),C=W(()=>{if(!a.lastWorkLog)return;const o=L.fromSQL(a.lastWorkLog.end??a.lastWorkLog.start),e=k.value.diff(o);return e.as("hours")<1?"vor "+Math.floor(e.as("minutes"))+" minuten":o.day!==k.value.day?o.toFormat("dd.MM - HH:mm")+" Uhr":o.toFormat("HH:mm")+" Uhr"});return(o,e)=>(d(),u(G,{title:"Arbeitszeit"},{default:s(()=>[t(N,null,{default:s(()=>[t(H,null,{default:s(()=>[t(n,{cols:"12",sm:"6"},{default:s(()=>[r("div",j,[t(c,{color:"blue-grey",rounded:"",size:"40",class:"elevation-2"},{default:s(()=>[t(m,{size:"24",icon:"mdi-clock-check"})]),_:1}),r("div",B,[e[2]||(e[2]=i(" Woche gesamt ")),r("div",D,l(f(v).fromObject({hours:y.value}).toFormat("h:mm")),1)])])]),_:1}),o.$page.props.auth.user.home_office||o.workingHours.currentHomeOffice?(d(),u(n,{key:0,cols:"12",sm:"6"},{default:s(()=>[r("div",M,[t(c,{color:"green",rounded:"",size:"40",class:"elevation-2"},{default:s(()=>[t(m,{size:"24",icon:"mdi-clock-check"})]),_:1}),r("div",S,[e[3]||(e[3]=i(" Woche Homeoffice ")),r("div",A,l(f(v).fromObject({hours:o.workingHours.currentHomeOffice}).toFormat("h:mm")),1)])])]),_:1})):g("",!0),t(n,{cols:"12",sm:"6"},{default:s(()=>[r("div",K,[t(c,{color:"orange",rounded:"",size:"40",class:"elevation-2 text-white"},{default:s(()=>[t(m,{size:"24",icon:"mdi-clock-plus"})]),_:1}),r("div",Q,[e[4]||(e[4]=i(" Ãœberstunden ")),r("div",$,l(f(v).fromObject({seconds:o.overtime}).toFormat("h:mm")),1)])])]),_:1}),o.lastWorkLog?(d(),u(n,{key:1,cols:"12",sm:"6"},{default:s(()=>[r("div",R,[t(c,{color:"blue",rounded:"",size:"40",class:"elevation-2"},{default:s(()=>[t(m,{size:"24",icon:"mdi-timer"})]),_:1}),r("div",U,[i(l(o.lastWorkLog.end?"Gehen":"Kommen")+" ",1),r("div",I,l(C.value),1)])])]),_:1})):g("",!0)]),_:1}),t(H,null,{default:s(()=>[f(b).props.auth.user.home_office&&(!o.lastWorkLog||o.lastWorkLog.end)||o.lastWorkLog&&o.lastWorkLog.is_home_office&&!o.lastWorkLog.end?(d(),u(n,{key:0,cols:"12",md:"6"},{default:s(()=>[t(w,{block:"",size:"large",onClick:e[0]||(e[0]=V(h=>_(!0),["stop"])),color:"primary",class:"me-2"},{default:s(()=>[i(l(!o.lastWorkLog||o.lastWorkLog.end?"Kommen Homeoffice":"Gehen Homeoffice"),1)]),_:1})]),_:1})):g("",!0),t(n,{cols:"12",md:"6"},{default:s(()=>{var h,p;return[(h=o.lastWorkLog)!=null&&h.end||!((p=o.lastWorkLog)!=null&&p.is_home_office)?(d(),u(w,{key:0,block:"",size:"large",onClick:e[1]||(e[1]=V(q=>_(),["stop"])),color:"primary"},{default:s(()=>[i(l(!o.lastWorkLog||o.lastWorkLog.end?"Kommen":"Gehen"),1)]),_:1})):g("",!0)]}),_:1})]),_:1})]),_:1})]),_:1}))}});export{P as _};
