import{_ as c}from"./AdminLayout.vue_vue_type_script_setup_true_lang-DB0UcCSz.js";import{d as y,P as g,o as u,c as d,w as t,b as a,y as V,u as s,q as h,e as n,R as k,f as m,g as b,s as v,J as C,S as M,j as P,V as N,D as w,C as x}from"./app-tWClGIV1.js";import{_ as B}from"./UserForm.vue_vue_type_script_setup_true_lang-DE7VWSaf.js";import{a as D,f as $}from"./utils-C61F6r_3.js";import{_ as R}from"./ConfirmDelete.vue_vue_type_script_setup_true_lang-COjConTO.js";const T={class:"d-flex justify-end"},z=y({__name:"UserIndex",props:{users:{},groups:{},operating_sites:{},permissions:{}},setup(f){const p=f,{currentPage:o,lastPage:l,data:_}=D(g(p),"users");return(r,i)=>(u(),d(c,{title:"Mitarbeiter"},{default:t(()=>[a(N,null,{default:t(()=>[a(V,{"no-data-text":"Es wurden keine Mitarbeiter gefunden",headers:[{title:"#",key:"id"},{title:"Vorname",key:"first_name"},{title:"Nachname",key:"last_name"},{title:"Email",key:"email"},{title:"Abteilung",key:"group.name"},{title:"Personalnummer",key:"staff_number"},{title:"Geburtsdatum",key:"date_of_birth"},{title:"",key:"actions",align:"end"}],items:s(_).map(e=>({...s($)(e),date_of_birth:s(w).fromFormat(e.date_of_birth,"yyyy-MM-dd").toFormat("dd.MM.yyyy")})),hover:""},{"header.actions":t(()=>[a(h,{"max-width":"1000"},{activator:t(({props:e})=>[a(n,k(e,{color:"primary"}),{default:t(()=>[a(m,{icon:"mdi-plus"})]),_:2},1040)]),default:t(({isActive:e})=>[a(B,{groups:r.groups,operating_sites:r.operating_sites,permissions:r.permissions,mode:"create"},{append:t(()=>[a(n,{icon:"",variant:"text",onClick:j=>e.value=!1},{default:t(()=>[a(m,null,{default:t(()=>i[1]||(i[1]=[b("mdi-close")])),_:1})]),_:2},1032,["onClick"])]),_:2},1032,["groups","operating_sites","permissions"])]),_:1})]),"item.actions":t(({item:e})=>[v("div",T,[a(s(x),{href:r.route("user.show",{user:e.id})},{default:t(()=>[a(n,{color:"primary",size:"large",variant:"text",icon:"mdi-eye"})]),_:2},1032,["href"]),a(R,{content:"Bist du dir sicher, dass du "+e.first_name+" "+e.last_name+" entfernen möchtest?",route:r.route("user.destroy",{user:e.id}),title:"Mitarbeiter löschen"},null,8,["content","route"])])]),bottom:t(()=>[s(l)>1?(u(),d(C,{key:0,modelValue:s(o),"onUpdate:modelValue":i[0]||(i[0]=e=>M(o)?o.value=e:null),length:s(l)},null,8,["modelValue","length"])):P("",!0)]),_:1},8,["items"])]),_:1})]),_:1}))}});export{z as default};
