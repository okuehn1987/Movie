import{_ as y}from"./AdminLayout.vue_vue_type_script_setup_true_lang-YffiHutA.js";import{d as g,P as V,o as u,c as m,w as t,b as s,y as h,u as a,D as k,q as v,e as n,R as b,f as d,g as C,s as M,C as P,J as N,S as w,j as B,V as x}from"./app-Cnt5irAF.js";import D from"./UserForm-DPb_1kXI.js";import{a as $,f as F}from"./utils-yjZTfaxM.js";import{_ as R}from"./ConfirmDelete.vue_vue_type_script_setup_true_lang-8SMKQLmi.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";const S={class:"d-flex justify-end"},z=g({__name:"UserIndex",props:{users:{},supervisors:{},groups:{},operating_sites:{},permissions:{}},setup(p){const f=p,{currentPage:i,lastPage:l,data:c}=$(V(f),"users");return(r,o)=>(u(),m(y,{title:"Mitarbeiter"},{default:t(()=>[s(x,null,{default:t(()=>[s(h,{"no-data-text":"Es wurden keine Mitarbeiter gefunden",headers:[{title:"#",key:"id"},{title:"Vorname",key:"first_name"},{title:"Nachname",key:"last_name"},{title:"Email",key:"email"},{title:"Abteilung",key:"group.name"},{title:"Personalnummer",key:"staff_number"},{title:"Geburtsdatum",key:"date_of_birth"},{title:"",key:"actions",align:"end"}],items:a(c).map(e=>({...a(F)(e),date_of_birth:a(k).fromFormat(e.date_of_birth,"yyyy-MM-dd").toFormat("dd.MM.yyyy")})),hover:""},{"header.actions":t(()=>[s(v,{"max-width":"1000"},{activator:t(({props:e})=>[s(n,b(e,{color:"primary"}),{default:t(()=>[s(d,{icon:"mdi-plus"})]),_:2},1040)]),default:t(({isActive:e})=>[s(D,{supervisors:r.supervisors,groups:r.groups,operating_sites:r.operating_sites,permissions:r.permissions,mode:"create",onSuccess:_=>e.value=!1},{append:t(()=>[s(n,{icon:"",variant:"text",onClick:_=>e.value=!1},{default:t(()=>[s(d,null,{default:t(()=>o[1]||(o[1]=[C("mdi-close")])),_:1})]),_:2},1032,["onClick"])]),_:2},1032,["supervisors","groups","operating_sites","permissions","onSuccess"])]),_:1})]),"item.actions":t(({item:e})=>[M("div",S,[s(a(P),{href:r.route("user.show",{user:e.id})},{default:t(()=>[s(n,{color:"primary",size:"large",variant:"text",icon:"mdi-eye"})]),_:2},1032,["href"]),s(R,{content:"Bist du dir sicher, dass du "+e.first_name+" "+e.last_name+" entfernen möchtest?",route:r.route("user.destroy",{user:e.id}),title:"Mitarbeiter löschen"},null,8,["content","route"])])]),bottom:t(()=>[a(l)>1?(u(),m(N,{key:0,modelValue:a(i),"onUpdate:modelValue":o[0]||(o[0]=e=>w(i)?i.value=e:null),length:a(l)},null,8,["modelValue","length"])):B("",!0)]),_:1},8,["items"])]),_:1})]),_:1}))}});export{z as default};
