import{d as f,a as V,o as b,b as i,f as a,V as y,x as k,g as v,J as w,m as u,i as e,K as C,L as r,O as d,M as S,l as m,s as _,p as c,P as T,Q as $}from"./app-9FOu14I-.js";import{j as A,i as F,r as p}from"./utils-BHCeikZt.js";const D=f({__name:"TimeAccountSettingsForm",props:{user:{},item:{},time_account_settings:{}},setup(N){const t=useForm({name:"",time_account_setting_id:null,balance_limit:0});return(o,n)=>(b(),V($,{onAfterLeave:n[4]||(n[4]=s=>e(t).reset()),"max-width":"1000"},{activator:i(({props:s})=>[a(m,T(s,{onClick:n[0]||(n[0]=()=>{e(t).name=o.item.name,e(t).balance_limit=e(p)(o.item.balance_limit/3600,2),e(t).time_account_setting_id=o.item.time_account_setting_id}),color:"primary",icon:"",variant:"text"}),{default:i(()=>[a(c,{icon:"mdi-cog"})]),_:1},16)]),default:i(({isActive:s})=>[a(y,{title:`Einstellungen für Konto ${o.item.name} bearbeiten`},{append:i(()=>[a(m,{icon:"",variant:"text",onClick:u(l=>{s.value=!1,e(t).reset()},["stop"])},{default:i(()=>[a(c,null,{default:i(()=>[...n[5]||(n[5]=[_("mdi-close",-1)])]),_:1})]),_:1},8,["onClick"])]),default:i(()=>[a(k),a(v,null,{default:i(()=>[a(w,{onSubmit:u(l=>{e(t).patch(o.route("timeAccount.update",{timeAccount:o.item.id}),{onSuccess:()=>{s.value=!1,e(t).reset()}})},["prevent"])},{default:i(()=>[a(C,null,{default:i(()=>[a(r,{cols:"12",md:"6"},{default:i(()=>[a(d,{modelValue:e(t).name,"onUpdate:modelValue":n[1]||(n[1]=l=>e(t).name=l),label:"Name","error-messages":e(t).errors.name},null,8,["modelValue","error-messages"])]),_:1}),a(r,{cols:"12",md:"6"},{default:i(()=>[a(S,{disabled:o.item.time_account_setting.type===null,label:"Typ",items:o.time_account_settings.filter(l=>o.item.time_account_setting.type===null||l.type!=null).map(l=>({title:`${e(A)(l.type)} (${e(F)(l.truncation_cycle_length_in_months)})`,value:l.id})),modelValue:e(t).time_account_setting_id,"onUpdate:modelValue":n[2]||(n[2]=l=>e(t).time_account_setting_id=l),"error-messages":e(t).errors.time_account_setting_id},null,8,["disabled","items","modelValue","error-messages"])]),_:1}),a(r,{cols:"12",md:"6"},{default:i(()=>{var l;return[a(d,{modelValue:e(t).balance_limit,"onUpdate:modelValue":n[3]||(n[3]=g=>e(t).balance_limit=g),type:"number",label:"Limit in Stunden",hint:(l=o.user.current_working_hours)!=null&&l.weekly_working_hours?"entspricht "+e(p)(e(t).balance_limit/o.user.current_working_hours.weekly_working_hours,2)+"x wöchentliche Arbeitszeit":"","error-messages":e(t).errors.balance_limit},null,8,["modelValue","hint","error-messages"])]}),_:1}),a(r,{cols:"12",class:"text-end"},{default:i(()=>[a(m,{type:"submit",color:"primary",loading:e(t).processing},{default:i(()=>[...n[6]||(n[6]=[_("Speichern",-1)])]),_:1},8,["loading"])]),_:1})]),_:1})]),_:1},8,["onSubmit"])]),_:2},1024)]),_:2},1032,["title"])]),_:1}))}});export{D as _};
