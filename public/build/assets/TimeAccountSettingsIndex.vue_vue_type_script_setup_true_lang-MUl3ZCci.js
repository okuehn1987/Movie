import{d as V,a as m,o as c,b as e,f as t,q as f,u as n,e as h,I as C,V as d,g as S,B as k,k as _,M as T,N as i,O as N,G as b,j as u,m as p,l as g,H as v}from"./app-BxPCh3-u.js";import{e as y,h as x}from"./utils-CjLNheiK.js";const A=[null,"1","3","6","12"],I=V({__name:"TimeAccountSettingsIndex",props:{timeAccountSettings:{}},setup(B){const a=useForm({type:"",truncation_cycle_length_in_months:null});return(r,l)=>(c(),m(d,null,{default:e(()=>[t(f,{items:r.timeAccountSettings.map(o=>({...o,type:n(x)(o.type),truncation_cycle_length_in_months:n(y)(o.truncation_cycle_length_in_months)})),headers:[{title:"Art",key:"type"},{title:"Berechnungszeitraum",key:"truncation_cycle_length_in_months"},{title:"",key:"actions",align:"end"}]},{"header.actions":e(()=>[r.can("timeAccountSetting","create")?(c(),m(C,{key:0,"max-width":"1000"},{activator:e(({props:o})=>[t(u,v(o,{color:"primary"}),{default:e(()=>[t(g,{icon:"mdi-plus"})]),_:1},16)]),default:e(({isActive:o})=>[t(d,{title:"Neue Variante Erstellen"},{append:e(()=>[t(u,{icon:"",variant:"text",onClick:_(s=>o.value=!1,["stop"])},{default:e(()=>[t(g,null,{default:e(()=>[...l[2]||(l[2]=[p("mdi-close",-1)])]),_:1})]),_:1},8,["onClick"])]),default:e(()=>[t(S,null,{default:e(()=>[t(k,{onSubmit:_(s=>n(a).post(r.route("timeAccountSetting.store"),{onSuccess:()=>o.value=!1}),["prevent"])},{default:e(()=>[t(T,null,{default:e(()=>[t(i,{cols:"12",md:"6"},{default:e(()=>[t(N,{label:"Bezeichnung",modelValue:n(a).type,"onUpdate:modelValue":l[0]||(l[0]=s=>n(a).type=s),"error-messages":n(a).errors.type},null,8,["modelValue","error-messages"])]),_:1}),t(i,{cols:"12",md:"6"},{default:e(()=>[t(b,{items:n(A).map(s=>({title:n(y)(s),value:s})),label:"Berechnungszeitraum (optional)",modelValue:n(a).truncation_cycle_length_in_months,"onUpdate:modelValue":l[1]||(l[1]=s=>n(a).truncation_cycle_length_in_months=s),"error-messages":n(a).errors.truncation_cycle_length_in_months},null,8,["items","modelValue","error-messages"])]),_:1}),t(i,{cols:"12",class:"text-end"},{default:e(()=>[t(u,{type:"submit",color:"primary",loading:n(a).processing},{default:e(()=>[...l[3]||(l[3]=[p("Speichern",-1)])]),_:1},8,["loading"])]),_:1})]),_:1})]),_:1},8,["onSubmit"])]),_:2},1024)]),_:2},1024)]),_:1})):h("",!0)]),_:1},8,["items"])]),_:1}))}});export{I as _};
