import{d as b,a as y,o as q,b as l,f as a,K as m,L as t,V as g,y as U,i as e,D as w,T as x,l as u,Q as k,x as v,g as S,J as C,m as A,h as _,O as n,M as f,s as V,p,P as F}from"./app-DHH_BMJQ.js";import{A as O}from"./AdminLayout-CbCV0XxB.js";import{i as T,j as B}from"./utils-ClPNe2wo.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";const I=b({__name:"OrganizationIndex",props:{organizations:{},countries:{}},setup(D){const r=useForm({organization_name:"",organization_street:"",organization_house_number:"",organization_address_suffix:"",organization_country:"",organization_city:"",organization_zip:"",organization_federal_state:"",head_quarter_name:"",first_name:"",last_name:"",email:"",password:"",date_of_birth:""});function z(){r.post(route("organization.store"),{onSuccess:()=>r.reset()})}return(d,o)=>(q(),y(O,{title:"Organisationen"},{default:l(()=>[a(m,null,{default:l(()=>[a(t,{cols:"12"},{default:l(()=>[a(g,null,{default:l(()=>[a(U,{hover:"",headers:[{title:"id",key:"id"},{title:"owner_id",key:"owner_id"},{title:"name",key:"name"},{title:"created_at",key:"created_at"},{title:"",key:"action",align:"end"}],items:d.organizations.map(i=>({...e(T)(i),created_at:e(w).fromISO(i.created_at).toFormat("dd.MM.yyyy")}))},{"header.action":l(()=>[a(k,{"max-width":"1000"},{activator:l(({props:i})=>[a(u,F(i,{color:"primary"}),{default:l(()=>[a(p,{icon:"mdi-plus"})]),_:1},16)]),default:l(({isActive:i})=>[a(g,{title:"Organisation erstellen"},{append:l(()=>[a(u,{icon:"",variant:"text",onClick:s=>{i.value=!1,e(r).reset()}},{default:l(()=>[a(p,null,{default:l(()=>[...o[14]||(o[14]=[V("mdi-close",-1)])]),_:1})]),_:1},8,["onClick"])]),default:l(()=>[a(v),a(S,null,{default:l(()=>[a(C,{onSubmit:A(z,["prevent"])},{default:l(()=>[a(m,null,{default:l(()=>[a(t,{cols:"12"},{default:l(()=>[...o[15]||(o[15]=[_("h3",null,"Adresse",-1)])]),_:1}),a(t,{cols:"12",md:"6"},{default:l(()=>[a(n,{label:"Firmenname",required:"","error-messages":e(r).errors.organization_name,modelValue:e(r).organization_name,"onUpdate:modelValue":o[0]||(o[0]=s=>e(r).organization_name=s)},null,8,["error-messages","modelValue"])]),_:1}),a(t,{cols:"12",md:"6"},{default:l(()=>[a(n,{label:"Standortname",required:"","error-messages":e(r).errors.head_quarter_name,modelValue:e(r).head_quarter_name,"onUpdate:modelValue":o[1]||(o[1]=s=>e(r).head_quarter_name=s)},null,8,["error-messages","modelValue"])]),_:1}),a(t,{cols:"12",sm:"6"},{default:l(()=>[a(f,{"data-testid":"organizationLand",label:"Land",required:"",items:d.countries.map(s=>({title:s.title,value:s.value})),"error-messages":e(r).errors.organization_country,modelValue:e(r).organization_country,"onUpdate:modelValue":o[2]||(o[2]=s=>e(r).organization_country=s)},null,8,["items","error-messages","modelValue"])]),_:1}),a(t,{cols:"12",sm:"6"},{default:l(()=>[a(f,{"data-testid":"federalState",label:"Bundesland",items:e(B)(e(r).organization_country,d.countries),disabled:!e(r).organization_country,required:"","error-messages":e(r).errors.organization_federal_state,modelValue:e(r).organization_federal_state,"onUpdate:modelValue":o[3]||(o[3]=s=>e(r).organization_federal_state=s)},null,8,["items","disabled","error-messages","modelValue"])]),_:1}),a(t,{cols:"12",sm:"6"},{default:l(()=>[a(n,{label:"PLZ",required:"","error-messages":e(r).errors.organization_zip,modelValue:e(r).organization_zip,"onUpdate:modelValue":o[4]||(o[4]=s=>e(r).organization_zip=s)},null,8,["error-messages","modelValue"])]),_:1}),a(t,{cols:"12",sm:"6"},{default:l(()=>[a(n,{label:"Ort",required:"","error-messages":e(r).errors.organization_city,modelValue:e(r).organization_city,"onUpdate:modelValue":o[5]||(o[5]=s=>e(r).organization_city=s)},null,8,["error-messages","modelValue"])]),_:1}),a(t,{cols:"12",sm:"6"},{default:l(()=>[a(n,{label:"StraÃŸe",required:"","error-messages":e(r).errors.organization_street,modelValue:e(r).organization_street,"onUpdate:modelValue":o[6]||(o[6]=s=>e(r).organization_street=s)},null,8,["error-messages","modelValue"])]),_:1}),a(t,{cols:"12",sm:"6"},{default:l(()=>[a(n,{label:"Hausnummer",required:"","error-messages":e(r).errors.organization_house_number,modelValue:e(r).organization_house_number,"onUpdate:modelValue":o[7]||(o[7]=s=>e(r).organization_house_number=s)},null,8,["error-messages","modelValue"])]),_:1}),a(t,{cols:"12",sm:"6"},{default:l(()=>[a(n,{label:"Addresszusatz (optional)","error-messages":e(r).errors.organization_address_suffix,modelValue:e(r).organization_address_suffix,"onUpdate:modelValue":o[8]||(o[8]=s=>e(r).organization_address_suffix=s)},null,8,["error-messages","modelValue"])]),_:1}),a(t,{cols:"12"},{default:l(()=>[...o[16]||(o[16]=[_("h3",null,"Admin Account",-1)])]),_:1}),a(t,{cols:"12",sm:"6"},{default:l(()=>[a(n,{label:"Vorname",required:"","error-messages":e(r).errors.first_name,modelValue:e(r).first_name,"onUpdate:modelValue":o[9]||(o[9]=s=>e(r).first_name=s)},null,8,["error-messages","modelValue"])]),_:1}),a(t,{cols:"12",sm:"6"},{default:l(()=>[a(n,{label:"Nachname",required:"","error-messages":e(r).errors.last_name,modelValue:e(r).last_name,"onUpdate:modelValue":o[10]||(o[10]=s=>e(r).last_name=s)},null,8,["error-messages","modelValue"])]),_:1}),a(t,{cols:"12",sm:"6"},{default:l(()=>[a(n,{label:"E-Mail",required:"","error-messages":e(r).errors.email,modelValue:e(r).email,"onUpdate:modelValue":o[11]||(o[11]=s=>e(r).email=s)},null,8,["error-messages","modelValue"])]),_:1}),a(t,{cols:"12",sm:"6"},{default:l(()=>[a(n,{label:"Password",required:"","error-messages":e(r).errors.password,modelValue:e(r).password,"onUpdate:modelValue":o[12]||(o[12]=s=>e(r).password=s)},null,8,["error-messages","modelValue"])]),_:1}),a(t,{cols:"12",sm:"6"},{default:l(()=>[a(n,{type:"date",label:"Geburtsdatum",required:"","error-messages":e(r).errors.date_of_birth,modelValue:e(r).date_of_birth,"onUpdate:modelValue":o[13]||(o[13]=s=>e(r).date_of_birth=s)},null,8,["error-messages","modelValue"])]),_:1}),a(t,{cols:"12",class:"text-end"},{default:l(()=>[a(u,{type:"submit",color:"primary"},{default:l(()=>[...o[17]||(o[17]=[V("Erstellen",-1)])]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:2},1024)]),_:1})]),"item.action":l(({item:i})=>[a(e(x),{href:d.route("organization.show",{organization:i.id})},{default:l(()=>[a(u,{color:"primary",variant:"text",icon:"mdi-eye"})]),_:1},8,["href"])]),_:1},8,["items"])]),_:1})]),_:1})]),_:1})]),_:1}))}});export{I as default};
