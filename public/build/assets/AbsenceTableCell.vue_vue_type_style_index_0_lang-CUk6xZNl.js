import{d as p,H as m,D as i,o as n,C as r,B as u,t as f,j as y,I as h}from"./app-BcksVsO6.js";const k=["role","title"],_={key:0},C=p({__name:"AbsenceTableCell",props:{user:{},date:{},absences:{},absenceTypes:{},holidays:{}},setup(b){const a=b,t=m(()=>a.absences.find(e=>i.fromSQL(e.start)<=a.date&&a.date<=i.fromSQL(e.end)));function l(e,c){var s;return e.user_working_weeks.find(o=>{var d;return o[(d=c.setLocale("en-US").weekdayLong)==null?void 0:d.toLowerCase()]})&&!((s=a.holidays)!=null&&s[a.date.toFormat("yyyy-MM-dd")])}return(e,c)=>{var s,o;return n(),r("td",{class:h(["pa-0",{"editable-cell":e.can("absence","create",a.user)}]),style:u({backgroundColor:l(e.user,e.date)?"":"lightgray"}),role:e.can("absence","create",a.user)?"button":"cell",title:(s=a.holidays)==null?void 0:s[a.date.toFormat("yyyy-MM-dd")]},[t.value&&l(e.user,e.date)?(n(),r("div",{key:0,class:"h-100 w-100 d-flex justify-center align-center",style:u({backgroundColor:t.value.status=="accepted"?"#f99":"lightblue"})},[t.value.absence_type_id?(n(),r("span",_,f((o=t.value.absence_type)==null?void 0:o.abbreviation),1)):y("",!0)],4)):y("",!0)],14,k)}}});export{C as _};
