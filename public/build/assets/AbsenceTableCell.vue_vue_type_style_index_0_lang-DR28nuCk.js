import{d as b,H as m,D as y,o as n,C as r,F as p,t as _,j as k,I as f,B as h}from"./app-D3eSsqQ0.js";const g=["role","title"],C={key:0},v={key:1,class:"h-100 w-100",style:{"background-color":"#f99"}},L=b({__name:"AbsenceTableCell",props:{user:{},date:{},absences:{},absenceTypes:{},holidays:{}},setup(u){const a=u,d=m(()=>a.absences.find(e=>y.fromSQL(e.start)<=a.date&&a.date<=y.fromSQL(e.end)));function l(e,c){var s;return e.user_working_weeks.find(t=>{var o;return t[(o=c.setLocale("en-US").weekdayLong)==null?void 0:o.toLowerCase()]})&&!((s=a.holidays)!=null&&s[a.date.toFormat("yyyy-MM-dd")])}return(e,c)=>{var s,t;return n(),r("td",{class:f(["pa-0",{"editable-cell":e.can("absence","create",a.user)}]),style:h({backgroundColor:l(e.user,e.date)?"":"lightgray"}),role:e.can("absence","create",a.user)?"button":"cell",title:(s=a.holidays)==null?void 0:s[a.date.toFormat("yyyy-MM-dd")]},[d.value&&l(e.user,e.date)?(n(),r(p,{key:0},[d.value.absence_type_id?(n(),r("span",C,_((t=e.absenceTypes.find(o=>{var i;return o.id===((i=d.value)==null?void 0:i.absence_type_id)}))==null?void 0:t.abbreviation),1)):(n(),r("div",v))],64)):k("",!0)],14,g)}}});export{L as _};
