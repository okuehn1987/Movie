import{b as T,r as h}from"./utils-CUhokxno.js";import{d as V,W as b,o as a,c as o,b as n,u as s,A as v,g as u,k as d,al as c,x as m,t as i,h as x,E as D,R as P,Y as A,D as B}from"./app--IoUP8nr.js";const N={class:"text-black"},C={key:1},R=V({__name:"TimeAccountTransactions",props:{time_accounts:{},time_account_transactions:{}},setup(f){const p=f,{currentPage:l,data:k,lastPage:y}=T(b(p),"time_account_transactions",{tab:"timeAccountTransactions"});function g(r){return r.from_id&&r.to_id?"transfer":r.to_id?"positive":"negative"}function _(r){const t=p.time_accounts.find(e=>e.id==r);return t?(t==null?void 0:t.name)+(t!=null&&t.deleted_at?" (gelöscht)":""):""}return(r,t)=>(a(),o(v,{hover:"",items:s(k).map(e=>({...e,created_at:s(B).fromISO(e.created_at).toFormat("dd.MM.yyyy HH:ii"),transactionType:g(e),from:_(e.from_id),to:_(e.to_id),amount:s(h)(e.amount,2)})),headers:[{title:"",key:"transactionType",width:0,sortable:!1},{title:"Durchgeführt",key:"created_at"},{title:"Von",key:"from"},{title:"Nach",key:"to"},{title:"Durch",key:"modified_by"},{title:"Beschreibung",key:"description"},{title:"Stunden",key:"amount",align:"end",width:0,cellProps:{class:"pe-8"},headerProps:{class:"pe-8"}}]},{"item.transactionType":n(({item:e})=>[e.transactionType=="positive"?(a(),o(u,{key:0,icon:"mdi-plus-circle",color:"success"})):e.transactionType=="negative"?(a(),o(u,{key:1,icon:"mdi-minus-circle",color:"error"})):e.transactionType=="transfer"?(a(),o(u,{key:2,icon:"mdi-circle",color:"grey"})):d("",!0)]),"item.amount":n(({item:e})=>[e.transactionType=="positive"?(a(),o(c,{key:0,color:"success"},{default:n(()=>[m("span",null,"+ "+i(e.amount),1)]),_:2},1024)):e.transactionType=="negative"?(a(),o(c,{key:1,color:"error"},{default:n(()=>[m("span",null,"- "+i(e.amount),1)]),_:2},1024)):e.transactionType=="transfer"?(a(),o(c,{key:2,color:"grey"},{default:n(()=>[m("span",N,i(e.amount),1)]),_:2},1024)):d("",!0)]),"item.modified_by":n(({item:e})=>[e.modified_by?(a(),o(c,{key:0,color:"purple-darken-1"},{default:n(()=>[x(i(e.user.first_name)+" "+i(e.user.last_name),1)]),_:2},1024)):(a(),D("span",C,"System "))]),bottom:n(()=>[s(y)>1?(a(),o(P,{key:0,modelValue:s(l),"onUpdate:modelValue":t[0]||(t[0]=e=>A(l)?l.value=e:null),length:s(y)},null,8,["modelValue","length"])):d("",!0)]),_:1},8,["items"]))}});export{R as _};
