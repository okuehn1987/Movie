import{d as _,A as V,B as k,a as c,o as r,b as s,f as t,V as B,v as D,g as M,C as h,N,O as d,H as P,P as A,e as R,l as m,m as v,q as b,n as q,J as z,z as o}from"./app-BP7nPn1E.js";const T=_({__name:"ShowAbsenceModal",props:V({users:{},absence_types:{},selectedAbsence:{},absenceUser:{}},{modelValue:{type:Boolean,required:!0},modelModifiers:{}}),emits:V(["absenceReload"],["update:modelValue"]),setup(p,{emit:y}){const g=y,n=p,u=k(p,"modelValue");function C(){"absence_id"in n.selectedAbsence?o.get(route("dispute.index",{openAbsencePatch:n.selectedAbsence.absence_id})):o.get(route("dispute.index",{openAbsence:n.selectedAbsence.id}))}function w(){const e={onSuccess:()=>{u.value=!1,g("absenceReload")}};"absence_id"in n.selectedAbsence?o.delete(route("absencePatch.destroy",{absencePatch:n.selectedAbsence.id}),e):o.delete(route("absence.destroyDispute",{absence:n.selectedAbsence.id}),e)}return(e,l)=>(r(),c(z,{"max-width":"1000",modelValue:u.value,"onUpdate:modelValue":l[0]||(l[0]=i=>u.value=i)},{default:s(({isActive:i})=>{var f;return[t(B,{title:"Abwesenheit"+(e.selectedAbsence.user_id!=e.$page.props.auth.user.id?" von "+((f=e.users.map(a=>({...a,name:a.first_name+" "+a.last_name})).find(a=>a.id===e.selectedAbsence.user_id))==null?void 0:f.name):"")+" beantragen"},{append:s(()=>[t(m,{icon:"",variant:"text",onClick:a=>i.value=!1},{default:s(()=>[t(q,null,{default:s(()=>[...l[1]||(l[1]=[b("mdi-close",-1)])]),_:1})]),_:1},8,["onClick"])]),default:s(()=>[t(D),t(M,null,{default:s(()=>[t(h,{readonly:""},{default:s(()=>[t(N,null,{default:s(()=>[t(d,{cols:"12"},{default:s(()=>[t(P,{label:"Abwesenheitsgrund angeben",items:e.absence_types.map(a=>({title:a.name,value:a.id})),"model-value":e.selectedAbsence.absence_type_id},null,8,["items","model-value"])]),_:1}),t(d,{cols:"12",md:"6"},{default:s(()=>[t(A,{type:"date",label:"Von","model-value":e.selectedAbsence.start},null,8,["model-value"])]),_:1}),t(d,{cols:"12",md:"6"},{default:s(()=>[t(A,{type:"date",label:"Bis","model-value":e.selectedAbsence.end},null,8,["model-value"])]),_:1}),t(d,{cols:"12",class:"text-end"},{default:s(()=>[e.can("user","viewDisputes")?(r(),c(m,{key:0,onClick:v(C,["stop"]),type:"button",color:"primary"},{default:s(()=>[...l[2]||(l[2]=[b(" Antrag öffnen ",-1)])]),_:1})):e.can("absence","deleteDispute",e.selectedAbsence)?(r(),c(m,{key:1,onClick:v(w,["stop"]),type:"button",color:"primary"},{default:s(()=>[...l[3]||(l[3]=[b(" Antrag zurückziehen ",-1)])]),_:1})):R("",!0)]),_:1})]),_:1})]),_:1})]),_:1})]),_:2},1032,["title"])]}),_:1},8,["modelValue"]))}});export{T as _};
